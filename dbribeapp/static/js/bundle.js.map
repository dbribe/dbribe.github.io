{"version":3,"file":"bundle.js","sources":["../../../node_modules/stem-core/src/base/PageTitleManager.js","../../js/AppConfig.js","../../../node_modules/stem-core/src/base/Utils.js","../../../node_modules/stem-core/src/base/Dispatcher.js","../../../node_modules/stem-core/src/ui/NodeAttributes.js","../../../node_modules/stem-core/src/ui/Debug.js","../../../node_modules/stem-core/src/ui/UIBase.js","../../../node_modules/stem-core/src/ui/Constants.js","../../../node_modules/stem-core/src/ui/Utils.js","../../../node_modules/stem-core/src/ui/StyleElement.jsx","../../../node_modules/stem-core/src/decorators/Utils.js","../../../node_modules/stem-core/src/decorators/LazyInitialize.js","../../../node_modules/stem-core/src/decorators/Style.js","../../../node_modules/stem-core/src/ui/Style.js","../../../node_modules/stem-core/src/base/Device.js","../../../node_modules/stem-core/src/ui/Draggable.js","../../../node_modules/stem-core/src/ui/Color.js","../../../node_modules/stem-core/src/ui/style/Theme.js","../../../node_modules/stem-core/src/ui/GlobalStyle.js","../../../node_modules/stem-core/src/ui/Bootstrap3.jsx","../../../node_modules/stem-core/src/ui/UIPrimitives.jsx","../../../node_modules/stem-core/src/ui/input/Style.js","../../../node_modules/stem-core/src/ui/input/Input.jsx","../../../node_modules/stem-core/src/ui/form/Style.js","../../../node_modules/stem-core/src/ui/form/Form.jsx","../../../node_modules/stem-core/src/ui/svg/SVGNodeAttributes.js","../../../node_modules/stem-core/src/ui/svg/SVGBase.js","../../../node_modules/stem-core/src/ui/svg/SVGText.jsx","../../../node_modules/stem-core/src/math.js","../../../node_modules/stem-core/src/ui/svg/SVGPrimitives.js","../../../node_modules/stem-core/src/ui/Transition.js","../../../node_modules/stem-core/src/ui/svg/Animations.js","../../../node_modules/stem-core/src/ui/Switcher.jsx","../../../node_modules/stem-core/src/ui/Router.jsx","../../../node_modules/stem-core/src/ui/Translation.js","../../../node_modules/stem-core/src/ui/horizontal-overflow/Style.js","../../../node_modules/stem-core/src/ui/tabs/Style.js","../../../node_modules/stem-core/src/ui/tabs/TabArea.jsx","../../../node_modules/stem-core/src/ui/FontAwesome.jsx","../../../node_modules/stem-core/src/ui/horizontal-overflow/HorizontalOverflow.jsx","../../../node_modules/stem-core/src/ui/tabs/FlatTabArea.jsx","../../../node_modules/stem-core/src/data-structures/MultiMap.js","../../../node_modules/stem-core/src/polyfill/Headers.js","../../../node_modules/stem-core/src/polyfill/URLSearchParams.js","../../../node_modules/stem-core/src/polyfill/Body.js","../../../node_modules/stem-core/src/polyfill/Request.js","../../../node_modules/stem-core/src/polyfill/Response.js","../../../node_modules/stem-core/src/base/Fetch.js","../../../node_modules/stem-core/src/base/Ajax.js","../../../node_modules/stem-core/src/ui/button/ButtonStyle.js","../../../node_modules/stem-core/src/ui/button/Button.jsx","../../../node_modules/stem-core/src/ui/button/ButtonGroup.jsx","../../../node_modules/stem-core/src/ui/CardPanel.jsx","../../../node_modules/stem-core/src/ui/RowList.jsx","../../../node_modules/stem-core/src/ui/collapsible/Style.js","../../../node_modules/stem-core/src/ui/collapsible/CollapsibleMixin.jsx","../../../node_modules/stem-core/src/ui/collapsible/CollapsiblePanel.jsx","../../../node_modules/stem-core/src/ui/modal/Style.js","../../../node_modules/stem-core/src/ui/modal/FloatingWindow.jsx","../../../node_modules/stem-core/src/ui/modal/Modal.jsx","../../../node_modules/stem-core/src/ui/global-container/Style.js","../../../node_modules/stem-core/src/ui/global-container/GlobalContainer.jsx","../../../node_modules/stem-core/src/ui/section-divider/Divider.jsx","../../../node_modules/stem-core/src/ui/section-divider/Style.js","../../../node_modules/stem-core/src/ui/section-divider/SectionDivider.jsx","../../../node_modules/stem-core/src/ui/section-divider/TitledSectionDivider.jsx","../../../node_modules/stem-core/src/ui/section-divider/Accordion.jsx","../../../node_modules/stem-core/src/ui/Carousel.jsx","../../../node_modules/stem-core/src/ui/RangePanelStyle.js","../../../node_modules/stem-core/src/ui/RangePanel.jsx","../../../node_modules/stem-core/src/ui/table/Style.js","../../../node_modules/stem-core/src/ui/table/Table.jsx","../../../node_modules/stem-core/src/ui/table/CollapsibleTable.jsx","../../../node_modules/stem-core/src/ui/table/SortableTable.jsx","../../../node_modules/stem-core/src/time/Duration.js","../../../node_modules/stem-core/src/time/Date.js","../../../node_modules/stem-core/src/time/Time.js","../../../node_modules/stem-core/src/ui/DateTimePicker.jsx","../../../node_modules/stem-core/src/base/EnqueueableMethodMixin.js","../../../node_modules/stem-core/src/ui/CodeEditor.jsx","../../js/SVGComponents.jsx","../../js/IndexPage.jsx","../../js/Routes.js","../../js/App.jsx","../../../node_modules/stem-core/src/state/State.js"],"sourcesContent":["export class PageTitleManager {\n    static title = null;\n    static defaultTitle = \"Website\";\n    static prefix = null;\n\n    static getPrefix() {\n        return this.prefix ? \"(\" + this.prefix + \") \" : \"\";\n    }\n\n    static setPrefix(prefix) {\n        this.prefix = prefix;\n        this.updatePageTitle();\n    }\n\n    static setDefaultTitle(defaultTitle) {\n        this.defaultTitle = defaultTitle;\n    }\n\n    static getTitle() {\n        return this.title || this.defaultTitle;\n    }\n\n    static setTitle(title) {\n        this.title = title;\n        this.updatePageTitle();\n    }\n\n    static getFullPageTitle() {\n        return this.getPrefix() + this.getTitle();\n    }\n\n    static updatePageTitle() {\n        document.title = this.getFullPageTitle();\n    }\n\n    static setIcon() {\n        throw Error(\"Not implemented yet!\");\n    }\n}\n","import {PageTitleManager} from \"base/PageTitleManager\";\n\nPageTitleManager.setDefaultTitle(\"\");","// TODO: should this be renamed to \"toUnwrappedArray\"?\nexport function unwrapArray(elements) {\n    if (!elements) {\n        return [];\n    }\n\n    if (!Array.isArray(elements)) {\n        // In case this is an iterable, convert to array\n        if (elements[Symbol.iterator]) {\n            return unwrapArray(Array.from(elements));\n        } else {\n            return [elements];\n        }\n    }\n\n    // Check if the passed in array is valid, and try to return it if possible to preserve references\n    let allProperElements = true;\n    for (let i = 0; i < elements.length; i++) {\n        if (Array.isArray(elements[i]) || elements[i] == null) {\n            allProperElements = false;\n            break;\n        }\n    }\n\n    if (allProperElements) {\n        // Return the exact same array as was passed in\n        return elements;\n    }\n\n    let result = [];\n    for (let i = 0; i < elements.length; i++) {\n        if (Array.isArray(elements[i])) {\n            let unwrappedElement = unwrapArray(elements[i]);\n            for (let j = 0; j < unwrappedElement.length; j += 1) {\n                result.push(unwrappedElement[j]);\n            }\n        } else {\n            if (elements[i] != null) {\n                result.push(elements[i]);\n            }\n        }\n    }\n    return result;\n}\n\nexport function isLocalUrl(url, host=self.location.host, origin=self.location.origin) {\n    // Empty url is considered local\n    if (!url) {\n        return true;\n    }\n    // Protocol-relative url is local if the host matches\n    if (url.startsWith(\"//\")) {\n        return url.startsWith(\"//\" + host);\n    }\n    // Absolute url is local if the origin matches\n    let r = new RegExp(\"^(?:[a-z]+:)?//\", \"i\");\n    if (r.test(url)) {\n        return url.startsWith(origin);\n    }\n    // Root-relative and document-relative urls are always local\n    return true;\n}\n\n// Trims a local url to root-relative or document-relative url.\n// If the url is protocol-relative, removes the starting \"//\"+host, transforming it in a root-relative url.\n// If the url is absolute, removes the origin, transforming it in a root-relative url.\n// If the url is root-relative or document-relative, leaves it as is.\nexport function trimLocalUrl(url, host=self.location.host, origin=self.location.origin) {\n    if (!isLocalUrl(url, host, origin)) {\n        throw Error(\"Trying to trim non-local url!\");\n    }\n    if (!url) {\n        return url;\n    }\n    if (url.startsWith(\"//\" + host)) {\n        return url.slice((\"//\" + host).length);\n    }\n    if (url.startsWith(origin)) {\n        return url.slice(origin.length);\n    }\n    return url;\n}\n\n// Split the passed in array into arrays with at most maxChunkSize elements\nexport function splitInChunks(array, maxChunkSize) {\n    let chunks = [];\n    while (array.length > 0) {\n        chunks.push(array.splice(0, maxChunkSize));\n    }\n    return chunks;\n}\n\nexport function isIterable(obj) {\n    if (obj == null) {\n        return false;\n    }\n    return obj[Symbol.iterator] !== undefined;\n}\n\nexport function defaultComparator(a, b) {\n    if (a == null && b == null) {\n        return 0;\n    }\n\n    if (b == null) {\n        return 1;\n    }\n\n    if (a == null) {\n        return -1;\n    }\n\n    // TODO: might want to use valueof here\n    if (isNumber(a) && isNumber(b)) {\n        return a - b;\n    }\n\n    let aStr = a.toString();\n    let bStr = b.toString();\n\n    if (aStr === bStr) {\n        return 0;\n    }\n    return aStr < bStr ? -1 : 1;\n}\n\nexport function slugify(string) {\n    string = string.trim();\n\n    string = string.replace((/[^a-zA-Z0-9-\\s]/g), \"\"); // remove anything non-latin alphanumeric\n    string = string.replace((/\\s+/g), \"-\"); // replace whitespace with dashes\n    string = string.replace((/-{2,}/g), \"-\"); // remove consecutive dashes\n    string = string.toLowerCase();\n\n    return string;\n}\n\n// If the first argument is a number, it's returned concatenated with the suffix, otherwise it's returned unchanged\nexport function suffixNumber(value, suffix) {\n    if (typeof value === \"number\" || value instanceof Number) {\n        return value + suffix;\n    }\n    return value;\n}\n\nexport function setObjectPrototype(obj, Class) {\n    obj.__proto__ = Class.prototype;\n    return obj;\n}\n\nexport function isNumber(obj) {\n    return (typeof obj === \"number\") || (obj instanceof Number);\n}\n\nexport function isString(obj) {\n    return (typeof obj === \"string\") || (obj instanceof String);\n}\n\nexport function isPlainObject(obj) {\n    if (!obj || typeof obj !== \"object\" || obj.nodeType) {\n        return false;\n    }\n    if (obj.constructor && obj.constructor != Object) {\n        return false;\n    }\n    return true;\n}\n\nexport function deepCopy() {\n\tlet target = arguments[0] || {};\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif (typeof target !== \"object\" && typeof target !== \"function\") {\n\t\ttarget = {};\n\t}\n\n\tfor (let i = 1; i < arguments.length; i += 1) {\n        let obj = arguments[i];\n        if (obj == null) {\n            continue;\n        }\n\n        // Extend the base object\n        for (let [key, value] of Object.entries(obj)) {\n            // Recurse if we're merging plain objects or arrays\n            if (value && isPlainObject(value) || Array.isArray(value)) {\n                let clone;\n                let src = target[key];\n\n                if (Array.isArray(value)) {\n                    clone = (src && Array.isArray(src)) ? src : [];\n                } else {\n                    clone = (src && isPlainObject(src)) ? src : {};\n                }\n\n                target[key] = deepCopy(clone, value);\n            } else {\n                // TODO: if value has .clone() method, use that?\n                target[key] = value;\n            }\n        }\n\t}\n\n\treturn target;\n}\n\nexport function objectFromKeyValue(key, value) {\n    return {\n        [key]: value,\n    }\n}\n\nexport function dashCase(str) {\n    let rez = \"\";\n    for (let i = 0; i < str.length; i++) {\n        if (\"A\" <= str[i] && str[i] <= \"Z\") {\n            if (i > 0) {\n                rez += \"-\";\n            }\n            rez += str[i].toLowerCase();\n        } else {\n            rez += str[i];\n        }\n    }\n    return (rez == str) ? str : rez;\n}\n\n// TODO: have a Cookie helper file\nexport function getCookie(name) {\n    let cookies = (document.cookie || \"\").split(\";\");\n    for (let cookie of cookies) {\n        cookie = cookie.trim();\n        if (cookie.startsWith(name + \"=\")) {\n            return decodeURIComponent(cookie.substring(name.length + 1));\n        }\n    }\n    return null;\n}\n\nexport function uniqueId(obj) {\n    if (!uniqueId.objectWeakMap) {\n        uniqueId.objectWeakMap = new WeakMap();\n        uniqueId.constructorWeakMap = new WeakMap();\n        uniqueId.totalObjectCount = 0;\n    }\n    let objectWeakMap = uniqueId.objectWeakMap;\n    let constructorWeakMap = uniqueId.constructorWeakMap;\n    if (!objectWeakMap.has(obj)) {\n        const objConstructor = obj.constructor || obj.__proto__ || Object;\n        // Increment the object count\n        const objIndex = (constructorWeakMap.get(objConstructor) || 0) + 1;\n        constructorWeakMap.set(objConstructor, objIndex);\n\n        const objUniqueId = objIndex + \"-\" + (++uniqueId.totalObjectCount);\n        objectWeakMap.set(obj, objUniqueId);\n    }\n    return objectWeakMap.get(obj);\n}\n\n// TODO: should be done with String.padLeft\nexport function padNumber(num, minLength) {\n    let strNum = String(num);\n    while (strNum.length < minLength) {\n        strNum = \"0\" + strNum;\n    }\n    return strNum;\n}\n\n// Returns the english ordinal suffix of a number\nexport function getOrdinalSuffix(num) {\n    let suffixes = [\"th\", \"st\", \"nd\", \"rd\"];\n    let lastDigit = num % 10;\n    let isTeen = Math.floor(num / 10) % 10 === 1;\n    return (!isTeen && suffixes[lastDigit]) || suffixes[0];\n}\n\nexport function suffixWithOrdinal(num) {\n    return num + getOrdinalSuffix(num);\n}\n\nexport function instantiateNative(BaseClass, NewClass, ...args) {\n    let obj = new BaseClass(...args);\n    obj.__proto__ = NewClass.prototype;\n    return obj;\n}\n\n// This function can be used as a decorator in case we're extending native classes (Map/Set/Date)\n// and we want to fix the way babel breaks this scenario\n// WARNING: it destroys the code in constructor\n// If you want a custom constructor, you need to implement a static create method that generates new objects\n// Check the default constructor this code, or an example where this is done.\nexport function extendsNative(targetClass) {\n    if (targetClass.toString().includes(\" extends \")) {\n        // Native extended classes are cool, leave them as they are\n        return;\n    }\n    let BaseClass = targetClass.__proto__;\n    let allKeys = Object.getOwnPropertySymbols(targetClass).concat(Object.getOwnPropertyNames(targetClass));\n\n    // Fill in the default constructor\n    let newClass = targetClass.create || function create() {\n        return instantiateNative(BaseClass, newClass, ...arguments);\n        };\n    for (const key of allKeys) {\n        let property = Object.getOwnPropertyDescriptor(targetClass, key);\n        Object.defineProperty(newClass, key, property);\n    }\n    newClass.prototype = targetClass.prototype;\n    newClass.__proto__ = targetClass.__proto__;\n\n    newClass.prototype.constructor = newClass;\n\n    return newClass;\n}\n\nexport const NOOP_FUNCTION = () => undefined;\n\n// Helpers to wrap iterators, to wrap all values in a function or to filter them\nexport function* mapIterator(iter, func) {\n    for (let value of iter) {\n        yield func(value);\n    }\n}\n\nexport function* filterIterator(iter, func) {\n    for (let value of iter) {\n        if (func(value)) {\n            yield value;\n        }\n    }\n}\n\nexport class CallModifier {\n    wrap(func) {\n        throw Error(\"Implement wrap method\");\n    }\n\n    call(func) {\n        return this.wrap(func)();\n    }\n\n    toFunction() {\n        return (func) => this.wrap(func);\n    }\n}\n\nexport class UnorderedCallDropper extends CallModifier {\n    index = 1;\n    lastExecuted = 0;\n\n    wrap(callback) {\n        const currentIndex = this.index++;\n        return (...args) => {\n            if (currentIndex > this.lastExecuted) {\n                this.lastExecuted = currentIndex;\n                return callback(...args);\n            }\n        }\n    }\n}\n\n/*\nCallThrottler acts both as a throttler and a debouncer, allowing you to combine both types of functionality.\nAvailable options:\n    - debounce (ms): delays the function call by x ms, each call extending the delay\n    - throttle (ms): keeps calls from happening with at most x ms between them. If debounce is also set, will make sure to\n    fire a debounced even if over x ms have passed. If equal to CallTimer.ON_ANIMATION_FRAME, means that we want to use\n    requestAnimationFrame instead of setTimeout, to execute before next frame redraw()\n    - dropThrottled (boolean, default false): any throttled function call is not delayed, but dropped\n */\nexport class CallThrottler extends CallModifier {\n    static ON_ANIMATION_FRAME = Symbol();\n    static AUTOMATIC = Symbol();\n\n    lastCallTime = 0;\n    pendingCall = null;\n    pendingCallArgs = [];\n    pendingCallExpectedTime = 0;\n    numCalls = 0;\n    totalCallDuration = 0;\n\n    constructor(options={}) {\n        super();\n        Object.assign(this, options);\n    }\n\n    isThrottleOnAnimationFrame() {\n        return this.throttle === this.constructor.ON_ANIMATION_FRAME;\n    }\n\n    clearPendingCall() {\n        this.pendingCall = null;\n        this.pendingCallArgs = [];\n        this.pendingCallExpectedTime = 0;\n    }\n\n    cancel() {\n        this.pendingCall && this.pendingCall.cancel();\n        this.clearPendingCall();\n    }\n\n    flush() {\n        this.pendingCall && this.pendingCall.flush();\n        this.clearPendingCall();\n    }\n\n    // API compatibility with cleanup jobs\n    cleanup() {\n        this.cancel();\n    }\n\n    computeExecutionDelay(timeNow) {\n        let executionDelay = null;\n        if (this.throttle != null) {\n            executionDelay = Math.max(this.lastCallTime + this.throttle - timeNow, 0);\n        }\n        if (this.debounce != null) {\n            executionDelay = Math.min(executionDelay != null ? executionDelay : this.debounce, this.debounce);\n        }\n        return executionDelay;\n    }\n\n    replacePendingCall(wrappedFunc, funcCall, funcCallArgs) {\n        this.cancel();\n        if (this.isThrottleOnAnimationFrame()) {\n            const cancelHandler = requestAnimationFrame(funcCall);\n            wrappedFunc.cancel = () => cancelAnimationFrame(cancelHandler);\n            return;\n        }\n\n        const timeNow = Date.now();\n        let executionDelay = this.computeExecutionDelay(timeNow);\n\n        if (this.dropThrottled) {\n            return executionDelay == 0 && funcCall();\n        }\n\n        const cancelHandler = setTimeout(funcCall, executionDelay);\n        wrappedFunc.cancel = () => clearTimeout(cancelHandler);\n        this.pendingCall = wrappedFunc;\n        this.pendingCallArgs = funcCallArgs;\n        this.pendingCallExpectedTime = timeNow + executionDelay;\n    }\n\n    updatePendingCall(args) {\n        this.pendingCallArgs = args;\n        if (!this.isThrottleOnAnimationFrame()) {\n            const timeNow = Date.now();\n            this.pendingCallExpectedTime = timeNow + this.computeExecutionDelay(timeNow);\n        }\n    }\n\n    wrap(func) {\n        const funcCall = () => {\n            const timeNow = Date.now();\n            // The expected time when the function should be executed next might have been changed\n            // Check if that's the case, while allowing a 1ms error for time measurement\n            if (!this.isThrottleOnAnimationFrame() &&\n                timeNow + 1 < this.pendingCallExpectedTime) {\n                this.replacePendingCall(wrappedFunc, funcCall, this.pendingCallArgs);\n            } else {\n                this.lastCallTime = timeNow;\n                this.clearPendingCall();\n                func(...this.pendingCallArgs);\n            }\n        };\n\n        const wrappedFunc = (...args) => {\n            // Check if it's our function, and update the arguments and next execution time only\n            if (this.pendingCall && func === this.pendingCall.originalFunc) {\n                // We only need to update the arguments, and maybe mark that we want to executed later than scheduled\n                // It's an optimization to not invoke too many setTimeout/clearTimeout pairs\n                return this.updatePendingCall(args);\n            }\n            return this.replacePendingCall(wrappedFunc, funcCall, args);\n        };\n\n        wrappedFunc.originalFunc = func;\n        wrappedFunc.cancel = NOOP_FUNCTION;\n        wrappedFunc.flush = () => {\n            if (wrappedFunc === this.pendingCall) {\n                this.cancel();\n                wrappedFunc();\n            }\n        };\n        return wrappedFunc;\n    }\n}\n\n// export function benchmarkThrottle(options={}) {\n//     const startTime = performance.now();\n//     const calls = options.calls || 100000;\n//\n//     const throttler = new CallThrottler({throttle: options.throttle || 300, debounce: options.debounce || 100});\n//\n//     const func = options.func || NOOP_FUNCTION;\n//\n//     const wrappedFunc = throttler.wrap(func);\n//\n//     for (let i = 0; i < calls; i += 1) {\n//         wrappedFunc();\n//     }\n//     console.warn(\"Throttle benchmark:\", performance.now() - startTime, \"for\", calls, \"calls\");\n// }","class DispatcherHandle {\n    constructor(dispatcher, callback) {\n        this.dispatcher = dispatcher;\n        this.callback = callback;\n    }\n\n    remove() {\n        if (!this.dispatcher) {\n            console.warn(\"Removing a dispatcher twice\");\n            return;\n        }\n        this.dispatcher.removeListener(this.callback);\n        this.dispatcher = undefined;\n        this.callback = undefined;\n    }\n\n    cleanup() {\n        this.remove();\n    }\n}\n\nclass Dispatcher {\n    constructor(options = {}) {\n        this.options = options;\n        this.listeners = [];\n    }\n\n    callbackExists(callback) {\n        for (let i = 0; i < this.listeners.length; i += 1) {\n            if (this.listeners[i] === callback) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    addListener(callback) {\n        if (!(typeof callback === \"function\")) {\n            console.error(\"The listener needs to be a function: \", callback);\n            return;\n        }\n        if (this.callbackExists(callback)) {\n            console.error(\"Can't re-register for the same callback: \", this, \" \", callback);\n            return;\n        }\n\n        this.listeners.push(callback);\n        return new DispatcherHandle(this, callback);\n    };\n\n    addListenerOnce(callback) {\n        let handler = this.addListener(function () {\n            callback(...arguments);\n            handler.remove();\n        });\n        return handler;\n    }\n\n    removeListener(callback) {\n        for (let i = 0; i < this.listeners.length; i += 1) {\n            if (this.listeners[i] === callback) {\n                // Erase and return\n                return this.listeners.splice(i, 1)[0];\n            }\n        }\n    };\n\n    removeAllListeners() {\n        this.listeners = [];\n    }\n\n    dispatch(payload) {\n        for (let i = 0; i < this.listeners.length; ) {\n            let listener = this.listeners[i];\n            // TODO: optimize common cases\n            listener(...arguments);\n            // In case the current listener deleted itself, keep the loop counter the same\n            // If it deleted listeners that were executed before it, that's just wrong and there are no guaranteed about\n            if (listener === this.listeners[i]) {\n                i++;\n            }\n        }\n    };\n}\n\nexport const DispatchersSymbol = Symbol(\"Dispatchers\");\n\nclass Dispatchable {\n    get dispatchers() {\n        return this[DispatchersSymbol] || (this[DispatchersSymbol] = new Map());\n    }\n\n    getDispatcher(name) {\n        return this.dispatchers.get(name);\n    }\n\n    dispatch(name, payload) {\n        let dispatcher = this.getDispatcher(name);\n        if (dispatcher) {\n            // Optimize the average case\n            if (arguments.length <= 2) {\n                dispatcher.dispatch(payload);\n            } else {\n                let args = Array.prototype.slice.call(arguments, 1);\n                dispatcher.dispatch(...args);\n            }\n        }\n    }\n\n    addListener(name, callback) {\n        if (Array.isArray(name)) {\n            return new CleanupJobs(name.map(x => this.addListener(x, callback)));\n        }\n        let dispatcher = this.getDispatcher(name);\n        if (!dispatcher) {\n            dispatcher = new Dispatcher();\n            this.dispatchers.set(name, dispatcher);\n        }\n        return dispatcher.addListener(callback);\n    }\n\n    // TODO: remove some duplicated logic with method above\n    addListenerOnce(name, callback) {\n        if (Array.isArray(name)) {\n            return new CleanupJobs(name.map(x => this.addListenerOnce(x, callback)));\n        }\n        let dispatcher = this.getDispatcher(name);\n        if (!dispatcher) {\n            dispatcher = new Dispatcher();\n            this.dispatchers.set(name, dispatcher);\n        }\n        return dispatcher.addListenerOnce(callback);\n    }\n\n    removeListener(name, callback) {\n        let dispatcher = this.getDispatcher(name);\n        if (dispatcher) {\n            dispatcher.removeListener(callback);\n        }\n    }\n\n    cleanup() {\n        this.runCleanupJobs();\n        delete this[DispatchersSymbol];\n    }\n\n    // These function don't really belong here, but they don't really hurt here and I don't want a long proto chain\n    // Add anything that needs to be called on cleanup here (dispatchers, etc)\n    addCleanupJob(cleanupJob) {\n        if (!this.hasOwnProperty(\"_cleanupJobs\")) {\n            this._cleanupJobs = new CleanupJobs();\n        }\n        this._cleanupJobs.add(cleanupJob);\n        return cleanupJob;\n    }\n\n    runCleanupJobs() {\n        if (this._cleanupJobs) {\n            this._cleanupJobs.cleanup();\n        }\n    }\n\n    detachListener(dispatcherHandle) {\n        if (this._cleanupJobs) {\n            this._cleanupJobs.remove(dispatcherHandle);\n        } else {\n            dispatcherHandle.remove();\n        }\n    }\n}\n\n// Creates a method that calls the method methodName on obj, and adds the result as a cleanup task\nfunction getAttachCleanupJobMethod(methodName) {\n    return function (obj) {\n        let args = Array.prototype.slice.call(arguments, 1);\n        let handler = obj[methodName](...args);\n        this.addCleanupJob(handler);\n        return handler;\n    }\n}\n\n// Not sure if these should be added here, but meh\nDispatchable.prototype.attachListener       = getAttachCleanupJobMethod(\"addListener\");\nDispatchable.prototype.attachEventListener  = getAttachCleanupJobMethod(\"addEventListener\");\nDispatchable.prototype.attachCreateListener = getAttachCleanupJobMethod(\"addCreateListener\");\nDispatchable.prototype.attachUpdateListener = getAttachCleanupJobMethod(\"addUpdateListener\");\nDispatchable.prototype.attachDeleteListener = getAttachCleanupJobMethod(\"addDeleteListener\");\n\nDispatcher.Global = new Dispatchable();\n\nclass RunOnce {\n    run(callback, timeout = 0) {\n        if (this.timeout) {\n            return;\n        }\n        this.timeout = setTimeout(() => {\n            callback();\n            this.timeout = undefined;\n        }, timeout);\n    }\n}\n\nclass CleanupJobs {\n    constructor(jobs = []) {\n        this.jobs = jobs;\n    }\n\n    add(job) {\n        this.jobs.push(job);\n    }\n\n    cleanup() {\n        for (let job of this.jobs) {\n            if (typeof job.cleanup === \"function\") {\n                job.cleanup();\n            } else if (typeof job.remove === \"function\" ) {\n                job.remove();\n            } else {\n                job();\n            }\n        }\n        this.jobs = [];\n    }\n\n    remove(job) {\n        if (job) {\n            const index = this.jobs.indexOf(job);\n            if (index >= 0) {\n                this.jobs.splice(index, 1);\n            }\n            job.remove();\n        } else {\n            this.cleanup();\n        }\n    }\n}\n\n// Class that can be used to pass around ownership of a resource.\n// It informs the previous owner of the change (once) and dispatches the new element for all listeners\n// TODO: a better name\nclass SingleActiveElementDispatcher extends Dispatcher {\n    setActive(element, addChangeListener, forceDispatch) {\n        if (!forceDispatch && element === this._active) {\n            return;\n        }\n        this._active = element;\n        this.dispatch(element);\n        if (addChangeListener) {\n            this.addListenerOnce((newElement) => {\n                if (newElement != element) {\n                    addChangeListener(newElement);\n                }\n            });\n        }\n    }\n\n    getActive() {\n        return this._active;\n    }\n}\n\nexport {Dispatcher, Dispatchable, RunOnce, CleanupJobs, SingleActiveElementDispatcher, getAttachCleanupJobMethod};\n","import {dashCase, setObjectPrototype} from \"../base/Utils\";\n\nexport const defaultToPixelsAttributes = new Set([\n    \"border-bottom-width\",\n    \"border-left-width\",\n    \"border-right-width\",\n    \"border-top-width\",\n    \"border-width\",\n    \"bottom\",\n    \"font-size\",\n    \"font-stretch\",\n    \"height\",\n    \"layer-grid-char\",\n    \"layer-grid-char-spacing\",\n    \"layer-grid-line\",\n    \"left\",\n    \"letter-spacing\",\n    \"line-height\",\n    \"margin\",\n    \"margin-bottom\",\n    \"margin-left\",\n    \"margin-right\",\n    \"margin-top\",\n    \"marker-offset\",\n    \"max-height\",\n    \"max-width\",\n    \"min-height\",\n    \"min-width\",\n    \"outline-width\",\n    \"padding\",\n    \"padding-bottom\",\n    \"padding-left\",\n    \"padding-right\",\n    \"padding-top\",\n    \"right\",\n    \"size\",\n    \"top\",\n    \"width\",\n    \"word-spacing\",\n]);\n\nexport function CreateNodeAttributesMap(oldAttributesMap, allowedAttributesArray) {\n    let allowedAttributesMap = new Map(oldAttributesMap);\n\n    for (let attribute of allowedAttributesArray || []) {\n        if (!attribute) continue;\n        if (!Array.isArray(attribute)) {\n            attribute = [attribute];\n        }\n        allowedAttributesMap.set(attribute[0], attribute[1] || {});\n    }\n\n    allowedAttributesMap.reverseNameMap = new Map();\n\n    for (let [key, value] of allowedAttributesMap) {\n        value = value || {};\n\n        value.domName = value.domName || key;\n\n        allowedAttributesMap.reverseNameMap.set(value.domName, key);\n\n        allowedAttributesMap.set(key, value);\n    }\n    return allowedAttributesMap;\n}\n\n// A class that can be used to work with a className field as with a Set, while having a toString() usable in the DOM\n// It's used when a UI object has a className attribute, that a string, but we still want it to be modified if we call addClass and removeClass\n// In that case, the string gets converted to a ClassNameSet\nexport class ClassNameSet extends Set {\n    // Can't use classic super in constructor since Set is build-in type and will throw an error\n    // TODO: see if could still be made to have this as constructor\n    static create(className) {\n        let value = new Set(String(className || \"\").split(\" \"));\n        return setObjectPrototype(value, this);\n    }\n\n    toString() {\n        return Array.from(this).join(\" \");\n    }\n}\n\nexport class NodeAttributes {\n    constructor(obj) {\n        Object.assign(this, obj);\n        // className and style should be deep copied to be modifiable, the others shallow copied\n        if (this.className instanceof ClassNameSet) {\n            this.className = ClassNameSet.create(String(this.className));\n        }\n        if (this.style) {\n            this.style = Object.assign({}, this.style);\n        }\n    }\n\n    // TODO: should this use the domName or the reverseName? Still needs work\n    setAttribute(key, value, node, attributesMap=this.constructor.defaultAttributesMap) {\n        // TODO: might want to find a better way than whitelistAttributes field to do this\n        if (!attributesMap.has(key)) {\n            this.whitelistedAttributes = this.whitelistedAttributes || {};\n            this.whitelistedAttributes[key] = true;\n        }\n        this[key] = value;\n        if (node) {\n            this.applyAttribute(key, node, attributesMap);\n        }\n    }\n\n    applyStyleToNode(key, value, node) {\n        if (typeof value === \"function\") {\n            value = value();\n        }\n        if ((value instanceof Number || typeof value === \"number\") &&\n            value != 0 && defaultToPixelsAttributes.has(dashCase(key))) {\n            value = value + \"px\";\n        }\n        if (node && node.style[key] !== value) {\n            node.style[key] = value;\n        }\n    }\n\n    setStyle(key, value, node) {\n        if (!(typeof key === \"string\" || key instanceof String)) {\n            // If the key is not a string, it should be a plain object\n            for (const styleKey of Object.keys(key)) {\n                this.setStyle(styleKey, key[styleKey], node);\n            }\n            return;\n        }\n        if (value === undefined) {\n            this.removeStyle(key, node);\n            return;\n        }\n        this.style = this.style || {};\n        this.style[key] = value;\n        this.applyStyleToNode(key, value, node);\n    }\n\n    removeStyle(key, node) {\n        if (this.style) {\n            delete this.style[key];\n        }\n        if (node && node.style[key]) {\n            delete node.style[key];\n        }\n    }\n\n    static getClassArray(classes) {\n        if (!classes) {\n            return [];\n        }\n        if (Array.isArray(classes)) {\n            return classes.map(x => String(x).trim());\n        } else {\n            return String(classes).trim().split(\" \");\n        }\n    }\n\n    getClassNameSet() {\n        if (!(this.className instanceof ClassNameSet)) {\n            this.className = ClassNameSet.create(this.className || \"\");\n        }\n        return this.className;\n    }\n\n    addClass(classes, node) {\n        classes = this.constructor.getClassArray(classes);\n\n        for (let cls of classes) {\n            this.getClassNameSet().add(cls);\n            if (node) {\n                node.classList.add(cls);\n            }\n        }\n    }\n\n    removeClass(classes, node) {\n        classes = this.constructor.getClassArray(classes);\n\n        for (let cls of classes) {\n            this.getClassNameSet().delete(cls);\n            if (node) {\n                node.classList.remove(cls);\n            }\n        }\n    }\n\n    hasClass(className) {\n        return this.getClassNameSet().has(className);\n    }\n\n    applyAttribute(key, node, attributesMap) {\n        let attributeOptions = attributesMap.get(key);\n        if (!attributeOptions) {\n            if (this.whitelistedAttributes && (key in this.whitelistedAttributes)) {\n                attributeOptions = {\n                    domName: key,\n                }\n            } else {\n                return;\n            }\n        }\n        let value = this[key];\n        if (typeof value === \"function\") {\n            value = value();\n        }\n        if (attributeOptions.noValue) {\n            if (value) {\n                value = \"\";\n            } else {\n                value = undefined;\n            }\n        }\n        if (typeof value !== \"undefined\") {\n            node.setAttribute(attributeOptions.domName, value);\n        } else {\n            node.removeAttribute(attributeOptions.domName);\n        }\n    }\n\n    applyClassName(node) {\n        if (this.className) {\n            const className = String(this.className);\n            if (node.className != className) {\n                node.className = className;\n            }\n        } else {\n            if (node.className) {\n                node.removeAttribute(\"class\");\n            }\n        }\n    }\n\n    apply(node, attributesMap) {\n        let addedAttributes = {};\n        let whitelistedAttributes = this.whitelistedAttributes || {};\n\n        // First update existing node attributes and delete old ones\n        // TODO: optimize to not run this if the node was freshly created\n        let nodeAttributes = node.attributes;\n        for (let i = nodeAttributes.length - 1; i >= 0; i--) {\n            let attr = nodeAttributes[i];\n            let attributeName = attr.name;\n            if (attributeName === \"style\" || attributeName === \"class\") {\n                // TODO: maybe should do work here?\n                continue;\n            }\n\n            let key = attributesMap.reverseNameMap.get(attributeName);\n\n            if (this.hasOwnProperty(key)) {\n                let value = this[key];\n                let attributeOptions = attributesMap.get(key);\n                if (attributeOptions && attributeOptions.noValue) {\n                    if (value) {\n                        value = \"\";\n                    } else {\n                        value = undefined;\n                    }\n                }\n                if (value != null) {\n                    node.setAttribute(attributeName, value);\n                    addedAttributes[key] = true;\n                } else {\n                    node.removeAttribute(attributeName);\n                }\n            } else {\n                node.removeAttribute(attributeName);\n            }\n        }\n        // Add new attributes\n        for (let key in this) {\n            if (addedAttributes[key]) {\n                continue;\n            }\n            this.applyAttribute(key, node, attributesMap);\n            // TODO: also whitelist data- and aria- keys here\n        }\n\n        this.applyClassName(node);\n\n        node.removeAttribute(\"style\");\n        if (this.style) {\n            for (let key in this.style) {\n                this.applyStyleToNode(key, this.style[key], node);\n            }\n        }\n    }\n}\n\n// Default node attributes, should be as few of these as possible\nNodeAttributes.defaultAttributesMap = CreateNodeAttributesMap([\n    [\"id\"],\n    [\"action\"],\n    [\"colspan\"],\n    [\"default\"],\n    [\"disabled\", {noValue: true}],\n    [\"fixed\"],\n    [\"forAttr\", {domName: \"for\"}], // TODO: have a consistent nomenclature for there!\n    [\"hidden\"],\n    [\"href\"],\n    [\"rel\"],\n    [\"minHeight\"],\n    [\"minWidth\"],\n    [\"role\"],\n    [\"target\"],\n    [\"HTMLtitle\", {domName: \"title\"}],\n    [\"type\"],\n    [\"placeholder\"],\n    [\"src\"],\n    [\"height\"],\n    [\"width\"],\n    //[\"value\"], // Value is intentionally disabled\n]);\n","export function applyDebugFlags(element) {\n    if (document.STEM_DEBUG) {\n        element.node.stemElement = element;\n        setTimeout(() => {\n            if (element.node.setAttribute) {\n                if (element.constructor.name !== \"UIElement\") {\n                    element.node.setAttribute(\"_\", element.constructor.name);\n                }\n            }\n        }, 0);\n    }\n}\n","import {unwrapArray, setObjectPrototype, suffixNumber, NOOP_FUNCTION} from \"../base/Utils\";\nimport {Dispatchable} from \"../base/Dispatcher\";\nimport {NodeAttributes} from \"./NodeAttributes\";\nimport {applyDebugFlags} from \"./Debug\";\n\nvar UI = {\n    renderingStack: [], //keeps track of objects that are redrawing, to know where to assign refs automatically\n};\n\nclass BaseUIElement extends Dispatchable {\n    canOverwrite(existingChild) {\n        return this.constructor === existingChild.constructor &&\n               this.getNodeType() === existingChild.getNodeType();\n    }\n\n    applyRef() {\n        if (this.options && this.options.ref) {\n            let obj = this.options.ref.parent;\n            let name = this.options.ref.name;\n            obj[name] = this;\n        }\n    }\n\n    removeRef() {\n        if (this.options && this.options.ref) {\n            let obj = this.options.ref.parent;\n            let name = this.options.ref.name;\n            if (obj[name] === this) {\n                obj[name] = undefined;\n            }\n        }\n    }\n\n    // Lifecycle methods, called when the element was first inserted in the DOM, and before it's removed\n    onMount() {}\n\n    onUnmount() {}\n\n    destroyNode() {\n        this.onUnmount();\n        this.cleanup();\n        this.removeRef();\n        this.node && this.node.remove();\n        delete this.node; // Clear for gc\n    }\n}\n\nUI.TextElement = class UITextElement extends BaseUIElement {\n    constructor(value=\"\") {\n        super();\n        if (value && value.hasOwnProperty(\"value\")) {\n            this.value = value.value;\n            this.options = value;\n        } else {\n            this.value = (value != null) ? value : \"\";\n        }\n    }\n\n    mount(parent, nextSibling) {\n        this.parent = parent;\n        if (!this.node) {\n            this.createNode();\n            this.applyRef();\n        } else {\n            this.redraw();\n        }\n        parent.node.insertBefore(this.node, nextSibling);\n        this.onMount();\n    }\n\n    getNodeType() {\n        return Node.TEXT_NODE;\n    }\n\n    copyState(element) {\n        this.value = element.value;\n        this.options = element.options;\n    }\n\n    createNode() {\n        this.node = document.createTextNode(this.getValue());\n        applyDebugFlags(this);\n        return this.node;\n    }\n\n    setValue(value) {\n        this.value = (value != null) ? value : \"\";\n        if (this.node) {\n            this.redraw();\n        }\n    }\n\n    getValue() {\n        return String(this.value);\n    }\n\n    redraw() {\n        if (this.node) {\n            let newValue = this.getValue();\n            // TODO: check if this is best for performance\n            if (this.node.nodeValue !== newValue) {\n                this.node.nodeValue = newValue;\n            }\n        }\n        this.applyRef();\n    }\n};\n\n// TODO: rename to Element\nclass UIElement extends BaseUIElement {\n    constructor(options={}) {\n        super();\n        this.children = [];\n        this.options = options; // TODO: this is a hack, to not break all the code that references this.options in setOptions\n        this.setOptions(options);\n    };\n\n    getDefaultOptions(options) {}\n\n    getPreservedOptions() {}\n\n    setOptions(options) {\n        let defaultOptions = this.getDefaultOptions(options);\n        if (defaultOptions) {\n            options = Object.assign(defaultOptions, options);\n        }\n        this.options = options;\n    }\n\n    updateOptions(options) {\n        this.setOptions(Object.assign(this.options, options));\n        this.redraw();\n    }\n\n    setChildren(...args) {\n        this.updateOptions({children: unwrapArray(args)})\n    }\n\n    // Used when we want to reuse the current element, with the options from the passed in argument\n    // Is only called when element.canOverwrite(this) is true\n    copyState(element) {\n        let options = element.options;\n        let preservedOptions = this.getPreservedOptions();\n        if (preservedOptions) {\n            options = Object.assign({}, options, preservedOptions);\n        }\n        this.setOptions(options);\n        this.addListenersFromOptions();\n    }\n\n    getNodeType() {\n        return this.options.nodeType || \"div\";\n    }\n\n    static create(parentNode, options) {\n        let uiElement = new this(options);\n        uiElement.mount(parentNode, null);\n        return uiElement;\n    }\n\n    // TODO: should be renamed to renderContent\n    getGivenChildren() {\n        return this.options.children || [];\n    }\n\n    render() {\n        return this.options.children;\n    };\n\n    createNode() {\n        this.node = document.createElement(this.getNodeType());\n        applyDebugFlags(this);\n        return this.node;\n    }\n\n    // Abstract, gets called when removing DOM node associated with the\n    cleanup() {\n        this.runCleanupJobs();\n        for (let child of this.children) {\n            child.destroyNode();\n        }\n        this.clearNode();\n        super.cleanup();\n    }\n\n    overwriteChild(existingChild, newChild) {\n        existingChild.copyState(newChild);\n        return existingChild;\n    }\n\n    getElementKeyMap(elements) {\n        if (!elements || !elements.length) {\n            return;\n        }\n        let childrenKeyMap = new Map();\n\n        for (let i = 0; i < elements.length; i += 1) {\n            let childKey = (elements[i].options && elements[i].options.key) || (\"autokey\" + i);\n\n            childrenKeyMap.set(childKey, elements[i]);\n        }\n\n        return childrenKeyMap;\n    }\n\n    getChildrenToRender() {\n        return this.render();\n    }\n\n    getChildrenForRedraw() {\n        UI.renderingStack.push(this);\n        let children = unwrapArray(this.getChildrenToRender());\n        UI.renderingStack.pop();\n        return children;\n    }\n\n    redraw() {\n        if (!this.node) {\n            console.error(\"Element not yet mounted. Redraw aborted!\", this);\n            return false;\n        }\n\n        let newChildren = this.getChildrenForRedraw();\n\n        if (newChildren === this.children) {\n            for (let i = 0; i < newChildren.length; i += 1) {\n                newChildren[i].redraw();\n            }\n            this.applyNodeAttributes();\n            this.applyRef();\n            return true;\n        }\n\n        let domNode = this.node;\n        let childrenKeyMap = this.getElementKeyMap(this.children);\n\n        for (let i = 0; i < newChildren.length; i++) {\n            let newChild = newChildren[i];\n            let prevChildNode = (i > 0) ? newChildren[i - 1].node : null;\n            let currentChildNode = (prevChildNode) ? prevChildNode.nextSibling : domNode.firstChild;\n\n            // Not a UIElement, to be converted to a TextElement\n            if (!newChild.getNodeType) {\n                newChild = newChildren[i] = new UI.TextElement(newChild);\n            }\n\n            let newChildKey = (newChild.options && newChild.options.key) || (\"autokey\" + i);\n            let existingChild = childrenKeyMap && childrenKeyMap.get(newChildKey);\n\n            if (existingChild && newChildren[i].canOverwrite(existingChild)) {\n                // We're replacing an existing child element, it might be the very same object\n                if (existingChild !== newChildren[i]) {\n                    newChildren[i] = this.overwriteChild(existingChild, newChildren[i]);\n                }\n                newChildren[i].redraw();\n                if (newChildren[i].node !== currentChildNode) {\n                    domNode.insertBefore(newChildren[i].node, currentChildNode);\n                }\n            } else {\n                // Getting here means we are not replacing anything, should just render\n                newChild.mount(this, currentChildNode);\n            }\n        }\n\n        if (this.children.length) {\n            // Remove children that don't need to be here\n            let newChildrenSet = new Set(newChildren);\n\n            for (let i = 0; i < this.children.length; i += 1) {\n                if (!newChildrenSet.has(this.children[i])) {\n                    this.children[i].destroyNode();\n                }\n            }\n        }\n\n        this.children = newChildren;\n\n        this.applyNodeAttributes();\n\n        this.applyRef();\n\n        return true;\n    }\n\n    getOptionsAsNodeAttributes() {\n        return setObjectPrototype(this.options, NodeAttributes);\n    }\n\n    getNodeAttributes(returnCopy=true) {\n        if (returnCopy) {\n            return new NodeAttributes(this.options);\n        } else {\n            return this.getOptionsAsNodeAttributes();\n        }\n    }\n\n    extraNodeAttributes(attr) {}\n\n    applyNodeAttributes() {\n        let attr;\n        if (this.extraNodeAttributes != NOOP_FUNCTION) {\n            // Create a copy of options, that is modifiable\n            attr = this.getNodeAttributes(true);\n            this.extraNodeAttributes(attr);\n        } else {\n            attr = this.getNodeAttributes(false);\n        }\n        attr.apply(this.node, this.constructor.domAttributesMap);\n    }\n\n    setAttribute(key, value) {\n        this.getOptionsAsNodeAttributes().setAttribute(key, value, this.node, this.constructor.domAttributesMap);\n    }\n\n    setStyle(key, value) {\n        this.getOptionsAsNodeAttributes().setStyle(key, value, this.node);\n    }\n\n    removeStyle(key) {\n        this.getOptionsAsNodeAttributes().removeStyle(key, this.node);\n    }\n\n    addClass(className) {\n        this.getOptionsAsNodeAttributes().addClass(className, this.node);\n    }\n\n    removeClass(className) {\n        this.getOptionsAsNodeAttributes().removeClass(className, this.node);\n    }\n\n    hasClass(className) {\n        return this.getOptionsAsNodeAttributes().hasClass(className);\n    }\n\n    toggleClass(className) {\n        if (!this.hasClass(className)) {\n            this.addClass(className);\n        } else {\n            this.removeClass(className);\n        }\n    }\n\n    get styleSheet() {\n        return this.getStyleSheet();\n    }\n\n    set styleSheet(value) {\n        this.options.styleSheet = value;\n        this.redraw();\n    }\n\n    addListenersFromOptions() {\n        for (const key in this.options) {\n            if (typeof key === \"string\" && key.startsWith(\"on\") && key.length > 2) {\n                const eventType = key.substring(2);\n\n                const addListenerMethodName = \"add\" + eventType + \"Listener\";\n                const handlerMethodName = \"on\" + eventType + \"Handler\";\n\n                // The handlerMethod might have been previously added\n                // by a previous call to this function or manually by the user\n                if (typeof this[addListenerMethodName] === \"function\" && !this.hasOwnProperty(handlerMethodName)) {\n                    this[handlerMethodName] = (event) => {\n                        UI.event = event;\n                        if (this.options[key]) {\n                            // TODO: arguments should be (event, this)!\n                            this.options[key](this, event);\n                        }\n                    };\n\n                    // Actually add the listener\n                    this[addListenerMethodName](this[handlerMethodName]);\n                }\n            }\n        }\n    }\n\n    refLink(name) {\n        return {parent: this, name: name};\n    }\n\n    refLinkArray(arrayName, index) {\n        if (!this.hasOwnProperty(arrayName)) {\n            this[arrayName] = [];\n        }\n        return {parent: this[arrayName], name: index};\n    }\n\n    bindToNode(node, doRedraw) {\n        this.node = node;\n        if (doRedraw) {\n            this.clearNode();\n            this.redraw();\n        }\n        return this;\n    }\n\n    mount(parent, nextSiblingNode) {\n        if (!parent.node) {\n            parent = new UI.Element().bindToNode(parent);\n        }\n        this.parent = parent;\n        if (this.node) {\n            parent.insertChildNodeBefore(this, nextSiblingNode);\n            this.dispatch(\"changeParent\", this.parent);\n            return;\n        }\n\n        this.createNode();\n        this.redraw();\n\n        parent.insertChildNodeBefore(this, nextSiblingNode);\n\n        this.addListenersFromOptions();\n\n        this.onMount();\n    }\n\n    // You need to overwrite the next child manipulation rutines if this.options.children !== this.children\n    appendChild(child) {\n        // TODO: the next check should be done with a decorator\n        if (this.children !== this.options.children) {\n            throw \"Can't properly handle appendChild, you need to implement it for \" + this.constructor;\n        }\n        this.options.children.push(child);\n        child.mount(this, null);\n        return child;\n    }\n\n    insertChild(child, position) {\n        if (this.children !== this.options.children) {\n            throw \"Can't properly handle insertChild, you need to implement it for \" + this.constructor;\n        }\n        position = position || 0;\n\n        this.options.children.splice(position, 0, child);\n\n        const nextChildNode = position + 1 < this.options.children.length ? this.children[position + 1].node : null;\n\n        child.mount(this, nextChildNode);\n\n        return child;\n    }\n\n    eraseChild(child, destroy = true) {\n        let index = this.options.children.indexOf(child);\n\n        if (index < 0) {\n            // child not found\n            return null;\n        }\n        return this.eraseChildAtIndex(index, destroy);\n    }\n\n    eraseChildAtIndex(index, destroy=true) {\n        if (index < 0 || index >= this.options.children.length) {\n            console.error(\"Erasing child at invalid index \", index, this.options.children.length);\n            return;\n        }\n        if (this.children !== this.options.children) {\n            throw \"Can't properly handle eraseChild, you need to implement it for \" + this.constructor;\n        }\n        let erasedChild = this.options.children.splice(index, 1)[0];\n        if (destroy) {\n            erasedChild.destroyNode();\n        } else {\n            this.node.removeChild(erasedChild.node);\n        }\n        return erasedChild;\n    }\n\n    eraseAllChildren() {\n        while (this.children.length > 0) {\n            this.eraseChildAtIndex(this.children.length - 1);\n        }\n    }\n\n    show() {\n        this.removeClass(\"hidden\");\n    }\n\n    hide() {\n        this.addClass(\"hidden\");\n    }\n\n    insertChildNodeBefore(childElement, nextSiblingNode) {\n        this.node.insertBefore(childElement.node, nextSiblingNode);\n    }\n\n    // TODO: should be renamed emptyNode()\n    clearNode() {\n        while (this.node && this.node.lastChild) {\n            this.node.removeChild(this.node.lastChild);\n        }\n    }\n\n    isInDocument() {\n        return document.body.contains(this.node);\n    }\n\n    // TODO: this method also doesn't belong here\n    getWidthOrHeight(parameter) {\n        let node = this.node;\n        if (!node) {\n            return 0;\n        }\n        let value = parseFloat(parameter === \"width\" ? node.offsetWidth : node.offsetHeight);\n        return value || 0;\n    }\n\n    getHeight() {\n        return this.getWidthOrHeight(\"height\");\n    };\n\n    getWidth() {\n        return this.getWidthOrHeight(\"width\");\n    }\n\n    setHeight(value) {\n        this.setStyle(\"height\", suffixNumber(value, \"px\"));\n        this.dispatch(\"resize\");\n    };\n\n    setWidth(value) {\n        this.setStyle(\"width\", suffixNumber(value, \"px\"));\n        this.dispatch(\"resize\");\n    }\n\n    addNodeListener(name, callback, ...args) {\n        this.node.addEventListener(name, callback, ...args);\n        const handler = {\n            remove: () => {\n                this.removeNodeListener(name, callback, ...args);\n            }\n        };\n        this.addCleanupJob(handler);\n        return handler;\n    }\n\n    removeNodeListener(name, callback) {\n        this.node.removeEventListener(name, callback);\n    }\n\n    // TODO: methods can be automatically generated by addNodeListener(UI.Element, \"dblclick\", \"DoubleClick\") for instance\n    addClickListener(callback) {\n        return this.addNodeListener(\"click\", callback);\n    }\n\n    removeClickListener(callback) {\n        this.removeNodeListener(\"click\", callback);\n    }\n\n    addDoubleClickListener(callback) {\n        return this.addNodeListener(\"dblclick\", callback);\n    }\n\n    removeDoubleClickListener(callback) {\n        this.removeNodeListener(\"dblclick\", callback);\n    }\n\n    addChangeListener(callback) {\n        return this.addNodeListener(\"change\", callback);\n    }\n}\n\nUI.createElement = function (tag, options, ...children) {\n    if (!tag) {\n        console.error(\"Create element needs a valid object tag, did you mistype a class name?\");\n        return;\n    }\n\n    options = options || {};\n\n    options.children = unwrapArray(children);\n\n    if (options.ref) {\n        if (typeof options.ref === \"string\") {\n            if (UI.renderingStack.length > 0) {\n                options.ref = {\n                    parent: UI.renderingStack[UI.renderingStack.length - 1],\n                    name: options.ref\n                };\n            } else {\n                throw Error(\"Failed to automatically link ref, there needs to be an element in the rendering stack\");\n            }\n        }\n\n        if (options.key) {\n            console.error(\"Warning! UI Element cannot have both a key and a ref fieldname. Key will be overriden.\\n\" +\n                          \"Are you using the options from another object? Shame!\", options);\n        }\n\n        options.key = \"_ref\" + options.ref.name;\n    }\n\n    if (options.hasOwnProperty(\"class\")) {\n        console.error(\"Invalid UI Element attribute: class. Did you mean className?\");\n    }\n\n    if (typeof tag === \"string\") {\n        options.nodeType = tag;\n        tag = UIElement;\n    }\n\n    return new tag(options);\n};\n\nUIElement.domAttributesMap = NodeAttributes.defaultAttributesMap;\n\n// Explicitly know that extraNodeAttributes doesn't do anything, but have it to be callable when doing inheritance\nUIElement.prototype.extraNodeAttributes = NOOP_FUNCTION;\n\nUI.Element = UIElement;\n\nUI.str = function (value) {\n    return new UI.TextElement(value);\n};\n\n// Keep a map for every base class, and for each base class keep a map for each nodeType, to cache classes\nlet primitiveMap = new WeakMap();\n\nUI.Primitive = (BaseClass, nodeType) => {\n    if (!nodeType) {\n        nodeType = BaseClass;\n        BaseClass = UI.Element;\n    }\n    let baseClassPrimitiveMap = primitiveMap.get(BaseClass);\n    if (!baseClassPrimitiveMap) {\n        baseClassPrimitiveMap = new Map();\n        primitiveMap.set(BaseClass, baseClassPrimitiveMap);\n    }\n    let resultClass = baseClassPrimitiveMap.get(nodeType);\n    if (resultClass) {\n        return resultClass;\n    }\n    resultClass = class Primitive extends BaseClass {\n        getNodeType() {\n            return nodeType;\n        }\n    };\n    baseClassPrimitiveMap.set(nodeType, resultClass);\n    return resultClass;\n};\n\nexport {UIElement, UI};\n","export const Orientation = {\n    HORIZONTAL: 1,\n    VERTICAL: 2,\n};\n\nexport const Direction = {\n    UP: \"up\",\n    LEFT: \"left\",\n    DOWN: \"down\",\n    RIGHT: \"right\",\n};\n\nexport const Level = {\n    NONE: null,\n    DEFAULT: \"default\",\n    INFO: \"info\",\n    PRIMARY: \"primary\",\n    SECONDARY: \"secondary\",\n    SUCCESS: \"success\",\n    WARNING: \"warning\",\n    DANGER: \"danger\",\n    ERROR: \"danger\",\n};\n\nexport const Size = {\n    NONE: null,\n    EXTRA_SMALL: \"xs\",\n    SMALL: \"sm\",\n    MEDIUM: \"default\",\n    DEFAULT: \"default\",\n    LARGE: \"lg\",\n    EXTRA_LARGE: \"xl\",\n};\n\nexport const VoteStatus = {\n    NONE: null,\n    LIKE: 1,\n    DISLIKE: 0,\n};\n\nexport const ActionStatus = {\n    DEFAULT: 1,\n    RUNNING: 2,\n    SUCCESS: 3,\n    FAILED: 4,\n};\n","import {UI} from \"./UIBase\";\n\nexport function getOffset(node) {\n    if (node instanceof UI.Element) {\n        node = node.node;\n    }\n    if (!node) {\n        return {left: 0, top: 0};\n    }\n    let nodePosition = node.style && node.style.position;\n    let left = 0;\n    let top = 0;\n    while (node) {\n        let nodeStyle = node.style || {};\n        if (nodePosition === \"absolute\" && nodeStyle.position === \"relative\") {\n            return {left: left, top: top};\n        }\n        left += node.offsetLeft;\n        top += node.offsetTop;\n        node = node.offsetParent;\n    }\n    return {left: left, top: top};\n}\n\nexport function getComputedStyle(node, attribute) {\n    if (node instanceof UI.Element) {\n        node = node.node;\n    }\n    let computedStyle = window.getComputedStyle(node, null);\n    return (attribute) ? computedStyle.getPropertyValue(attribute) : computedStyle;\n}\n\nexport function changeParent(element, newParent) {\n    const currentParent = element.parent;\n    currentParent.eraseChild(element, false);\n    newParent.appendChild(element);\n}\n","import {UI} from \"./UIBase\";\nimport {dashCase} from \"../base/Utils\";\nimport {NodeAttributes, defaultToPixelsAttributes} from \"./NodeAttributes\";\n\n// TODO: should this be actually better done throught the dynamic CSS API, without doing through the DOM?\n// So far it's actually better like this, since browsers like Chrome allow users to edit classes\nclass StyleInstance extends UI.TextElement {\n    constructor(options) {\n        super(options);\n        this.setOptions(options);\n    }\n\n    setOptions(options) {\n        this.options = options;\n        this.options.attributes = this.options.attributes || {};\n        this.attributes = new Map();\n        for (let key in this.options.attributes) {\n            this.attributes.set(key, this.options.attributes[key]);\n        }\n    }\n\n    getValue() {\n        let str = this.options.selector + \"{\";\n        for (let [key, value] of this.attributes) {\n            if (typeof value === \"function\") {\n                value = value();\n            }\n            // Ignore keys with null or undefined value\n            if (value == null) {\n                continue;\n            }\n\n            key = dashCase(key);\n\n            // If it's a size property, and the value is a number, assume it's in pixels\n            if ((value instanceof Number || typeof value === \"number\") &&\n                value != 0 && defaultToPixelsAttributes.has(key)) {\n                value = value + \"px\";\n            }\n\n            // TODO: if key starts with vendor-, replace it with the browser specific one (and the plain one)\n            str += key + \":\" + value + \";\";\n        }\n        return str + \"}\";\n    }\n\n    copyState(element) {\n        this.setOptions(element.options);\n    }\n\n    setAttribute(name, value) {\n        this.attributes.set(name, value);\n        this.redraw();\n    }\n\n    deleteAttribute(name) {\n        this.attributes.delete(name);\n        this.redraw();\n    }\n}\n\nclass StyleElement extends UI.Primitive(\"style\") {\n    getNodeAttributes() {\n        // TODO: allow custom style attributes (media, scoped, etc)\n        let attr = new NodeAttributes({});\n        if (this.options.name) {\n            attr.setAttribute(\"name\", this.options.name);\n        }\n        return attr;\n    }\n}\n\nconst ALLOWED_SELECTOR_STARTS = new Set([\":\", \">\", \" \", \"+\", \"~\", \"[\", \".\"]);\n\n// TODO: figure out how to work with animation frames, this only creates a wrapper class\nclass DynamicStyleElement extends StyleElement {\n    toString() {\n        return this.getClassName();\n    }\n\n    // Overwrite valueOf, so when using the + operator should seamlessly concatenate to create a valid className\n    valueOf() {\n        return \" \" + this.getClassName();\n    }\n\n    // TODO: use a cached decorator here\n    getClassName() {\n        if (this.className) {\n            return this.className;\n        }\n        this.constructor.instanceCounter = (this.constructor.instanceCounter || 0) + 1;\n        this.className = (this.options.name ||  \"autocls\") + \"-\" + this.constructor.instanceCounter;\n        return this.className;\n    }\n\n    getSelector() {\n        return this.options.selectorName || \".\" + this.getClassName();\n    }\n\n    // A cyclic dependency in the style object will cause an infinite loop here\n    getStyleInstances(selector, style) {\n        let result = [];\n        let ownStyle = {}, haveOwnStyle = false;\n        for (let key in style) {\n            let value = style[key];\n            if (value == null) {\n                continue;\n            }\n            let isProperValue = (typeof value === \"string\" || value instanceof String\n                              || typeof value === \"number\" || value instanceof Number\n                              || typeof value === \"function\");\n            if (isProperValue) {\n                ownStyle[key] = value;\n                haveOwnStyle = true;\n            } else {\n                // Check that this actually is a valid subselector\n                let firstChar = String(key).charAt(0);\n                if (!ALLOWED_SELECTOR_STARTS.has(firstChar)) {\n                    console.error(\"First character of your selector is invalid.\");\n                    continue;\n                }\n                // TODO: maybe optimize for waste here?\n                let subStyle = this.getStyleInstances(selector + key, value);\n                result.push(...subStyle);\n            }\n        }\n\n        if (haveOwnStyle) {\n            result.unshift(new StyleInstance({selector: selector, key: selector, attributes: ownStyle}));\n        }\n        return result;\n    }\n\n    render() {\n        let style = this.options.style || {};\n        if (typeof style === \"function\") {\n            style = style();\n        }\n        if (style.selectorName) {\n            this.options.selectorName = style.selectorName;\n            delete style.selectorName;\n        }\n        return this.getStyleInstances(this.getSelector(), style);\n    }\n\n    setStyle(key, value) {\n        this.options.style[key] = value;\n        this.children[0].setAttribute(key, value);\n    }\n\n    setSubStyle(selector, key, value) {\n        throw Error(\"Implement me!\");\n    }\n\n    getStyleObject() {\n        return this.options.style;\n    }\n}\n\nclass KeyframeElement extends StyleElement {\n    toString() {\n        return this.getKeyframeName();\n    }\n\n    getKeyframeName() {\n        if (this.keyframeName) {\n            return this.keyframeName;\n        }\n        this.constructor.instanceCounter = (this.constructor.instanceCounter || 0) + 1;\n        this.keyframeName = (this.options.name || \"autokeyframe\") + \"-\" + this.constructor.instanceCounter;\n        return this.keyframeName;\n    }\n\n    getValue(style) {\n        let str = \"{\";\n        for (let key in style) {\n            let value = style[key];\n            if (typeof value === \"function\") {\n                value = value();\n            }\n            if (value == null) {\n                continue;\n            }\n            str += dashCase(key) + \":\" + value + \";\";\n        }\n        return str + \"}\";\n    }\n\n    getKeyframeInstance(keyframe) {\n        let result = \"{\";\n        for (let key in keyframe) {\n            let value = keyframe[key];\n            result += key + \" \" + this.getValue(value);\n        }\n        return result + \"}\";\n    }\n\n    render() {\n        return \"@keyframes \" + this.getKeyframeName() + this.getKeyframeInstance(this.options.keyframe || {});\n    }\n}\n\nexport {StyleInstance, StyleElement, KeyframeElement, DynamicStyleElement}\n","export function isDescriptor(desc) {\n    if (!desc || !desc.hasOwnProperty) {\n        return false;\n    }\n\n    const keys = ['value', 'initializer', 'get', 'set'];\n\n    for (let key of keys) {\n        if (desc.hasOwnProperty(key)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function decorate(handleDescriptor, entryArgs) {\n    if (isDescriptor(entryArgs[entryArgs.length - 1])) {\n        return handleDescriptor(...entryArgs, []);\n    } else {\n        return function () {\n            return handleDescriptor(...arguments, entryArgs);\n        };\n    }\n}\n\nexport function createDefaultSetter(key) {\n    return function set(newValue) {\n        Object.defineProperty(this, key, {\n            configurable: true,\n            writable: true,\n            // IS enumerable when reassigned by the outside word\n            enumerable: true,\n            value: newValue\n        });\n\n        return newValue;\n    };\n}\n","import {decorate, createDefaultSetter} from './Utils';\n\nfunction handleDescriptor(target, key, descriptor) {\n    const { configurable, enumerable, initializer, value } = descriptor;\n    // The \"key\" property is constructed with accessor descriptor (getter / setter),\n    // but the first time the getter is used, the property is reconstructed with data descriptor.\n    return {\n        configurable,\n        enumerable,\n\n        get() {\n            // This happens if someone accesses the property directly on the prototype\n            if (this === target) {\n                return;\n            }\n\n            const ret = initializer ? initializer.call(this) : value;\n\n            Object.defineProperty(this, key, {\n                configurable,\n                enumerable,\n                writable: true,\n                value: ret\n            });\n\n            return ret;\n        },\n\n        set: createDefaultSetter(key)\n    };\n}\n\nexport function lazyInitialize(...args) {\n    return decorate(handleDescriptor, args);\n}\n\nlet lazyInit = lazyInitialize;\n\nexport {lazyInit};\n","import {deepCopy} from \"../base/Utils\";\nimport {lazyInit} from \"./LazyInitialize\";\n\nfunction evaluateStyleRuleObject(target, initializer, value, options) {\n    let result = initializer ? initializer.call(target) : value;\n    if (typeof result === \"function\") {\n        result = result();\n    }\n    if (Array.isArray(result)) {\n        result = Object.assign({}, ...result);\n    }\n    return result;\n}\n\nfunction getStyleRuleKey(key) {\n    return \"__style__\" + key;\n}\n\nfunction getKeyframesRuleKey(key) {\n    return \"__keyframes__\" + key;\n}\n\n// TODO: this function can be made a lot more generic, to wrap plain object initializer with inheritance support\nfunction styleRuleWithOptions() {\n    let options = Object.assign({}, ...arguments); //Simpler notation?\n    // TODO: Remove this if you don't think it's appropiate, I thought a warning would do no harm\n    if (!options.targetMethodName) {\n        console.error(\"WARNING: targetMethodName not specified in the options (default is \\\"css\\\")\");\n    }\n    let targetMethodName = options.targetMethodName || \"css\";\n\n    function styleRuleDecorator(target, key, descriptor) {\n        const {initializer, value} = descriptor;\n\n        descriptor.objInitializer = function () {\n            let style = evaluateStyleRuleObject(this, initializer, value, options);\n\n            // TODO: a bit of a hack, clean this up\n            style[\"prefferedClassName\"] = key;\n\n            if (options.selector) {\n                style[\"selectorName\"] = options.selector;\n            }\n\n            if (options.inherit) {\n                // Get the value we set in the prototype of the parent class\n                let parentDesc = Object.getPrototypeOf(target)[getStyleRuleKey(key)];\n                if (!parentDesc) {\n                    console.error(\"You're trying to inherit a rule that isn't implemented in the parent: \" + key);\n                }\n                let parentStyle = evaluateStyleRuleObject(this, parentDesc.objInitializer, parentDesc.value, options);\n                style = deepCopy({}, parentStyle, style);\n                return style;\n            }\n\n            return style;\n        };\n\n        // Change the prototype of this object to be able to access the old descriptor/value\n        target[options.getKey(key)] = Object.assign({}, descriptor);\n\n        descriptor.initializer = function () {\n            let style = descriptor.objInitializer.call(this);\n            return this[targetMethodName](style);\n        };\n\n        delete descriptor.value;\n\n        return lazyInit(target, key, descriptor);\n    }\n\n    return styleRuleDecorator;\n}\n\n// TODO: Second argument is mostly useless (implied from targetMethodName)\nlet styleRule = styleRuleWithOptions({\n    targetMethodName: \"css\",\n    getKey: getStyleRuleKey,\n    inherit: false,\n});\n\nlet styleRuleInherit = styleRuleWithOptions({\n    targetMethodName: \"css\",\n    getKey: getStyleRuleKey,\n    inherit: true,\n});\n\nexport function styleRuleCustom(options) {\n    return styleRuleWithOptions(Object.assign({\n        targetMethodName: \"css\",\n        getKey: getStyleRuleKey,\n        inherit: false,\n    }, options));\n}\n\nlet keyframesRule = styleRuleWithOptions({\n    targetMethodName: \"keyframes\",\n    getKey: getKeyframesRuleKey,\n    inherit: false,\n});\n\n// TODO: This is currently not working (I think)\nlet keyframesRuleInherit = styleRuleWithOptions({\n    targetMethodName: \"keyframes\",\n    getKey: getKeyframesRuleKey,\n    inherit: true,\n});\n\nexport {styleRule, styleRuleInherit, keyframesRule, keyframesRuleInherit, styleRuleWithOptions}\n\n","import {StyleElement, KeyframeElement, DynamicStyleElement} from \"./StyleElement\";\nimport {Dispatchable} from \"../base/Dispatcher\";\n\n// Class meant to group multiple classes inside a single <style> element, for convenience\n// TODO: pattern should be more robust, to be able to only update classes\nclass StyleSheet extends Dispatchable {\n    constructor(options={}) {\n        super();\n        this.options = Object.assign({\n            parent: document.head,\n            name: options.name || this.constructor.getElementName(), // call only if needed\n        }, options);\n        this.elements = new Set();\n        if (!this.options.delayedMount) {\n            this.ensureMounted();\n        }\n        this.getTheme().addStyleSheet(this);\n    }\n\n    ensureMounted() {\n        if (this.styleElement) {\n            return;\n        }\n        const styleElementOptions = {\n            children: [],\n            name: this.options.name,\n        };\n        this.styleElement = StyleElement.create(this.options.parent, styleElementOptions);\n    }\n\n    static getInstance() {\n        if (!this.hasOwnProperty(\"singletonInstance\")) {\n            this.singletonInstance = new this();\n        }\n        return this.singletonInstance;\n    }\n\n    // Generate an instance, and also make sure to instantiate all style elements\n    static initialize() {\n        const styleSheet = this.getInstance();\n\n        for (const key in this.prototype) {\n            // Just hit the getter to instantiate the style\n            if (!styleSheet[key]) {\n                console.log(\"This is here to prevent a bundling optimization bug\");\n            }\n        }\n    }\n\n    static getElementName() {\n        this.elementNameCounter = (this.elementNameCounter || 0) + 1;\n        let name = this.name;\n        if (this.elementNameCounter > 1) {\n            name += \"-\" + this.elementNameCounter;\n        }\n        return name;\n    }\n\n    getTheme() {\n        return this.options.theme || this.constructor.theme;\n    }\n\n    setTheme(theme) {\n        this.options.theme = theme;\n    }\n\n    getThemeProperty(key, defaultValue) {\n        const theme = this.getTheme();\n        return (theme && theme.getProperty(key, defaultValue)) || defaultValue;\n    }\n\n    get themeProperties() {\n        const theme = this.getTheme();\n        return (theme && theme.getProperties()) || {};\n    }\n\n    ensureFirstUpdate() {\n        if (this._firstUpdate) {\n            return;\n        }\n\n        this._firstUpdate = true;\n        this.ensureMounted();\n        // Call all listeners before update for the very first time, to update any possible variables\n        this.dispatch(\"beforeUpdate\", this);\n    }\n\n    css(style) {\n        this.ensureFirstUpdate();\n        if (arguments.length > 1) {\n            style = Object.assign({}, ...arguments);\n        }\n        let elementOptions = {style: style};\n\n        // Get the preferred name, maybe cleanup later\n        const nameKey = \"prefferedClassName\";\n        if (style[nameKey]) {\n            elementOptions.name = style[nameKey];\n            delete style[nameKey];\n        }\n\n        let element = new DynamicStyleElement(elementOptions);\n        this.elements.add(element);\n        let styleInstances = element.render();\n        for (let styleInstance of styleInstances) {\n            this.styleElement.appendChild(styleInstance);\n        }\n        return element;\n    }\n\n    keyframes(keyframes) {\n        this.ensureFirstUpdate();\n        // This is not really necessarily as I don't believe it will ever be used\n        if (arguments.length > 1) {\n            keyframes = Object.assign({}, ...arguments);\n        }\n        let element = new KeyframeElement({keyframe: keyframes});\n        this.elements.add(element);\n        this.styleElement.appendChild(element);\n        return element;\n    }\n\n    addBeforeUpdateListener(callback) {\n        return this.addListener(\"beforeUpdate\", callback);\n    }\n\n    update() {\n        if (!this._firstUpdate) {\n            return;\n        }\n        this.dispatch(\"beforeUpdate\", this);\n\n        for (const key of Object.keys(this)) {\n            if (this[key] instanceof DynamicStyleElement) {\n                const desc = this[\"__style__\" + key];\n                const func = desc && desc.objInitializer;\n                if (func) {\n                    this[key].options.style = func.call(this);\n                }\n            }\n        }\n\n        let children = [];\n        for (let value of this.elements) {\n            if (value instanceof StyleElement) {\n                let styleElements = value.render();\n                children.push(...styleElements);\n            }\n        }\n        this.styleElement.options.children = children;\n        this.styleElement.redraw();\n    }\n}\n\n// Helper class, meant to only keep one class active for an element from a set of classes\n// TODO: move to another file\nclass ExclusiveClassSet {\n    constructor(classList, element) {\n        // TODO: check that classList is an array (or at least iterable)\n        this.classList = classList;\n        this.element = element;\n    }\n\n    static fromObject(obj, element) {\n        let classList = [];\n        for (let key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                classList.push(obj[key]);\n            }\n        }\n        return Object.assign(new ExclusiveClassSet(classList, element), obj);\n    }\n\n    set(element, classInstance) {\n        if (!classInstance) {\n            classInstance = element;\n            element = this.element;\n        }\n        for (let cls of this.classList) {\n            if (cls === classInstance) {\n                element.addClass(cls);\n            } else {\n                element.removeClass(cls);\n            }\n        }\n    }\n}\n\nfunction wrapCSS(context, style) {\n    return {\n        [context]: style\n    };\n}\n\nfunction hover(style) {\n    return wrapCSS(\":hover\", style);\n}\n\nfunction active(style) {\n    return wrapCSS(\":active\", style);\n}\n\nfunction focus(style) {\n    return wrapCSS(\":focus\", style);\n}\n\nlet styleMap = new WeakMap();\n\nexport {StyleSheet, ExclusiveClassSet, styleMap, wrapCSS, hover, focus, active};\n\nexport * from \"../decorators/Style\";\n","// Primitive utils for wrapping browser info\nclass Device {\n    static isTouchDevice() {\n        if (!this.hasOwnProperty(\"_isTouchDevice\")) {\n            this._isTouchDevice = !!((\"createTouch\" in window.document) ||\n                                            (navigator.MaxTouchPoints > 0) ||\n                                            (navigator.msMaxTouchPoints > 0) ||\n                                            (\"ontouchstart\" in window));\n        }\n        return this._isTouchDevice;\n    }\n\n    static isMobileDevice() {\n        if (!this.hasOwnProperty(\"_isMobileDevice\")) {\n            const mobileDevices = [\"Android\", \"webOS\", \"iPad\", \"iPhone\", \"iPod\", \"BlackBerry\", \"Windows Phone\"];\n            this._isMobileDevice = false;\n            for (let device of mobileDevices) {\n                if (navigator.userAgent.indexOf(device) !== -1) {\n                    this._isMobileDevice = true;\n                }\n            }\n        }\n        return this._isMobileDevice;\n    }\n\n    static getEventTouchIdentifier(event) {\n        return Math.min(...[...event.touches].map(touch => touch.identifier));\n    }\n\n    static getEventTouch(event) {\n        const identifier = this.getEventTouchIdentifier(event);\n        return [...event.touches].find(touch => touch.identifier === identifier);\n    }\n\n    static getEventCoord(event, axis, reference=\"client\") {\n        let coordName = reference + axis;\n        if (event[coordName]) {\n            return event[coordName];\n        }\n        if (event.touches) {\n            return this.getEventTouch(event)[coordName];\n        }\n        if (event.originalEvent) {\n            return this.getEventCoord(event.originalEvent, axis, reference);\n        }\n\n        console.warn(\"Couldn't find coordinates for event. Maybe wrong reference point? (client/page/screen)\");\n    }\n\n    static getEventX(event, reference=\"client\") {\n        return this.getEventCoord(event, \"X\", reference);\n    }\n\n    static getEventY(event, reference=\"client\") {\n        return this.getEventCoord(event, \"Y\", reference);\n    }\n\n    static getBrowser() {\n        // TODO: should try to use navigator\n        if ((!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0) {\n            return \"Opera\";\n        }\n        if (typeof InstallTrigger !== 'undefined') {\n            return \"Firefox\";\n        }\n        if (Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0) {\n            return \"Safari\";\n        }\n        if (document.documentMode) {\n            return \"Internet Explorer\";\n        }\n        if (window.StyleMedia) {\n            return \"Edge\";\n        }\n        if (window.chrome && window.chrome.webstore) {\n            return \"Chrome\";\n        }\n        return \"Unknown\";\n    }\n\n    static supportsEvent(eventName) {\n        if (!this.cachedSupportedValues.has(eventName)) {\n            var element = document.createElement(\"div\");\n            let onEventName = \"on\" + eventName;\n            var isSupported = (onEventName in element);\n            if (!isSupported) {\n                element.setAttribute(onEventName, \"return;\");\n                isSupported = typeof element[onEventName] === \"function\";\n            }\n            element = null;\n            this.cachedSupportedValues.set(eventName, isSupported);\n        }\n        return this.cachedSupportedValues.get(eventName);\n    }\n}\n\nDevice.cachedSupportedValues = new Map();\n\nexport {Device};","import {Device} from \"../base/Device\";\n\nexport const Draggable = (BaseClass) => class Draggable extends BaseClass {\n    _clickCallbacks = new Map();\n    _clickDragListeners = new Map();\n\n    addClickListener(callback) {\n        if (this._clickCallbacks.has(callback)) {\n            return;\n        }\n        let callbackWrapper = () => {\n            if (this._okForClick) {\n                callback();\n            }\n        };\n        this._clickCallbacks.set(callback, callbackWrapper);\n        super.addClickListener(callbackWrapper);\n\n        if (this._clickDragListeners.has(callback)) {\n            return;\n        }\n        let clickDragListener = {\n            onStart: () => { this.dragForClickStarted(); },\n            onDrag: () => { this.dragForClick(); }\n        };\n        this._clickDragListeners.set(callback, clickDragListener);\n        this.addDragListener(clickDragListener);\n    }\n\n    dragForClickStarted() {\n        this._okForClick = true;\n    }\n\n    dragForClick() {\n        this._okForClick = false;\n    }\n\n    removeClickListener(callback) {\n        let callbackWrapper = this._clickCallbacks.get(callback);\n        if (callbackWrapper) {\n            this._clickCallbacks.delete(callback);\n            super.removeClickListener(callbackWrapper);\n        }\n        if (!this._clickDragListeners) {\n            return;\n        }\n        let clickDragListener = this._clickDragListeners.get(callback);\n        if (clickDragListener) {\n            this._clickDragListeners.delete(callback);\n            this.removeDragListener(clickDragListener);\n        }\n    }\n\n    createDragListenerWrapper(listeners) {\n        let listenerWrapper = Object.assign({}, listeners);\n\n        listenerWrapper.onWrapperDrag = (event) => {\n            const eventX = Device.getEventX(event), eventY = Device.getEventY(event);\n\n            let deltaX = eventX - listenerWrapper._lastX;\n            listenerWrapper._lastX = eventX;\n\n            let deltaY = eventY - listenerWrapper._lastY;\n            listenerWrapper._lastY = eventY;\n\n            listeners.onDrag(deltaX, deltaY);\n        };\n\n        listenerWrapper.onWrapperStart = (event) => {\n            listenerWrapper._lastX = Device.getEventX(event);\n            listenerWrapper._lastY = Device.getEventY(event);\n\n            if (listeners.onStart) {\n                listeners.onStart(event);\n            }\n\n            // TODO: Replace with our body\n            document.body.addEventListener(\"mousemove\", listenerWrapper.onWrapperDrag);\n        };\n\n        listenerWrapper.onWrapperEnd = (event) => {\n            if (listeners.onEnd) {\n                listeners.onEnd(event);\n            }\n            // TODO: Replace with our body\n            document.body.removeEventListener(\"mousemove\", listenerWrapper.onWrapperDrag);\n        };\n        return listenerWrapper;\n    }\n\n    createTouchDragListenerWrapper(listeners) {\n        let listenerWrapper = Object.assign({}, listeners);\n\n        listenerWrapper.onWrapperDrag = (event) => {\n            const eventX = Device.getEventX(event), eventY = Device.getEventY(event);\n\n            let deltaX = eventX - listenerWrapper._lastX;\n            listenerWrapper._lastX = eventX;\n\n            let deltaY = eventY - listenerWrapper._lastY;\n            listenerWrapper._lastY = eventY;\n\n            listeners.onDrag(deltaX, deltaY);\n        };\n\n        listenerWrapper.onWrapperStart = (event) => {\n            listenerWrapper._lastX = Device.getEventX(event);\n            listenerWrapper._lastY = Device.getEventY(event);\n            listenerWrapper.touchEventIdentifier = Device.getEventTouchIdentifier(event);\n\n            if (listeners.onStart) {\n                listeners.onStart(event);\n            }\n            event.preventDefault();\n\n            // TODO: Replace with our body\n            document.body.addEventListener(\"touchmove\", listenerWrapper.onWrapperDrag);\n        };\n\n        listenerWrapper.onWrapperEnd = (event) => {\n            if (event.touches.length && Device.getEventTouchIdentifier(event) === listenerWrapper.touchEventIdentifier) {\n                return;\n            }\n            if (listeners.onEnd) {\n                listeners.onEnd(event);\n            }\n            // TODO: Replace with our body\n            document.body.removeEventListener(\"touchmove\", listenerWrapper.onWrapperDrag);\n        };\n        return listenerWrapper;\n    }\n\n    addDragListener(listeners) {\n        let listenerWrapper = this.createDragListenerWrapper(listeners);\n        let touchListenerWrapper = this.createTouchDragListenerWrapper(listeners);\n        this.addNodeListener(\"touchstart\", touchListenerWrapper.onWrapperStart);\n        this.addNodeListener(\"mousedown\", listenerWrapper.onWrapperStart);\n        // TODO: Replace with our body\n        document.body.addEventListener(\"touchend\", touchListenerWrapper.onWrapperEnd);\n        document.body.addEventListener(\"mouseup\", listenerWrapper.onWrapperEnd);\n\n        if (!this.hasOwnProperty(\"_dragListeners\")) {\n            this._dragListeners = [];\n        }\n        this._dragListeners.push(touchListenerWrapper);\n        this._dragListeners.push(listenerWrapper);\n    }\n\n    removeDragListener(listeners) {\n        if (this._dragListeners) {\n            for (let i = this._dragListeners.length - 1; i >= 0; i -= 1) {\n                if (this._dragListeners[i].onStart === listeners.onStart &&\n                    this._dragListeners[i].onDrag === listeners.onDrag &&\n                    this._dragListeners[i].onEnd === listeners.onEnd) {\n\n                    this.removeNodeListener(\"touchstart\", this._dragListeners[i].onWrapperStart);\n                    document.body.removeEventListener(\"touchmove\", this._dragListeners[i].onWrapperDrag);\n                    document.body.removeEventListener(\"touchmove\", this._dragListeners[i].onWrapperEnd);\n                    this.removeNodeListener(\"mousedown\", this._dragListeners[i].onWrapperStart);\n                    document.body.removeEventListener(\"mousemove\", this._dragListeners[i].onWrapperDrag);\n                    document.body.removeEventListener(\"mousemove\", this._dragListeners[i].onWrapperEnd);\n\n                    this._dragListeners.splice(i, 1);\n                }\n            }\n        }\n    }\n};\n","export const COLORS_BY_NAME = {\n    aliceblue: \"#f0f8ff\",\n    antiquewhite: \"#faebd7\",\n    aqua: \"#00ffff\",\n    aquamarine: \"#7fffd4\",\n    azure: \"#f0ffff\",\n    beige: \"#f5f5dc\",\n    bisque: \"#ffe4c4\",\n    black: \"#000000\",\n    blanchedalmond: \"#ffebcd\",\n    blue: \"#0000ff\",\n    blueviolet: \"#8a2be2\",\n    brown: \"#a52a2a\",\n    burlywood: \"#deb887\",\n    cadetblue: \"#5f9ea0\",\n    chartreuse: \"#7fff00\",\n    chocolate: \"#d2691e\",\n    coral: \"#ff7f50\",\n    cornflowerblue: \"#6495ed\",\n    cornsilk: \"#fff8dc\",\n    crimson: \"#dc143c\",\n    cyan: \"#00ffff\",\n    darkblue: \"#00008b\",\n    darkcyan: \"#008b8b\",\n    darkgoldenrod: \"#b8860b\",\n    darkgray: \"#a9a9a9\",\n    darkgreen: \"#006400\",\n    darkkhaki: \"#bdb76b\",\n    darkmagenta: \"#8b008b\",\n    darkolivegreen: \"#556b2f\",\n    darkorange: \"#ff8c00\",\n    darkorchid: \"#9932cc\",\n    darkred: \"#8b0000\",\n    darksalmon: \"#e9967a\",\n    darkseagreen: \"#8fbc8f\",\n    darkslateblue: \"#483d8b\",\n    darkslategray: \"#2f4f4f\",\n    darkturquoise: \"#00ced1\",\n    darkviolet: \"#9400d3\",\n    deeppink: \"#ff1493\",\n    deepskyblue: \"#00bfff\",\n    dimgray: \"#696969\",\n    dodgerblue: \"#1e90ff\",\n    firebrick: \"#b22222\",\n    floralwhite: \"#fffaf0\",\n    forestgreen: \"#228b22\",\n    fuchsia: \"#ff00ff\",\n    gainsboro: \"#dcdcdc\",\n    ghostwhite: \"#f8f8ff\",\n    gold: \"#ffd700\",\n    goldenrod: \"#daa520\",\n    gray: \"#808080\",\n    green: \"#008000\",\n    greenyellow: \"#adff2f\",\n    honeydew: \"#f0fff0\",\n    hotpink: \"#ff69b4\",\n    indianred: \"#cd5c5c\",\n    indigo: \"#4b0082\",\n    ivory: \"#fffff0\",\n    khaki: \"#f0e68c\",\n    lavender: \"#e6e6fa\",\n    lavenderblush: \"#fff0f5\",\n    lawngreen: \"#7cfc00\",\n    lemonchiffon: \"#fffacd\",\n    lightblue: \"#add8e6\",\n    lightcoral: \"#f08080\",\n    lightcyan: \"#e0ffff\",\n    lightgoldenrodyellow: \"#fafad2\",\n    lightgray: \"#d3d3d3\",\n    lightgreen: \"#90ee90\",\n    lightpink: \"#ffb6c1\",\n    lightsalmon: \"#ffa07a\",\n    lightseagreen: \"#20b2aa\",\n    lightskyblue: \"#87cefa\",\n    lightslategray: \"#778899\",\n    lightsteelblue: \"#b0c4de\",\n    lightyellow: \"#ffffe0\",\n    lime: \"#00ff00\",\n    limegreen: \"#32cd32\",\n    linen: \"#faf0e6\",\n    magenta: \"#ff00ff\",\n    maroon: \"#800000\",\n    mediumaquamarine: \"#66cdaa\",\n    mediumblue: \"#0000cd\",\n    mediumorchid: \"#ba55d3\",\n    mediumpurple: \"#9370db\",\n    mediumseagreen: \"#3cb371\",\n    mediumslateblue: \"#7b68ee\",\n    mediumspringgreen: \"#00fa9a\",\n    mediumturquoise: \"#48d1cc\",\n    mediumvioletred: \"#c71585\",\n    midnightblue: \"#191970\",\n    mintcream: \"#f5fffa\",\n    mistyrose: \"#ffe4e1\",\n    moccasin: \"#ffe4b5\",\n    navajowhite: \"#ffdead\",\n    navy: \"#000080\",\n    oldlace: \"#fdf5e6\",\n    olive: \"#808000\",\n    olivedrab: \"#6b8e23\",\n    orange: \"#ffa500\",\n    orangered: \"#ff4500\",\n    orchid: \"#da70d6\",\n    palegoldenrod: \"#eee8aa\",\n    palegreen: \"#98fb98\",\n    paleturquoise: \"#afeeee\",\n    palevioletred: \"#db7093\",\n    papayawhip: \"#ffefd5\",\n    peachpuff: \"#ffdab9\",\n    peru: \"#cd853f\",\n    pink: \"#ffc0cb\",\n    plum: \"#dda0dd\",\n    powderblue: \"#b0e0e6\",\n    purple: \"#800080\",\n    red: \"#ff0000\",\n    rosybrown: \"#bc8f8f\",\n    royalblue: \"#4169e1\",\n    saddlebrown: \"#8b4513\",\n    salmon: \"#fa8072\",\n    sandybrown: \"#f4a460\",\n    seagreen: \"#2e8b57\",\n    seashell: \"#fff5ee\",\n    sienna: \"#a0522d\",\n    silver: \"#c0c0c0\",\n    skyblue: \"#87ceeb\",\n    slateblue: \"#6a5acd\",\n    slategray: \"#708090\",\n    snow: \"#fffafa\",\n    springgreen: \"#00ff7f\",\n    steelblue: \"#4682b4\",\n    tan: \"#d2b48c\",\n    teal: \"#008080\",\n    thistle: \"#d8bfd8\",\n    tomato: \"#ff6347\",\n    turquoise: \"#40e0d0\",\n    violet: \"#ee82ee\",\n    wheat: \"#f5deb3\",\n    white: \"#ffffff\",\n    whitesmoke: \"#f5f5f5\",\n    yellow: \"#ffff00\",\n    yellowgreen: \"#9acd32\"\n};\n\n\n/*\n * This class contains methods for operating with colors. Its objects are kept in hsva format with normalized\n * attributes (each attribute has value between 0 and 1 inclusive), and can be converted from/to rgba.\n */\nexport class Color {\n    constructor(color) {\n        if (color) {\n            this.setColor(color);\n        }\n    }\n\n    setColor(color) {\n        this.color = this.constructor.parseColor(color);\n    }\n\n    getColor() {\n        let rgba = this.getRgba();\n        return `rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, ${rgba[3]})`;\n    }\n\n    /*\n     * @param color A color string of the types: native name, hex3, hex6, rgb, rgba, hsl, hsla\n     *              or a Color object, or a hsla color array\n     */\n    static parseColor(color) {\n        if (color instanceof Color) {\n            return color.color;\n        } else if (color instanceof Array) {\n            // Add the alpha parameter at the end\n            if (color.length === 3) {\n                color.push(1);\n            }\n            return color;\n        }\n\n        color = color.trim().toLowerCase();\n\n        // Check if color is given by name\n        if (COLORS_BY_NAME.hasOwnProperty(color)) {\n            color = COLORS_BY_NAME[color];\n        }\n\n        let values = [];\n\n        // Check for hex3 (e.g. \"#f00\")\n        let hex3 = color.match(/^#([0-9a-f]{3})$/i);\n        if (hex3) {\n            values = [\n                parseInt(hex3[1].charAt(0), 16) * 0x11,\n                parseInt(hex3[1].charAt(1), 16) * 0x11,\n                parseInt(hex3[1].charAt(2), 16) * 0x11,\n                1\n            ];\n        }\n\n        // Check for hex6 (e.g. \"#ff0000\")\n        let hex6 = color.match(/^#([0-9a-f]{6})$/i);\n        if (hex6) {\n            values = [\n                parseInt(hex6[1].substr(0, 2), 16),\n                parseInt(hex6[1].substr(2, 2), 16),\n                parseInt(hex6[1].substr(4, 2), 16),\n                1\n            ];\n        }\n\n        // Check for rgba (e.g. \"rgba(255, 0, 0, 0.5)\")\n        let rgba = color.match(/^rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+.*\\d*)\\s*\\)$/i);\n        if (rgba) {\n            values = [\n                parseInt(rgba[1]),\n                parseInt(rgba[2]),\n                parseInt(rgba[3]),\n                parseFloat(rgba[4])\n            ];\n        }\n\n        // Check for rgb (e.g. \"rgb(255, 0, 0)\")\n        let rgb = color.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\n        if (rgb) {\n            values = [\n                parseInt(rgb[1]),\n                parseInt(rgb[2]),\n                parseInt(rgb[3]),\n                1\n            ];\n        }\n        return values;\n    }\n\n    // TODO: this should be implemented as a factory that generates an interpolator object, that just takes in a t\n    static interpolate(firstColor, secondColor, t = 0.5) {\n        let firstColorArray = Color.parseColor(firstColor);\n        let secondColorArray = Color.parseColor(secondColor);\n\n        return Color.convertToRgba([\n            parseInt(firstColorArray[0] * (1 - t) + secondColorArray[0] * t),\n            parseInt(firstColorArray[1] * (1 - t) + secondColorArray[1] * t),\n            parseInt(firstColorArray[2] * (1 - t) + secondColorArray[2] * t),\n            parseInt(firstColorArray[3] * (1 - t) + secondColorArray[3] * t)\n        ]);\n    }\n\n    static addOpacity(color, opacity) {\n        let colorArray = Color.parseColor(color);\n        return Color.convertToRgba([\n            parseInt(colorArray[0]),\n            parseInt(colorArray[1]),\n            parseInt(colorArray[2]),\n            opacity\n        ]);\n    }\n\n    static convertToRgba(rgba) {\n        return `rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, ${rgba[3]})`;\n    }\n\n    static isLight(color) {\n        let values = Color.parseColor(color);\n        return values[0] * 0.3 + values[1] * 0.59 + values[2] * 0.11 > 188;\n    }\n}\n\n\nexport function lighten(color, amount) {\n    if (amount >= 0) {\n        return Color.interpolate(color, \"#fff\", amount);\n    } else {\n        return darken(color, -amount);\n    }\n}\n\n\nexport function darken(color, amount) {\n    if (amount >= 0) {\n        let rgba = Color.parseColor(Color.interpolate(color, \"#000\", amount));\n        for (let i = 0; i < 3; i += 1) {\n            let root = Math.pow(255 - rgba[i], 0.7);\n            rgba[i] = parseInt(rgba[i] - root * amount);\n            if (rgba[i] < 0) {\n                rgba[i] = 0;\n            }\n        }\n        return Color.convertToRgba(rgba);\n    } else {\n        return lighten(color, -amount);\n    }\n}\n\n\nexport function enhance(color, amount) {\n    if (Color.isLight(color)) {\n        return darken(color, amount);\n    } else {\n        return lighten(color, amount);\n    }\n}\n\n\nexport function buildColors(color, dark=true) {\n    let colors = [];\n    let darkenPercents;\n    if (!dark) {\n        darkenPercents = [0.1, 0, -0.2, -0.3, -0.35, -0.2, -1];\n    } else if (Color.isLight(color)) {\n        darkenPercents = [0.05, 0, 0.05, 0.1, 0.15, 0.3, 0.8];\n    } else {\n        darkenPercents = [-0.3, 0, 0.1, 0.2, 0.23, 0.1, -1];\n    }\n    for (let i = 0; i < darkenPercents.length; i += 1) {\n        colors.push(darken(color, darkenPercents[i]));\n    }\n    return colors;\n}\n\n\nexport class ColorGenerator {\n    static FIRST_COLORS = [\"#337ab7\", \"#5cb85c\",  \"#f0ad4e\", \"#5bc0de\", \"#d9534f\"];\n    static cache = new Map();\n\n    static getPersistentColor(uniqueId) {\n        if (uniqueId < this.FIRST_COLORS.length) {\n            return this.FIRST_COLORS[uniqueId];\n        }\n        if (!this.cache.has(uniqueId)) {\n            this.cache.set(uniqueId, this.getRandomColor());\n        }\n        return this.cache.get(uniqueId);\n    }\n\n    static getRandomColor() {\n        const allowed = \"3456789ABC\";\n        let color = \"#\";\n        for (let i = 0; i < 6; i += 1) {\n            color += allowed.charAt(parseInt(Math.random() * allowed.length));\n        }\n        return color;\n    }\n}\n","import {Dispatchable} from \"../../base/Dispatcher\";\nimport {UI} from \"../UIBase\";\nimport {StyleSheet} from \"../Style\";\nimport {CallThrottler} from \"../../base/Utils\";\n\nfunction getInstance(styleSheet) {\n    if (typeof styleSheet === \"function\") {\n        if (typeof styleSheet.getInstance === \"function\") {\n            styleSheet = styleSheet.getInstance();\n        } else {\n            styleSheet = styleSheet();\n        }\n    }\n    return styleSheet;\n}\n\nfunction getInstanceForObject(obj) {\n    if (!obj) {\n        return null;\n    }\n    let styleSheet = (obj.theme && obj.theme.get(obj)) || obj.styleSheet;\n    return getInstance(styleSheet);\n}\n\nclass Theme extends Dispatchable {\n    constructor(name=\"\") {\n        super();\n        this.styleSheetSymbol = Symbol(\"Theme\" + name);\n        this.classSet = new Set();\n        this.styleSheetSet = new Set();\n        this.properties = {};\n        this.updateThrottler = new CallThrottler({throttle: 50});\n        this.updateThrottled = this.updateThrottler.wrap(() => this.updateStyleSheets());\n        window.addEventListener(\"resize\", this.updateThrottled);\n    }\n\n    register(cls, styleSheet) {\n        cls.theme = this;\n        if (!cls.styleSheet) {\n            cls.styleSheet = styleSheet;\n        }\n        this.set(cls, styleSheet);\n    }\n\n    set(cls, styleSheet) {\n        cls[this.styleSheetSymbol] = styleSheet;\n        this.classSet.add(cls);\n    }\n\n    get(cls) {\n        if (!(typeof cls === \"function\")) {\n            cls = cls.constructor;\n        }\n        return cls[this.styleSheetSymbol];\n    }\n\n    getProperties() {\n        return this.properties;\n    }\n\n    getProperty(key, defaultValue) {\n        const value = this.properties[key] || defaultValue;\n        return (typeof value === \"function\") ? value() : value;\n    }\n\n    setProperties(properties, update=true) {\n        Object.assign(this.properties, properties);\n        if (update) {\n            this.updateThrottled();\n        }\n    }\n\n    setProperty(key, value) {\n        this.properties[key] = value;\n    }\n\n    getAllStyleSheets() {\n        let styleSheetSet = new Set(this.styleSheetSet);\n        for (const cls of this.classSet.values()) {\n            styleSheetSet.add(this.get(cls));\n        }\n        return Array.from(styleSheetSet).map(styleSheet => {\n            if (styleSheet.getInstance) {\n                return styleSheet.getInstance();\n            }\n            return styleSheet;\n        });\n    }\n\n    addStyleSheet(styleSheet) {\n        this.styleSheetSet.add(styleSheet);\n    }\n\n    removeStyleSheet(styleSheet) {\n        this.styleSheetSet.delete(styleSheet);\n    }\n\n    updateStyleSheets() {\n        for (const styleSheet of this.getAllStyleSheets()) {\n            if (styleSheet.update) {\n                styleSheet.update();\n            }\n\n        }\n    }\n\n    static register(cls, styleSheet) {\n        return this.Global.register(...arguments);\n    }\n\n    static get(cls) {\n        return this.Global.get(...arguments);\n    }\n\n    static addStyleSheet(styleSheet) {\n        this.Global.addStyleSheet(styleSheet);\n    }\n\n    static setProperties(properties) {\n        this.Global.setProperties(...arguments);\n    }\n\n    static getProperties() {\n        return this.Global.getProperties();\n    }\n}\n\nTheme.Global = new Theme(\"Global\");\n\nUI.Element.prototype.getStyleSheet = function styleSheetGetter() {\n    return getInstanceForObject(this.options) || getInstanceForObject(this.constructor);\n};\n\nfunction registerStyle(styleClass, theme=Theme.Global) {\n    return (target) => {\n        theme.register(target, styleClass);\n    }\n}\n\nStyleSheet.theme = Theme.Global;\n\nexport {Theme, registerStyle};\n","import {StyleSheet} from \"./Style\";\nimport {styleRule} from \"../decorators/Style\";\nimport {enhance} from \"./Color\";\nimport {Device} from \"../base/Device\";\nimport {Orientation, Level, Size} from \"./Constants\";\nimport {Theme} from \"./style/Theme\";\n\n// TODO: export these properly, don't use a namespace here\nlet GlobalStyle = {\n};\n\nexport function getTextColor(backgroundColor) {\n    return enhance(backgroundColor, 1);\n}\n\nTheme.setProperties({\n    COLOR_BACKGROUND: \"#fff\",\n    COLOR_BACKGROUND_ALTERNATIVE: \"#eee\",\n    COLOR_BACKGROUND_BODY: \"#f8f8f8\",\n    COLOR_FOREGROUND_BODY: \"#f2f2f2\",\n    COLOR_BACKGROUND_BADGE: \"#777\",\n    COLOR_PRIMARY: \"#337ab7\",\n    COLOR_SECONDARY: \"#358ba4\",\n    COLOR_SUCCESS: \"#5cb85c\",\n    COLOR_INFO: \"#5bc0de\",\n    COLOR_WARNING: \"#f0ad4e\",\n    COLOR_DANGER: \"#d9534f\",\n\n    COLOR_LINK: \"#337ab7\",\n\n    FONT_SIZE_EXTRA_SMALL: \"10px\",\n    FONT_SIZE_SMALL: \"12px\",\n    FONT_SIZE_DEFAULT: \"14px\",\n    FONT_SIZE_LARGE: \"17px\",\n    FONT_SIZE_EXTRA_LARGE: \"21px\",\n\n    BASE_BORDER_RADIUS: 0,\n    BASE_BOX_SHADOW: \"0px 0px 10px rgb(160, 162, 168)\",\n    BASE_BORDER_WIDTH: 0,\n    BASE_BORDER_STYLE: \"solid\",\n    BASE_BORDER_COLOR: \"#ddd\",\n\n    BUTTON_BORDER_RADIUS: \"0.2rem\",\n\n    CARD_PANEL_HEADER_HEIGHT: 30,\n    CARD_PANEL_HEADER_HEIGHT_LARGE: 40,\n    CARD_PANEL_HEADING_PADDING: 10,\n    CARD_PANEL_HEADING_PADDING_LARGE: 20,\n    CARD_PANEL_TEXT_TRANSFORM: \"inherit\",\n\n    DARK_BOX_SHADOW: \"0px 0px 10px rgba(0, 0, 0, .6)\",\n\n    ROW_LIST_ROW_HEIGHT: 30,\n    ROW_LIST_ROW_HEIGHT_LARGE: 40,\n    ROW_LIST_ROW_PADDING: 10,\n    ROW_LIST_ROW_PADDING_LARGE: 20,\n    ROW_LIST_ROW_BORDER_WIDTH: 1,\n\n    FONT_FAMILY_SANS_SERIF: \"Lato, 'Segoe UI', 'Lucida Sans Unicode', 'Helvetica Neue', Helvetica, Arial, sans-serif\",\n    FONT_FAMILY_SERIF: \"serif\",\n    FONT_FAMILY_MONOSPACE: \"'Source Code Pro', Menlo, Monaco, Consolas, 'Courier New', monospace\",\n    FONT_FAMILY_DEFAULT: () => Theme.getProperties().FONT_FAMILY_SANS_SERIF,\n\n    NAV_MANAGER_NAVBAR_HEIGHT: 50,\n    NAV_MANAGER_BOX_SHADOW_NAVBAR: \"0px 0px 10px rgb(0, 0, 0)\",\n    NAV_MANAGER_BOX_SHADOW_SIDE_PANEL: \"0px 0px 10px #202e3e\",\n\n    MAIN_CONTAINER_EXTRA_PADDING_TOP_DESKTOP: 0,\n    MAIN_CONTAINER_EXTRA_PADDING_TOP_MOBILE: 0,\n    MAIN_CONTAINER_EXTRA_PADDING_BOTTOM_DESKTOP: 0,\n    MAIN_CONTAINER_EXTRA_PADDING_BOTTOM_MOBILE: 0,\n\n    FLAT_TAB_AREA_COLOR_BACKGROUND: \"#f3f3f3\",\n    FLAT_TAB_AREA_LINE_HEIGHT: 30,\n    FLAT_TAB_AREA_PADDING_SIDES: 10,\n});\n\nexport class BasicLevelSizeStyleSheet extends StyleSheet {\n    Level(level) {\n        if (this[level]) {\n            return this[level];\n        }\n        for (let type of Object.keys(Level)) {\n            if (level == Level[type]) {\n                return this[type];\n            }\n        }\n        return \"\";\n    }\n\n    Size(size) {\n        for (let type of Object.keys(Size)) {\n            if (size == Size[type]) {\n                return this[type];\n            }\n        }\n        return \"\";\n    }\n}\n\nexport const BasicLevelStyleSheet = (colorToStyleFunction) => class BasicLevelStyleClass extends BasicLevelSizeStyleSheet {\n    colorStyleRule(color, textColor) {\n        return colorToStyleFunction(color, textColor || getTextColor(color));\n    }\n\n    @styleRule\n    BASE = this.colorStyleRule(this.themeProperties.COLOR_BACKGROUND);\n\n    @styleRule\n    PRIMARY = this.colorStyleRule(this.themeProperties.COLOR_PRIMARY);\n\n    @styleRule\n    SECONDARY = this.colorStyleRule(this.themeProperties.COLOR_SECONDARY);\n\n    @styleRule\n    SUCCESS = this.colorStyleRule(this.themeProperties.COLOR_SUCCESS);\n\n    @styleRule\n    INFO = this.colorStyleRule(this.themeProperties.COLOR_INFO);\n\n    @styleRule\n    WARNING = this.colorStyleRule(this.themeProperties.COLOR_WARNING);\n\n    @styleRule\n    DANGER = this.colorStyleRule(this.themeProperties.COLOR_DANGER);\n};\n\n\nclass FlexContainerStyle extends StyleSheet {\n    @styleRule\n    HORIZONTAL = {\n        display: \"flex\",\n        \">*\": {\n            marginLeft: \"20px\",\n            flex: \"1\",\n        },\n        \">:first-child\": {\n            marginLeft: \"0px\",\n        },\n    };\n\n    @styleRule\n    VERTICAL = {\n        display: \"flex\",\n        flexDirection: \"column\",\n        \">*\": {\n            marginTop: \"20px\",\n            flex: \"1\",\n        },\n        \">:first-child\": {\n            marginTop: \"0px\",\n        }\n    };\n\n    Orientation(orientation) {\n        for (let type of Object.keys(Orientation)) {\n            if (orientation == Orientation[type]) {\n                return this[type];\n            }\n        }\n    }\n}\n\nclass ContainerStyle extends StyleSheet {\n    getSizeStyle(mobilePixels, desktopPercent) {\n        return {\n            margin: Device.isMobileDevice() ? `0 ${mobilePixels}px` : `0% ${desktopPercent}%`,\n        }\n    }\n\n    @styleRule\n    EXTRA_SMALL = this.getSizeStyle(6, 15);\n\n    @styleRule\n    SMALL = this.getSizeStyle(4, 10);\n\n    @styleRule\n    MEDIUM = this.getSizeStyle(4, 6);\n\n    @styleRule\n    LARGE = this.getSizeStyle(2, 3);\n\n    @styleRule\n    EXTRA_LARGE = this.getSizeStyle(2, 1);\n\n    Size(size) {\n        for (let type of Object.keys(Size)) {\n            if (size == Size[type]) {\n                return this[type];\n            }\n        }\n    }\n}\n\n\nclass Utils extends StyleSheet {\n    extraTop = () => this.themeProperties[Device.isMobileDevice() ? \"MAIN_CONTAINER_EXTRA_PADDING_TOP_MOBILE\" :\n        \"MAIN_CONTAINER_EXTRA_PADDING_TOP_DESKTOP\"];\n\n    @styleRule\n    fullHeight = {\n        height: \"100%\",\n    };\n\n    @styleRule\n    hidden = {\n        display: \"hidden\"\n    };\n\n    // Use this class for content that has no space between it and the navbar.\n    @styleRule\n    fullContainer = {\n        width: \"100%\",\n        height: () => \"calc(100% + \" + this.extraTop() + \"px)\",\n        marginTop: () => -this.extraTop()\n    }\n}\n\nGlobalStyle.FlexContainer = FlexContainerStyle.getInstance();\nGlobalStyle.Container = ContainerStyle.getInstance();\nGlobalStyle.Utils = Utils.getInstance();\n\nexport {GlobalStyle};\n","import {UI} from \"./UIBase\";\nimport {BasicLevelStyleSheet} from \"./GlobalStyle\";\nimport {Orientation} from \"./Constants\";\nimport {registerStyle} from \"./style/Theme\";\nimport {buildColors} from \"./Color\";\nimport {styleRule} from \"../decorators/Style\";\n\nclass SimpleStyledElement extends UI.Element {\n    getLevel() {\n        return this.options.level || (this.parent && this.parent.getLevel && this.parent.getLevel());\n    }\n\n    setLevel(level) {\n        this.updateOptions({level});\n    }\n\n    getSize() {\n        return this.options.size || (this.parent && this.parent.getSize && this.parent.getSize());\n    }\n\n    setSize(size) {\n        this.updateOptions({size});\n    }\n}\n\n\nclass IconableInterface extends SimpleStyledElement {\n    render() {\n        return [this.beforeChildren(), this.getLabel(), super.render()];\n    };\n\n    getLabel() {\n        return (this.options.label != null) ? this.options.label : \"\";\n    }\n\n    setLabel(label) {\n        this.updateOptions({label: label});\n    }\n\n    //TODO: this should live in a base iconable class, of which you'd only use this.beforeChildren\n    getFaIcon() {\n        return this.options.faIcon;\n    }\n\n    setFaIcon(value) {\n        this.options.faIcon = value;\n        this.redraw();\n    }\n\n    beforeChildren() {\n        if (!this.getFaIcon()) {\n            return null;\n        }\n        let iconOptions = {\n            className: \"fa fa-\" + this.getFaIcon(),\n        };\n        if (this.getLabel()) {\n            iconOptions.style = {\n                marginRight: \"5px\",\n            }\n        }\n\n        return <span {...iconOptions} />;\n    }\n}\n\nlet labelColorToStyle = (color) => {\n    const colors = buildColors(color);\n    let darker = {\n        backgroundColor: colors[2],\n        color: colors[6],\n        textDecoration: \"none\",\n    };\n    let regular = {\n        backgroundColor: colors[1],\n        borderColor: colors[5],\n        color: colors[6],\n    };\n    return Object.assign({}, regular, {\n        \":hover\": darker,\n        \":hover:disabled\": regular,\n        \":focus\": darker,\n        \":active\": darker,\n    });\n};\n\nexport class LabelStyle extends BasicLevelStyleSheet(labelColorToStyle) {\n    // DEFAULT uses MEDIUM as size and BASE as level\n    @styleRule\n    DEFAULT = [{\n        fontWeight: \"bold\",\n        border: \"0.1em solid transparent\",\n        padding: \"0.07em 0.4em\",\n        borderRadius: \"0.3em\",\n        textAlign: \"center\",\n        whiteSpace: \"nowrap\",\n        verticalAlign: \"bottom\",\n        lineHeight: 4/3 + \"\",\n        display: \"inline-block\",\n        touchAction: \"manipulation\",\n        \":disabled\": {\n            opacity: \"0.7\",\n            cursor: \"not-allowed\",\n        },\n    }, {\n        \"font-size\": \"12px\",\n    }, this.colorStyleRule(this.themeProperties.COLOR_BACKGROUND_BADGE)];\n\n    @styleRule\n    EXTRA_SMALL = {\n        fontSize: \"10px\",\n        padding: \"0.05em 0.2em\",\n        borderWidth: \"0.05em\",\n    };\n\n    @styleRule\n    SMALL = {\n        fontSize: \"10px\",\n    };\n\n    @styleRule\n    MEDIUM = {};\n\n    @styleRule\n    LARGE = {\n        fontSize: \"14px\",\n    };\n\n    @styleRule\n    EXTRA_LARGE = {\n        fontSize: \"17px\",\n        padding: \"0.05em 0.2em\",\n    };\n}\n\n\n@registerStyle(LabelStyle)\nclass Label extends UI.Primitive(IconableInterface, \"span\") {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.DEFAULT);\n\n        if (this.getSize()) {\n            attr.addClass(this.styleSheet.Size(this.getSize()));\n        }\n\n        if (this.getLevel()) {\n            attr.addClass(this.styleSheet.Level(this.getLevel()));\n        }\n    }\n}\n\nlet badgeColorToStyle = (color) => {\n    const colors = buildColors(color);\n    return {\n        backgroundColor: colors[1],\n        borderColor: colors[5],\n        color: colors[6],\n    };\n};\n\nexport class BadgeStyle extends BasicLevelStyleSheet(badgeColorToStyle) {\n    // DEFAULT uses MEDIUM as size and BASE as level\n    @styleRule\n    DEFAULT = [{\n        display: \"inline-block\",\n        padding: \"0.25em 0.55em\",\n        fontWeight: \"700\",\n        lineHeight: \"1\",\n        color: \"#fff\",\n        textAlign: \"center\",\n        whiteSpace: \"nowrap\",\n        verticalAlign: \"middle\",\n        backgroundColor: \"#777\",\n        borderRadius: \"0.8em\",\n    }, {\n        \"font-size\": \"12px\",\n    }, this.colorStyleRule(this.themeProperties.COLOR_BACKGROUND_BADGE)];\n\n    @styleRule\n    EXTRA_SMALL = {\n        fontSize: \"10px\",\n        padding: \"0.1em 0.2em\",\n    };\n\n    @styleRule\n    SMALL = {\n        fontSize: \"10px\",\n    };\n\n    @styleRule\n    MEDIUM = {};\n\n    @styleRule\n    LARGE = {\n        fontSize: \"14px\",\n    };\n\n    @styleRule\n    EXTRA_LARGE = {\n        fontSize: \"17px\",\n        padding: \"0.1em 0.2em\",\n    };\n}\n\n\n@registerStyle(BadgeStyle)\nclass Badge extends UI.Primitive(IconableInterface, \"span\") {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.DEFAULT);\n\n        if (this.getSize()) {\n            attr.addClass(this.styleSheet.Size(this.getSize()));\n        }\n\n        if (this.getLevel()) {\n            attr.addClass(this.styleSheet.Level(this.getLevel()));\n        }\n    }\n}\n\nlet progressBarColorToStyle = (color) => {\n    let colors = buildColors(color);\n    return {\n        backgroundColor: colors[1],\n    };\n};\n\nclass ProgressBarStyle extends BasicLevelStyleSheet(progressBarColorToStyle) {\n    @styleRule\n    container = {\n        height: \"20px\",\n        marginBottom: \"20px\",\n        overflow: \"hidden\",\n        backgroundColor: \"#f5f5f5\",\n        borderRadius: \"4px\",\n        boxShadow: \"inset 0 1px 2px rgba(0, 0, 0, .1)\",\n    };\n\n    @styleRule\n    DEFAULT = [{\n        float: \"left\",\n        width: \"0\",\n        height: \"100%\",\n        lineHeight: \"20px\",\n        color: \"#fff\",\n        textAlign: \"center\",\n        backgroundColor: \"#337ab7\",\n        boxShadow: \"inset 0 -1px 0 rgba(0, 0, 0, .15)\",\n        transition: \"width .6s ease\",\n        fontColor: \"#ffffff\",\n    }, {\n        fontSize: \"12px\",\n    }, this.colorStyleRule(this.themeProperties.COLOR_PRIMARY)];\n\n    @styleRule\n    striped = {\n        backgroundImage: \"linear-gradient(45deg, rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent)\",\n        backgroundSize: \"40px 40px\",\n    };\n\n    @styleRule\n    active = {\n        animation: \"progress-bar-stripes 2s linear infinite\",\n    };\n\n    @styleRule\n    EXTRA_SMALL = {\n        fontSize: \"8px\",\n    };\n\n    @styleRule\n    SMALL = {\n        fontSize: \"10px\",\n    };\n\n    @styleRule\n    MEDIUM = {};\n\n    @styleRule\n    LARGE = {\n        fontSize: \"14px\",\n    };\n\n    @styleRule\n    EXTRA_LARGE = {\n        fontSize: \"17px\",\n        padding: \"0.1em 0.2em\",\n    };\n}\n\n@registerStyle(ProgressBarStyle)\nclass ProgressBar extends SimpleStyledElement {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.container);\n    }\n\n    render() {\n        let valueInPercent = (this.options.value || 0) * 100;\n        let orientation = Orientation.HORIZONTAL;\n        if (this.options.hasOwnProperty(\"orientation\")) {\n            orientation = this.options.orientation;\n        }\n        let barStyle;\n        if (orientation === Orientation.HORIZONTAL) {\n            barStyle = {\n                width: valueInPercent + \"%\",\n                height: this.options.height + \"px\",\n            };\n        } else {\n            barStyle = {\n                height: valueInPercent + \"%\",\n                width: \"5px\",\n            }\n        }\n        let barOptions = {\n            className: this.styleSheet.DEFAULT,\n            style: barStyle,\n        };\n\n        if (this.options.disableTransition) {\n            Object.assign(barOptions.style, {\n                transition: \"none\",\n            });\n        }\n\n        if (this.options.level) {\n            barOptions.className += \" \" + this.styleSheet.Level(this.getLevel());\n        }\n        if (this.options.striped) {\n            barOptions.className += \" \" + this.styleSheet.striped;\n        }\n        if (this.options.active) {\n            barOptions.className += \" \" + this.styleSheet.active;\n        }\n        if (this.options.color) {\n            barOptions.style.backgroundColor = this.options.color;\n        }\n\n        return <div {...barOptions}>\n            <span>{this.options.label}</span>\n        </div>;\n    }\n\n    set(value) {\n        if (value < 0)\n            value = 0;\n        else if (value > 1)\n            value = 1;\n        this.options.value = value;\n        this.redraw();\n    }\n}\n\n\nexport {SimpleStyledElement, IconableInterface, Label, Badge, ProgressBar};\n","// TODO: this file existed to hold generic classes in a period of fast prototyping, has a lot of old code\nimport {UI} from \"./UIBase\";\nimport {Device} from \"../base/Device\";\nimport {Draggable} from \"./Draggable\";\nimport {Dispatchable} from \"../base/Dispatcher\";\nimport {getOffset} from \"./Utils\";\nimport {Orientation} from \"./Constants\";\nimport {ProgressBar} from \"./Bootstrap3\";\n\n// A very simple class, all this does is implement the `getTitle()` method\nclass Panel extends UI.Element {\n    getTitle() {\n        return this.options.title;\n    }\n}\n\nclass SlideBar extends Draggable(UI.Element) {\n    getDefaultOptions() {\n        return {\n            value: 0,\n        };\n    }\n\n    extraNodeAttributes(attr) {\n        attr.setStyle(\"display\", \"inline-block\");\n        attr.setStyle(\"position\", \"relative\");\n        attr.setStyle(\"cursor\", \"pointer\");\n    }\n\n    getSliderValue() {\n        return this.options.value * this.options.size - (this.options.barSize / 2);\n    }\n\n    render() {\n        return [\n            <ProgressBar ref=\"progressBar\" active=\"true\" value={this.options.value} disableTransition={true}\n                            orientation={this.getOrientation()}\n                            style={Object.assign({\n                                position: \"relative\",\n                            }, this.getProgressBarStyle())}\n            />,\n            <div ref=\"slider\" style={Object.assign({\n                                backgroundColor: \"black\",\n                                position: \"absolute\",\n                            }, this.getSliderStyle())}>\n            </div>\n        ];\n    }\n\n    setValue(value) {\n        value = Math.max(value, 0);\n        value = Math.min(value, 1);\n\n        this.options.value = value;\n        this.progressBar.set(this.options.value);\n        this.slider.setStyle(this.getOrientationAttribute(), this.getSliderValue() + \"px\");\n\n        this.dispatch(\"change\", this.options.value);\n    }\n\n    getValue() {\n        return this.options.value;\n    }\n\n    onMount() {\n        this.addDragListener(this.getDragConfig());\n    }\n}\n\nclass HorizontalSlideBar extends SlideBar {\n    setOptions(options) {\n        options.size = options.size || options.width || 100;\n        options.barSize = options.barSize || options.barWidth || 5;\n        super.setOptions(options);\n    }\n\n    getProgressBarStyle() {\n        return {\n            height: \"5px\",\n            width: this.options.size + \"px\",\n            top: \"15px\",\n        };\n    }\n\n    getSliderStyle() {\n        return {\n            width: this.options.barSize + \"px\",\n            height: \"20px\",\n            left: this.getSliderValue() + \"px\",\n            top: \"7.5px\"\n        };\n    }\n\n    getOrientationAttribute() {\n        return \"left\";\n    }\n\n    getOrientation() {\n        return Orientation.HORIZONTAL;\n    }\n\n    getDragConfig() {\n        return {\n            onStart: (event) => {\n                this.setValue((Device.getEventX(event) - getOffset(this.progressBar)[this.getOrientationAttribute()]) / this.options.size);\n            },\n            onDrag: (deltaX, deltaY) => {\n                this.setValue(this.options.value + deltaX / this.options.size);\n            },\n        };\n    }\n}\nclass VerticalSlideBar extends SlideBar {\n    setOptions(options) {\n        options.size = options.size || options.height || 100;\n        options.barSize = options.barSize || options.barHeight || 5;\n        super.setOptions(options);\n    }\n\n    getProgressBarStyle() {\n        return {\n            height: this.options.size + \"px\",\n            width: \"5px\",\n            left: \"15px\",\n        };\n    }\n\n    getSliderStyle() {\n        return {\n            height: this.options.barSize + \"px\",\n            width: \"20px\",\n            top: this.getSliderValue() + \"px\",\n            left: \"7.5px\"\n        };\n    }\n\n    getOrientationAttribute() {\n        return \"top\";\n    }\n\n    getOrientation() {\n        return Orientation.VERTICAL;\n    }\n\n    getDragConfig() {\n        return {\n            onStart: (event) => {\n                this.setValue((Device.getEventY(event) - getOffset(this.progressBar)[this.getOrientationAttribute()]) / this.options.size);\n            },\n            onDrag: (deltaX, deltaY) => {\n                this.setValue(this.options.value + deltaY / this.options.size);\n            },\n        };\n    }\n}\n\nclass Link extends UI.Primitive(\"a\") {\n    extraNodeAttributes(attr) {\n        // TODO: do we want this as a default?\n        attr.setStyle(\"cursor\", \"pointer\");\n    }\n\n    getDefaultOptions() {\n        return {\n            newTab: false,\n        }\n    }\n\n    setOptions(options) {\n        super.setOptions(options);\n\n        if (this.options.newTab) {\n            this.options.target = \"_blank\";\n        }\n\n        return options;\n    }\n\n    render() {\n        if (this.options.value) {\n            return [this.options.value];\n        }\n        return super.render();\n    }\n}\n\nclass Image extends UI.Primitive(\"img\") {\n}\n\n// Beware coder: If you ever use this class, you should have a well documented reason\nclass RawHTML extends UI.Element {\n    getInnerHTML() {\n        return this.options.innerHTML || this.options.__innerHTML;\n    }\n\n    redraw() {\n        this.node.innerHTML = this.getInnerHTML();\n        this.applyNodeAttributes();\n        this.applyRef();\n    }\n}\n\nclass ViewportMeta extends UI.Primitive(\"meta\") {\n    getDefaultOptions() {\n        return {\n            scale: this.getDesiredScale(),\n            initialScale: 1,\n            maximumScale: 1,\n        }\n    }\n\n    getDesiredScale() {\n        const MIN_WIDTH = this.options.minDeviceWidth;\n        return (MIN_WIDTH) ? Math.min(window.screen.availWidth, MIN_WIDTH) / MIN_WIDTH : 1;\n    }\n\n    getContent() {\n        let rez = \"width=device-width\";\n        rez += \",initial-scale=\" + this.options.scale;\n        rez += \",maximum-scale=\" + this.options.scale;\n        rez += \",user-scalable=no\";\n        return rez;\n    }\n\n    extraNodeAttributes(attr) {\n        attr.setAttribute(\"name\", \"viewport\");\n        attr.setAttribute(\"content\", this.getContent());\n    }\n\n    maybeUpdate() {\n        const desiredScale = this.getDesiredScale();\n        if (desiredScale != this.options.scale) {\n            this.updateOptions({scale: desiredScale});\n        }\n    }\n\n    onMount() {\n        window.addEventListener(\"resize\", () => this.maybeUpdate());\n    }\n}\n\nclass TemporaryMessageArea extends UI.Primitive(\"span\") {\n    getDefaultOptions() {\n        return {\n            margin: 10\n        };\n    }\n\n    render() {\n        return [<UI.TextElement ref=\"textElement\" value={this.options.value || \"\"}/>];\n    }\n\n    getNodeAttributes() {\n        let attr = super.getNodeAttributes();\n        // TODO: nope, not like this\n        attr.setStyle(\"marginLeft\", this.options.margin + \"px\");\n        attr.setStyle(\"marginRight\", this.options.margin + \"px\");\n        return attr;\n    }\n\n    setValue(value) {\n        this.options.value = value;\n        this.textElement.setValue(value);\n    }\n\n    setColor(color) {\n        this.setStyle(\"color\", color);\n    }\n\n    showMessage(message, color=\"black\", displayDuration=2000) {\n        this.setColor(color);\n        this.clear();\n        this.setValue(message);\n        if (displayDuration) {\n            this.clearValueTimeout = setTimeout(() => this.clear(), displayDuration);\n        }\n    }\n\n    clear() {\n        this.setValue(\"\");\n        if (this.clearValueTimeout) {\n            clearTimeout(this.clearValueTimeout);\n            this.clearValueTimeout = null;\n        }\n    }\n}\n\n// Just putting in a lot of methods, to try to think of an interface\nclass ScrollableMixin extends UI.Element {\n    getDesiredExcessHeightTop() {\n        return 600;\n    }\n\n    getDesiredExcessHeightBottom() {\n        return 600;\n    }\n\n    getHeightScrollPercent() {\n        let scrollHeight = this.node.scrollHeight;\n        let height = this.node.clientHeight;\n        if (scrollHeight === height) {\n            return 0;\n        }\n        return this.node.scrollTop / (scrollHeight - height);\n    }\n\n    getExcessTop() {\n        return this.node.scrollTop;\n    }\n\n    getExcessBottom() {\n        let scrollHeight = this.node.scrollHeight;\n        let height = this.node.clientHeight;\n        return scrollHeight - height - this.node.scrollTop;\n    }\n\n    haveExcessTop() {\n        return this.getExcessTop() > this.getDesiredExcessHeightTop();\n    }\n\n    haveExcessBottom() {\n        return this.getExcessBottom() > this.getDesiredExcessHeightBottom();\n    }\n\n    popChildTop() {\n        this.eraseChildAtIndex(0);\n    }\n\n    popChildBottom() {\n        this.eraseChildAtIndex(this.children.length - 1);\n    }\n\n    removeExcessTop() {\n        while (this.haveExcessTop()) {\n            this.popChildTop();\n        }\n    }\n\n    removeExcessBottom() {\n        while (this.haveExcessBottom()) {\n            this.popChildBottom();\n        }\n    }\n\n    pushChildTop(element, removeExcessBottom=true) {\n        if (removeExcessBottom) {\n            this.removeExcessBottom();\n        }\n        this.insertChild(element, 0);\n    }\n\n    pushChildBottom(element, removeExcessTop=true) {\n        if (removeExcessTop) {\n            this.removeExcessTop();\n        }\n        this.appendChild(element);\n        this.appendChild(element);\n    }\n\n    saveScrollPosition() {\n        // If at top or bottom, save that\n        // If anywhere in the middle, save the offset of the first child with a positive offset, and keep that constant\n        this.options.scrollTop = this.node.scrollTop;\n        let maxScrollTop = this.node.scrollHeight - this.node.clientHeight;\n        this.options.scrollInfo = {\n            scrollAtTop: (this.options.scrollTop === 0),\n            scrollAtBottom: (this.options.scrollTop === maxScrollTop),\n            // visibleChildrenOffsets: {}\n        };\n    }\n\n    applyScrollPosition() {\n        this.node.scrollTop = this.options.scrollTop || this.node.scrollTop;\n    }\n\n    scrollToHeight(height) {\n        this.node.scrollTop = height;\n    }\n\n    scrollToTop() {\n        this.scrollToHeight(0);\n    }\n\n    scrollToBottom() {\n        this.scrollToHeight(this.node.scrollHeight);\n    }\n};\n\n//TODO: this class would need some binary searches\nclass InfiniteScrollable extends ScrollableMixin {\n    setOptions(options) {\n        options = Object.assign({\n            entries: [],\n            entryComparator: (a, b) => {\n                return a.id - b.id;\n            },\n            firstRenderedEntry: 0,\n            lastRenderedEntry: -1,\n        }, options);\n        super.setOptions(options);\n        // TODO: TEMP for testing\n        this.options.children = [];\n        if (this.options.staticTop) {\n            this.options.children.push(this.options.staticTop);\n        }\n        for (let entry of this.options.entries) {\n            this.options.children.push(this.renderEntry(entry));\n        }\n    }\n\n    getFirstVisibleIndex() {\n    }\n\n    getLastVisibleIndex() {\n    }\n\n    renderEntry(entry) {\n        if (this.options.entryRenderer) {\n            return this.options.entryRenderer(entry);\n        } else {\n            console.error(\"You need to pass option entryRenderer or overwrite the renderEntry method\");\n        }\n    }\n\n    pushEntry(entry) {\n        this.insertEntry(entry, this.options.entries.length);\n    }\n\n    insertEntry(entry, index) {\n        let entries = this.options.entries;\n        if (index == null) {\n            index = 0;\n            while (index < entries.length &&\n                this.options.entryComparator(entries[index], entry) <= 0) {\n                index++;\n            }\n        }\n        entries.splice(index, 0, entry);\n\n        // Adjust to the children\n        if (this.options.staticTop) {\n            index += 1;\n        }\n\n        // TODO: only if in the rendered range, insert in options.children;\n        let uiElement = this.renderEntry(entry);\n        this.insertChild(uiElement, index);\n    }\n}\n\nclass TimePassedSpan extends UI.Primitive(\"span\") {\n    render() {\n        return this.getTimeDeltaDisplay(this.options.timeStamp);\n    }\n\n    getDefaultOptions() {\n        return {\n            style: {\n                color: \"#aaa\"\n            }\n        }\n    }\n\n    getTimeDeltaDisplay(timeStamp) {\n        let timeNow = Date.now();\n        let timeDelta = parseInt((timeNow - timeStamp * 1000) / 1000);\n        let timeUnitsInSeconds = [31556926, 2629743, 604800, 86400, 3600, 60];\n        let timeUnits = [\"year\", \"month\", \"week\", \"day\", \"hour\", \"minute\"];\n        if (timeDelta < 0) {\n            timeDelta = 0;\n        }\n        for (let i = 0; i < timeUnits.length; i += 1) {\n            let value = parseInt(timeDelta / timeUnitsInSeconds[i]);\n            if (timeUnitsInSeconds[i] <= timeDelta) {\n                return value + \" \" + timeUnits[i] + (value > 1 ? \"s\" : \"\") + \" ago\";\n            }\n        }\n        return \"Few seconds ago\";\n    }\n\n    static addIntervalListener(callback) {\n        if (!this.updateFunction) {\n            this.TIME_DISPATCHER = new Dispatchable();\n            this.updateFunction = setInterval(() => {\n                this.TIME_DISPATCHER.dispatch(\"updateTimeValue\");\n            }, 5000);\n        }\n        return this.TIME_DISPATCHER.addListener(\"updateTimeValue\", callback);\n    }\n\n    onMount() {\n        this._updateListener = this.constructor.addIntervalListener(() => {\n            this.redraw();\n        })\n    }\n\n    onUnmount() {\n        this._updateListener && this._updateListener.remove();\n    }\n};\n\n\nexport {Link, Panel, Image, RawHTML, TimePassedSpan, TemporaryMessageArea, SlideBar, VerticalSlideBar,\n    HorizontalSlideBar, ScrollableMixin, InfiniteScrollable, ViewportMeta};","import {StyleSheet, styleRule} from \"../Style\";\n\nclass InputStyle extends StyleSheet {\n    @styleRule\n    inputElement = {\n        transition: \"border-color ease-in-out .15s, box-shadow ease-in-out .15s\",\n        padding: \"0.4em 0.54em\",\n        border: \"1px solid #ccc\",\n        borderRadius: \"4px\",\n        fontSize: \"90%\",\n        \":focus\": {\n            outline: \"0\",\n            borderColor: \"#66afe9\",\n            boxShadow: \"inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102,175,233,.6)\",\n        },\n    };\n\n    @styleRule\n    checkboxInput = {\n        marginLeft: \"0.2em\",\n        display: \"inline-block\",\n        width: \"initial !important\",\n        marginRight:\"0.5em\",\n        marginBottom: \"-.1em\",\n        height: \"1em\",\n    };\n\n    @styleRule\n    select = {\n        height: \"2.12em\",\n    };\n}\n\nexport {InputStyle};\n","import {UI} from \"../UIBase\";\nimport {CreateNodeAttributesMap} from \"../NodeAttributes\";\nimport {InputStyle} from \"./Style\";\nimport {registerStyle} from \"../style/Theme\";\n\n\n@registerStyle(InputStyle)\nclass InputableElement extends UI.Element {\n    extraNodeAttributes(attr) {\n        super.extraNodeAttributes(attr);\n        attr.addClass(this.styleSheet.inputElement);\n    }\n}\n\n\nclass Input extends UI.Primitive(InputableElement, \"input\") {\n    extraNodeAttributes(attr) {\n        let type = this.getInputType();\n        if (type) {\n            attr.setAttribute(\"type\", type);\n        }\n    }\n\n    redraw() {\n        super.redraw();\n        if (this.options.hasOwnProperty(\"value\")) {\n            this.setValue(this.options.value);\n        }\n    }\n\n    getValue() {\n        return this.node.value;\n    }\n\n    setValue(newValue) {\n        this.node.value = newValue;\n    }\n\n    getInputType() {\n        // Must be overloaded\n        return null;\n    }\n\n    onInput(callback) {\n        this.addNodeListener(\"input change\", callback);\n    }\n\n    onKeyUp(callback) {\n        this.addNodeListener(\"keyup\", callback);\n    }\n}\nInput.domAttributesMap = CreateNodeAttributesMap(UI.Element.domAttributesMap, [\n    [\"autocomplete\"],\n    [\"autofocus\", {noValue: true}],\n    [\"formaction\"],\n    [\"maxLength\", {domName: \"maxlength\"}],\n    [\"minLength\", {domName: \"minlength\"}],\n    [\"name\"],\n    [\"placeholder\"],\n    [\"readonly\"],\n    [\"required\"],\n    [\"value\"],\n]);\n\n\nclass SubmitInput extends Input {\n    getInputType() {\n        return \"submit\";\n    }\n}\nSubmitInput.domAttributesMap = CreateNodeAttributesMap(UI.Element.domAttributesMap, [\n    [\"formenctype\"],\n    [\"formmethod\"],\n    [\"formnovalidate\"],\n    [\"formtarget\"]\n]);\n\n\nclass TextInput extends Input {\n    getInputType() {\n        return \"text\";\n    }\n}\n\n\nclass NumberInput extends Input {\n    getInputType() {\n        return \"number\";\n    }\n\n    getValue() {\n        let val = super.getValue();\n        return parseInt(val) || parseFloat(val);\n    }\n}\nNumberInput.domAttributesMap = CreateNodeAttributesMap(UI.Element.domAttributesMap, [\n    [\"min\"],\n    [\"max\"],\n    [\"step\"],\n]);\n\n\nclass EmailInput extends Input {\n    getInputType() {\n        return \"email\";\n    }\n}\n\n\nclass PasswordInput extends Input {\n    getInputType() {\n        return \"password\";\n    }\n}\n\n\nclass FileInput extends Input {\n    getInputType() {\n        return \"file\";\n    }\n\n    getFiles() {\n        return this.node.files;\n    }\n\n    getFile() {\n        // TODO: this is valid only if multipleFiles is false\n        return this.getFiles()[0];\n    }\n\n    getAsFormData() {\n        let formData = new FormData();\n        for (let file of this.getFiles()) {\n            formData.append(file.name, file);\n        }\n        return formData;\n    }\n}\nFileInput.domAttributesMap = CreateNodeAttributesMap(UI.Element.domAttributesMap, [\n    [\"multipleFiles\", {domName: \"multiple\", noValue: true}],\n    [\"fileTypes\", {domName: \"accept\"}],\n]);\n\n\nclass CheckboxInput extends Input {\n    extraNodeAttributes(attr) {\n        super.extraNodeAttributes(attr);\n        attr.addClass(this.styleSheet.checkboxInput);\n    }\n\n    getInputType() {\n        return \"checkbox\";\n    }\n\n    getValue() {\n        return this.node.checked;\n    }\n\n    setValue(newValue) {\n        this.node.checked = newValue;\n    }\n}\nCheckboxInput.domAttributesMap = CreateNodeAttributesMap(UI.Element.domAttributesMap, [\n    [\"checked\", {noValue: true}]\n]);\n\n\nclass RadioInput extends CheckboxInput {\n    getInputType() {\n        return \"radio\";\n    }\n\n    getValue() {\n        return this.node.checked;\n    }\n\n    setValue(newValue) {\n        this.node.checked = newValue;\n    }\n}\nRadioInput.domAttributesMap = CreateNodeAttributesMap(CheckboxInput.domAttributesMap, [\n    [\"name\"]\n]);\n\n\nclass TextArea extends UI.Primitive(InputableElement, \"textarea\") {\n    applyNodeAttributes() {\n        super.applyNodeAttributes();\n        this.node.readOnly = this.options.readOnly || false;\n    }\n\n    setReadOnly(value) {\n        this.options.readOnly = value;\n        this.node.readOnly = value;\n    }\n\n    getValue() {\n        return this.node.value;\n    }\n\n    redraw() {\n        super.redraw();\n        if (this.options.hasOwnProperty(\"value\")) {\n            this.node.value = this.options.value + \"\";\n        }\n    }\n\n    setValue(value) {\n        this.options.value = value;\n        this.node.value = value;\n    }\n\n    onInput(callback) {\n        this.addNodeListener(\"input change\", callback);\n    }\n\n    onKeyUp(callback) {\n        this.addNodeListener(\"keyup\", callback);\n    }\n}\n\n\nclass Select extends UI.Primitive(InputableElement, \"select\") {\n    render() {\n        this.givenOptions = this.options.options || [];\n        let selectOptions = [];\n\n        for (let i = 0; i < this.givenOptions.length; i += 1) {\n            let options = {\n                key: i\n            };\n            if (this.givenOptions[i] == this.options.selected) {\n                options.selected = true;\n            }\n            selectOptions.push(<option {...options}>{this.givenOptions[i].toString()}</option>);\n        }\n\n        return selectOptions;\n    }\n\n    extraNodeAttributes(attr) {\n        super.extraNodeAttributes(attr);\n        attr.addClass(this.styleSheet.select);\n    }\n\n    get() {\n        let selectedIndex = this.getIndex();\n        return this.givenOptions[selectedIndex];\n    }\n\n    set(value) {\n        for (let i = 0; i < this.givenOptions.length; i++) {\n            if (this.givenOptions[i] === value) {\n                this.setIndex(i);\n                return;\n            }\n        }\n        console.error(\"Can't set the select option \", value, \"\\nAvailable options: \", this.givenOptions);\n    }\n\n    getIndex() {\n        return this.node.selectedIndex;\n    }\n\n    setIndex(index) {\n        this.node.selectedIndex = index;\n        this.options.selected = this.givenOptions[index];\n    }\n\n    redraw() {\n        super.redraw();\n        if (this.options.selected) {\n            this.set(this.options.selected);\n        }\n    }\n}\n\nexport {InputStyle, Input, SubmitInput, TextInput, NumberInput, EmailInput, PasswordInput, FileInput,\n        CheckboxInput, RadioInput, TextArea, Select};\n","import {StyleSheet, styleRule} from \"../Style\";\n\nclass FormStyle extends StyleSheet {\n    @styleRule\n    form = {\n        margin: \"0 auto\",\n    };\n\n    @styleRule\n    formGroup = {\n        marginBottom: \"10px\",\n    };\n\n    @styleRule\n    formField = {\n        \">label\": {\n            width: \"100%\",\n        },\n        display: \"block\",\n        padding: \"6px 0px\",\n        lineHeight: \"1.42857143\",\n        color: \"#555\",\n        maxWidth: \"600px\",\n        margin: \"0 auto\",\n        \"[disabled]\": {\n            opacity: \"1\",\n            cursor: \"not-allowed\",\n        },\n        \"[readonly]\": {\n            opacity: \"1\",\n        },\n    };\n\n    @styleRule\n    sameLine = {\n        \">label>*:nth-child(1)\": {\n            display: \"inline-block\",\n            textAlign: \"right\",\n            paddingRight: \"1em\",\n            width: \"30%\",\n            verticalAlign: \"middle\",\n        },\n        \">label>*:nth-child(2)\": {\n            display: \"inline-block\",\n            width: \"70%\",\n            verticalAlign: \"middle\",\n        },\n    };\n\n    separatedLineInputStyle = {\n        marginRight: \"0.5em\",\n        width: \"100%\",\n        height: \"2.4em\",\n    };\n\n    @styleRule\n    separatedLine = {\n        padding: \"6px 10px\",\n        \">label>*:nth-child(1)\": {\n            verticalAlign: \"sub\",\n        },\n        \">label>input\": this.separatedLineInputStyle,\n        \">label>select\": this.separatedLineInputStyle,\n        \">label>textarea\": this.separatedLineInputStyle,\n        \">label>input[type='checkbox']\": {\n            marginLeft: \"10px\",\n            verticalAlign: \"middle\",\n        }\n    };\n\n    @styleRule\n    hasError = {\n        color: \"#a94442\",\n    };\n}\n\nexport {FormStyle};\n","import {FormStyle} from \"./Style\";\nimport {UI} from \"../UIBase\";\nimport {registerStyle} from \"../style/Theme\";\n\n@registerStyle(FormStyle)\nclass Form extends UI.Primitive(\"form\") {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.form);\n    }\n\n    onMount() {\n        // Form elements by default refresh the page when a button inside them is clicked, so we prevent that.\n        this.addNodeListener(\"submit\", (event) => event.preventDefault());\n    }\n}\n\n@registerStyle(FormStyle)\nclass FormGroup extends UI.Element {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.formGroup);\n    }\n\n    setError(errorMessage) {\n        this.errorField.node.textContent = errorMessage;\n        this.addClass(this.styleSheet.hasError);\n    }\n\n    removeError() {\n        this.errorField.node.textContent = \"\";\n        this.removeClass(this.styleSheet.hasError);\n    }\n\n    getErrorField() {\n        return <span ref=\"errorField\" style={{float: \"right\"}}></span>;\n    }\n\n    getChildrenToRender() {\n        return [this.render(), this.getErrorField()];\n    }\n}\n\n\nclass FormField extends FormGroup {\n    inline() {\n        return !(this.options.inline === false ||\n                 (this.parent && this.parent.options && this.parent.options.inline === false));\n    }\n\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.formField);\n        if (this.inline()) {\n            attr.addClass(this.styleSheet.sameLine);\n        } else {\n            attr.addClass(this.styleSheet.separatedLine);\n        }\n    }\n\n    getLabel() {\n        if (this.options.label) {\n            return <strong>{this.options.label}</strong>;\n        }\n        return null;\n    }\n\n    render() {\n        if (this.options.contentFirst) {\n            return [<label>{[super.render(),this.getLabel()]}</label>];\n        } else {\n            return [<label>{[this.getLabel(),super.render()]}</label>];\n        }\n    }\n}\n\nexport {Form, FormGroup, FormField};\n","import {NodeAttributes} from \"../NodeAttributes\";\n\n// Setting these attributes as styles in mozilla has no effect.\n// To maintain compatibility between moz and webkit, whenever\n// one of these attributes is set as a style, it is also set as a\n// node attribute.\nconst MozStyleElements = new Set([\"width\", \"height\", \"rx\", \"ry\", \"cx\", \"cy\", \"x\", \"y\"]);\n\nexport class SVGNodeAttributes extends NodeAttributes {\n    fixMozAttributes(node) {\n        if (this.hasOwnProperty(\"style\")) {\n            for (let attributeName of MozStyleElements.values()) {\n                if (this.style.hasOwnProperty(attributeName) && !this.hasOwnProperty(attributeName)) {\n                    this.setAttribute(attributeName, this.style[attributeName], node);\n                }\n            }\n        }\n    }\n\n    setStyle(attributeName, value, node) {\n        super.setStyle(attributeName, value, node);\n        if (MozStyleElements.has(attributeName)) {\n            this.setAttribute(attributeName, value, node);\n        }\n    }\n\n    applyClassName(node) {\n        // SVG elements have a different API for setting the className than regular DOM nodes\n        if (this.className) {\n            node.setAttribute(\"class\", String(this.className));\n        } else {\n            node.removeAttribute(\"class\");\n        }\n    }\n\n    apply(node, attributesMap) {\n        this.transform = this.transform || this.translate;\n        super.apply(node, attributesMap);\n        this.fixMozAttributes(node);\n    }\n}\n","import {UI} from \"../UIBase\";\nimport {CreateNodeAttributesMap} from \"../NodeAttributes\";\nimport {uniqueId} from \"../../base/Utils\";\nimport {SVGNodeAttributes} from \"./SVGNodeAttributes\";\nimport {Device} from \"../../base/Device\";\nimport {applyDebugFlags} from \"../Debug\";\n\n\nlet SVG = {};\n\nSVG.Element = class SVGElement extends UI.Element {\n    createNode() {\n        this.node = document.createElementNS(\"http://www.w3.org/2000/svg\", this.getNodeType());\n        applyDebugFlags(this);\n        return this.node;\n    }\n\n    getScreenCoordinatedForPoint(point) {\n        const node = this.node;\n        // TODO: this is a good argument to always keep a reference to the Stem element in the nodes\n        const svgNode = node.ownerSVGElement || node;\n\n        if (svgNode.createSVGPoint) {\n            // Using native SVG transformations\n            // See https://msdn.microsoft.com/en-us/library/hh535760(v=vs.85).aspx\n            let svgPoint = svgNode.createSVGPoint();\n            svgPoint.x = point.x;\n            svgPoint.y = point.y;\n            return svgPoint.matrixTransform(node.getScreenCTM().inverse());\n        }\n\n        const rect = this.getBoundingClientRect();\n        return {\n        \tx: point.x - rect.left - node.clientLeft,\n        \ty: point.y - rect.top - node.clientTop,\n        };\n    }\n\n    getMouseCoordinatesForEvent(event=window.event) {\n        return this.getScreenCoordinatedForPoint({x: Device.getEventX(event), y: Device.getEventY(event)});\n    }\n\n    saveState() {\n        let state = {};\n        state.options = Object.assign({}, this.options);\n        return state;\n    }\n\n    setState(state) {\n        this.setOptions(state.options);\n    }\n\n    getOptionsAsNodeAttributes() {\n        let attr = this.options;\n        attr.__proto__ = SVGNodeAttributes.prototype;\n        return attr;\n    }\n\n    getNodeAttributes(returnCopy=true) {\n        if (returnCopy) {\n            return new SVGNodeAttributes(this.options);\n        } else {\n            return this.getOptionsAsNodeAttributes();\n        }\n    }\n\n    translate(x=0, y=0) {\n        this.options.translate = \"translate(\" + x + \",\" + y + \")\";\n    }\n\n    getHashCode() {\n        return uniqueId(this);\n    }\n\n    //TODO(@all) : getBoundingClientRect is unreliable, reimplement it.\n    getBoundingClientRect() {\n        let element = this.node;\n        let x = 0;\n        let y = 0;\n        while(element && element !== document.body) {\n            x -= element.scrollLeft;\n            y -= element.scrollTop;\n            element = element.offsetParent || element.parentNode;\n        }\n        if (element) {\n            x -= element.scrollLeft;\n            y -= element.scrollTop;\n        }\n        let pos = this.node.getBoundingClientRect();\n        return {\n            top: pos.top - y,\n            left: pos.left - x,\n            width: pos.width,\n            bottom: pos.bottom - y,\n            height: pos.height,\n            right: pos.right - x\n        };\n    }\n\n    getBBox() {\n        return this.node.getBBox();\n    }\n\n    getHeight() {\n        return this.getBoundingClientRect().height;\n    }\n\n    getWidth() {\n        return this.getBoundingClientRect().width;\n    }\n\n    toFront() {\n        const parentNode = this.node && this.node.parentElement;\n        if (parentNode) {\n            parentNode.removeChild(this.node);\n            parentNode.appendChild(this.node);\n        }\n    }\n\n    toBack() {\n    }\n\n    setOpacity(newOpacity) {\n        this.options.opacity = newOpacity;\n        if (this.node) {\n            this.node.setAttribute(\"opacity\", newOpacity);\n        }\n    }\n\n    setColor(color) {\n        this.options.color = color;\n        if (this.node) {\n            this.node.setAttribute(\"stroke\", color);\n            this.node.setAttribute(\"fill\", color)\n        }\n    }\n\n    remove() {\n    }\n\n    getSvg() {\n        return this.parent.getSvg();\n    }\n};\n\nSVG.Element.domAttributesMap = CreateNodeAttributesMap(UI.Element.domAttributesMap, [\n    [\"fill\"],\n    [\"height\"],\n    [\"opacity\"],\n    [\"stroke\"],\n    [\"strokeWidth\", {domName: \"stroke-width\"}],\n    [\"clipPath\", {domName: \"clip-path\"}],\n    [\"transform\"],\n    [\"width\"],\n    [\"cx\"],\n    [\"cy\"],\n    [\"rx\"],\n    [\"ry\"],\n    [\"x\"],\n    [\"y\"],\n    [\"x1\"],\n    [\"y1\"],\n    [\"x2\"],\n    [\"y2\"],\n    [\"offset\"],\n    [\"stopColor\", {domName: \"stop-color\"}],\n    [\"strokeDasharray\", {domName: \"stroke-dasharray\"}],\n    [\"strokeLinecap\", {domName: \"stroke-linecap\"}],\n    [\"viewBox\", {domName: \"viewBox\"}],\n]);\n\nexport {SVG};\n","import {SVG} from \"./SVGBase\";\nimport {CreateNodeAttributesMap} from \"../NodeAttributes\";\nimport {UI} from \"../UIBase\";\n\nSVG.Text = class SVGText extends SVG.Element {\n    getNodeType() {\n        return \"text\";\n    }\n\n    getDefaultOptions() {\n        return {\n            text: \"\",\n            fontSize: \"15px\",\n            color: \"black\",\n            dy: \"0.35em\",\n            textAnchor: \"middle\",\n            selectable: false\n        };\n    }\n\n    extraNodeAttributes(attr) {\n        // TODO: For some reason, still selectable in mozilla...\n        if (!this.options.selectable) {\n            attr.setStyle(\"-webkit-user-select\", \"none\");\n            attr.setStyle(\"-khtml-user-select\", \"none\");\n            attr.setStyle(\"-moz-user-select\", \"none\");\n            attr.setStyle(\"-ms-user-select\", \"none\");\n            attr.setStyle(\"user-select\", \"none\");\n        }\n    }\n\n    render() {\n        return [<UI.TextElement ref=\"textElement\" value={this.options.text + \"\"} />];\n    }\n\n    getX() {\n        return this.options.x;\n    }\n\n    setX(x) {\n        this.options.x = x;\n        this.node.setAttribute(\"x\", this.options.x);\n    }\n\n    getY() {\n        return this.options.y;\n    }\n\n    setY(y) {\n        this.options.y = y;\n        this.node.setAttribute(\"y\", this.options.y);\n    }\n\n    setText(text) {\n        this.options.text = text;\n        this.textElement.setValue(text + \"\");\n    }\n\n    getText() {\n        return this.options.text;\n    }\n\n    setPosition(x, y) {\n        this.setX(x);\n        this.setY(y);\n    }\n\n    getColor() {\n        return this.options.color;\n    }\n\n    setColor(color, fillOnly=false) {\n        this.options.color = color;\n        if (this.node) {\n            this.node.setAttribute(\"fill\", color);\n            if (!fillOnly) {\n                this.node.setAttribute(\"stroke\", color);\n            }\n        }\n    }\n};\n\nSVG.Text.domAttributesMap = CreateNodeAttributesMap(SVG.Element.domAttributesMap, [\n    [\"dx\"],\n    [\"dy\"],\n    [\"fontFamily\", {domName: \"font-family\"}],\n    [\"fontSize\", {domName: \"font-size\"}],\n    [\"textAnchor\", {domName: \"text-anchor\"}]\n]);","// TODO: this whole file is mosly here to not break compatibility with pre-Stem code, need refactoring\nexport var EPS = 1e-6;\n\n// Check if a value is equal to zero. Use epsilon check.\nexport var isZero = function (val, epsilon=EPS) {\n    return (Math.abs(val) < epsilon);\n};\n\n// Simulate C/C++ rand() function\nexport var rand = function (mod) {\n    return Math.floor(Math.random() * mod);\n};\n\nexport var equal = function (val1, val2, epsilon=EPS) {\n    return isZero(val1-val2, epsilon);\n};\n\nexport var equalPoints = function (p1, p2, epsilon=EPS) {\n    return isZero(p1.x - p2.x, epsilon) && isZero(p1.y - p2.y, epsilon);\n};\n\n// Compute square of a number\nexport var sqr = function (x) {\n    return x * x;\n};\n\n// Compute the distance between 2 points\nexport var distance = function (p1, p2) {\n    return Math.sqrt(sqr(p1.x - p2.x) + sqr(p1.y - p2.y));\n};\n\nexport var signedDistancePointLine = function (point, line) {\n    return (line.a * point.x + line.b * point.y + line.c) / Math.sqrt(sqr(line.a) + sqr(line.b));\n};\n\nexport var distancePointLine = function (point, line) {\n    return Math.abs(signedDistancePointLine(point, line));\n};\n\nexport var pointOnSegment = function (point, segmentStart, segmentEnd, epsilon) {\n    epsilon = epsilon || EPS;\n    return Math.abs(distance(point, segmentStart) + distance(point, segmentEnd) -\n        distance(segmentStart, segmentEnd)) <= epsilon;\n};\n\nexport var perpendicularFoot = function (point, line) {\n    var distance = (line.a * point.x + line.b * point.y + line.c) / (sqr(line.a) + sqr(line.b));\n    return {\n        x: point.x - line.a * distance,\n        y: point.y - line.b * distance\n    }\n};\n\nexport var lineEquation = function (A, B) {\n    return {\n        a: B.y - A.y,\n        b: A.x - B.x,\n        c: A.y * B.x - A.x * B.y\n    }\n};\n\n// Compute angle between 2 points in grad\nexport var angleGrad = function (p1, p2) {\n    return gradian(angleRad(p1, p2));\n};\n\n// Transform gradian in radian\nexport var radian = function (angle) {\n    return angle * Math.PI / 180;\n};\n\n// Transform radian in gradian\nexport var gradian = function (angle) {\n    return angle * 180 / Math.PI;\n};\n\n// Compute angle between 2 points in rad\nexport var angleRad = function (p1, p2) {\n    p2 = p2 || {'x': 0, 'y': 0};\n    return Math.atan2(p1.y - p2.y, p1.x - p2.x);\n};\n\n// TODO: lots of these should be methods of the point class, not global functions\nexport var crossProduct = function (p1, p2, p0) {\n    p0 = p0 || {x:0, y:0};\n    return (p1.x - p0.x) * (p2.y - p0.y) - (p1.y - p0.y) * (p2.x - p0.x);\n};\n\nexport var rotatePoint = function (point, orig, angle) {\n    // TODO: WTF, default argument value in the middle of argument list?\n    orig = orig || {x: 0, y: 0};\n    return {\n        x: Math.cos(angle) * (point.x - orig.x) - Math.sin(angle) * (point.y - orig.y) + orig.x,\n        y: Math.sin(angle) * (point.x - orig.x) + Math.cos(angle) * (point.y - orig.y) + orig.y\n    };\n};\n\nexport var translatePoint = function (point, dx, dy) {\n    return {\n        x: point.x + dx,\n        y: point.y + dy\n    };\n};\n\nexport var scalePoint = function (point, orig, sx, sy) {\n    sy = sy || sx;\n    return {\n        x: (point.x - orig.x) * sx + orig.x,\n        y: (point.y - orig.y) * sy + orig.y\n    }\n};\n\nexport var polarToCartesian = function (angle, radius, orig) {\n    orig = orig || {x: 0, y: 0};\n    return {\n        x: radius * Math.cos(angle) + orig.x,\n        y: radius * Math.sin(angle) + orig.y\n    };\n};\n\nexport var circlesIntersection = function (circle1, circle2) {\n    var points;\n    var centerDistance;\n    // TODO(@all) These vars are magic. Find out what they do and add comments\n    var l;\n    var h;\n\n    centerDistance = distance(circle1, circle2);\n    if (centerDistance > circle1.r + circle2.r) {\n        return [];\n    }\n\n    l = (sqr(circle1.r)- sqr(circle2.r) + sqr(centerDistance)) / (2 * centerDistance);\n    if (sqr(circle1.r) - sqr(l) < 0) {\n        return [];\n    }\n\n    h = Math.sqrt(sqr(circle1.r) - sqr(l));\n\n    points = [];\n    points.push({\n        x: l / centerDistance * (circle2.x - circle1.x) + h / centerDistance * (circle2.y - circle1.y) + circle1.x,\n        y: l / centerDistance * (circle2.y - circle1.y) - h / centerDistance * (circle2.x - circle1.x) + circle1.y\n    });\n    points.push({\n        x: l / centerDistance * (circle2.x - circle1.x) - h / centerDistance * (circle2.y - circle1.y) + circle1.x,\n        y: l / centerDistance * (circle2.y - circle1.y) + h / centerDistance * (circle2.x - circle1.x) + circle1.y\n    });\n\n    return points;\n};\n\nexport var bound = function (value, minValue, maxValue) {\n    if (value < minValue) {\n        return minValue;\n    }\n    if (value > maxValue) {\n        return maxValue;\n    }\n    return value;\n};\n\nexport var getVector = function (startPoint, endPoint) {\n    return {\n        x: endPoint.x - startPoint.x,\n        y: endPoint.y - startPoint.y\n    };\n};\n\nexport var vectorLength = function (vector) {\n    return distance({x:0, y:0}, vector);\n};\n\nexport var normalizeVector = function (vector) {\n    let len = vectorLength(vector);\n    if (Math.abs(len) < EPS) {\n        return {\n            x: 0,\n            y: 0\n        };\n    }\n    return {\n        x: vector.x / len,\n        y: vector.y / len\n    };\n};\n\nexport var scaleVector = function (vector, scalar) {\n    return {\n        x: vector.x * scalar,\n        y: vector.y * scalar\n    };\n};\n\nexport var addVectors = function (vector1, vector2) {\n    return {\n        x: vector1.x + vector2.x,\n        y: vector1.y + vector2.y\n    };\n};\n\nexport var subtractVectors = function (vector1, vector2) {\n    return {\n        x: vector1.x - vector2.x,\n        y: vector1.y - vector2.y\n    };\n};\n\nexport var triangleArea = function (point1, point2, point3) {\n    return 0.5 * Math.abs(crossProduct(point1, point2, point3));\n};\n\nexport var inRange = function (value, minValue, maxValue) {\n    if (isNaN(value)) {\n        return false;\n    }\n    return minValue <= value && value <= maxValue;\n};\n\nexport var interpolationValue = function (interpolationArray, X) {\n    var Y = 0;\n    var aux;\n    var i;\n    var j;\n\n    for (i = 0; i < interpolationArray.length; i += 1) {\n        if (interpolationArray.x === X) {\n           return interpolationArray.y;\n        }\n    }\n    for (i = 0; i < interpolationArray.length; i += 1) {\n        aux = interpolationArray[i].y;\n        for (j = 0; j < interpolationArray.length; j += 1) {\n            if (i !== j) {\n                aux = aux * (X - interpolationArray[j].x) / (interpolationArray[i].x - interpolationArray[j].x);\n            }\n        }\n        Y += aux;\n    }\n\n    return Y;\n};\n","import {SVG} from \"./SVGBase\";\nimport * as math from \"../../math\";\n\nSVG.SVGRoot = class SVGRoot extends SVG.Element {\n    getNodeType() {\n        return \"svg\";\n    }\n\n    getSvg() {\n        return this;\n    }\n};\n\nSVG.RawSVG = class RawSVG extends SVG.SVGRoot {\n    redraw() {\n        super.redraw();\n        this.node.innerHTML = this.options.innerHTML;\n    }\n};\n\nSVG.Group = class SVGGroup extends SVG.Element {\n    getNodeType() {\n        return \"g\";\n    }\n\n    setColor(color) {\n        for (let i = 0; i < this.children.length; i += 1) {\n            this.children[i].setColor(color);\n        }\n    }\n};\n\nSVG.Defs = class SVGDefs extends SVG.Element {\n    getNodeType() {\n        return \"defs\";\n    }\n};\n\nSVG.ClipPath = class ClipPath extends SVG.Element {\n    getNodeType() {\n        return \"clipPath\";\n    }\n};\n\nSVG.Path = class SVGPath extends SVG.Element {\n    getNodeType() {\n        return \"path\";\n    }\n\n    getDefaultOptions() {\n        return {\n            d: \"\"\n        }\n    }\n\n    getNodeAttributes() {\n        let attr = super.getNodeAttributes();\n        attr.setAttribute(\"d\", this.getPath());\n        return attr;\n    }\n\n    getPath() {\n        return this.options.d;\n    }\n\n    setPath(newPath) {\n        this.options.d = newPath;\n        this.node.setAttribute(\"d\", this.options.d);\n    }\n\n    getLength() {\n        return this.node.getTotalLength();\n    }\n\n    getPointAtLength(len) {\n        return this.node.getPointAtLength(len);\n    }\n\n    getPointAtLengthWithAngle(len) {\n        let totalLength = this.getLength();\n        let epsilon;\n        if (totalLength <= 1) {\n            epsilon = totalLength / 1000;\n        } else {\n            epsilon = Math.min(totalLength / 1000, Math.log(totalLength), 1);\n        }\n        let p1 = this.getPointAtLength(len);\n        let p2 = this.getPointAtLength(Math.min(len + epsilon, totalLength));\n        let p3 = this.getPointAtLength(Math.max(len - epsilon, 0));\n        return {\n            x: p1.x,\n            y: p1.y,\n            alpha: 180 * Math.atan2(p3.y - p2.y, p3.x - p2.x) / Math.PI\n        };\n    }\n};\n\nSVG.Circle = class SVGCircle extends SVG.Element {\n    getNodeType() {\n        return \"circle\";\n    }\n\n    getDefaultOptions() {\n        return {\n            radius: 0,\n            center: {x: 0, y: 0}\n        };\n    }\n\n    getNodeAttributes() {\n        let attr = super.getNodeAttributes();\n        attr.setAttribute(\"r\", this.options.radius);\n        attr.setAttribute(\"cx\", this.options.center.x);\n        attr.setAttribute(\"cy\", this.options.center.y);\n        return attr;\n    }\n\n    getRadius() {\n        return this.options.radius;\n    }\n\n    setRadius(radius) {\n        this.options.radius = radius;\n\n        this.setAttribute(\"r\", radius);\n    }\n\n    setCenter(x, y) {\n        this.options.center.x = x;\n        this.options.center.y = y;\n\n        this.setAttribute(\"cx\", x);\n        this.setAttribute(\"cy\", y);\n    }\n\n    getCenter() {\n        return this.options.center;\n    }\n\n    toPath() {\n        let r = this.options.radius;\n        let cx = this.options.center.x;\n        let cy = this.options.center.y;\n        let pathString = \"M\" + (cx - r) + \" \" + cy +            // Starting point is W\n                \"a\" + r + \" \" + r + \" 0 0 1 \" + r + \" \" + (-r) +    // Move to N\n                \"a\" + r + \" \" + r + \" 0 0 1 \" + r + \" \" + r +       // Move to E\n                \"a\" + r + \" \" + r + \" 0 0 1 \" + (-r) + \" \" + r +    // Move to S\n                \"a\" + r + \" \" + r + \" 0 0 1 \" + (-r) + \" \" + (-r);  // Finally, move back to W\n        return new SVG.Path({d: pathString});\n    }\n};\n\nSVG.Stop = class SVGStop extends SVG.Element {\n    getNodeType() {\n        return \"stop\";\n    }\n};\n\nSVG.RadialGradient = class SVGRadialGradient extends SVG.Element {\n    getNodeType() {\n        return \"radialGradient\";\n    }\n};\n\nSVG.LinearGradient = class SVGLinearGradient extends SVG.Element {\n    getNodeType() {\n        return \"linearGradient\";\n    }\n};\n\n//TODO Complete this class\nSVG.Ellipse = class SVGEllipse extends SVG.Element {\n    getNodeType() {\n        return \"ellipse\";\n    }\n};\n\nSVG.CircleArc = class SVGCircleArc extends SVG.Path {\n    getPath() {\n        let startAngle = this.options.startAngle;\n        let endAngle = this.options.endAngle;\n        let radius = this.options.radius;\n        let center = this.options.center;\n\n        var angleDiff = endAngle - startAngle + (endAngle < startAngle ? (2 * Math.PI) : 0);\n        var startPoint = math.polarToCartesian(startAngle, radius, center);\n        var endPoint = math.polarToCartesian(endAngle, radius, center);\n        var sweepFlag;\n        var largeArcFlag;\n\n        // Set largeArcFlag and sweepFlag\n        if (angleDiff <= Math.PI) {\n            largeArcFlag = 0;\n            if (math.crossProduct(startPoint, endPoint, center) <= 0) {\n                sweepFlag = 0;\n            } else {\n                sweepFlag = 1;\n            }\n        } else {\n            largeArcFlag = 1;\n            if (math.crossProduct(startPoint, endPoint, center) <= 0) {\n                sweepFlag = 1;\n            } else {\n                sweepFlag = 0;\n            }\n        }\n\n        return \"M \" + startPoint.x + \" \" + startPoint.y +\n            \" A \" + radius + \" \" + radius + \" 0 \" + largeArcFlag + \" \" + sweepFlag + \" \" +\n            endPoint.x + \" \" + endPoint.y;\n    }\n};\n\nSVG.Rect = class SVGRect extends SVG.Element {\n    getNodeType() {\n        return \"rect\";\n    }\n\n    getX() {\n        return this.options.x;\n    }\n\n    setX(x) {\n        this.options.x = x;\n        this.node.setAttribute(\"x\", this.options.x);\n    }\n\n    getY() {\n        return this.options.y;\n    }\n\n    setY(y) {\n        this.options.y = y;\n        this.node.setAttribute(\"y\", this.options.y);\n    }\n\n    getWidth() {\n        return this.options.width;\n    }\n\n    setWidth(width) {\n        this.options.width = width;\n        this.node.setAttribute(\"width\", this.options.width);\n    }\n\n    getHeight() {\n        return this.options.height;\n    }\n\n    setHeight(height) {\n        this.options.height = height;\n        this.node.setAttribute(\"height\", this.options.height);\n    }\n};\n\nSVG.Line = class SVGLine extends SVG.Element {\n    getNodeType() {\n        return \"line\";\n    }\n\n    getDefaultOptions() {\n        return {\n            fill: \"black\",\n            stroke: \"black\"\n        };\n    }\n\n    //TODO(@all): Make the getters for x1, y1, x2, y2\n\n    setLine(x1, y1, x2, y2) {\n        this.options.x1 = x1;\n        this.options.y1 = y1;\n        this.options.x2 = x2;\n        this.options.y2 = y2;\n\n        this.setAttribute(\"x1\", x1);\n        this.setAttribute(\"y1\", y1);\n        this.setAttribute(\"x2\", x2);\n        this.setAttribute(\"y2\", y2);\n    }\n};\n\nSVG.Polygon = class Polygon extends SVG.Path {\n    getDefaultOptions() {\n        return {\n            points: []\n        };\n    }\n\n    getNodeAttributes() {\n        let attr = super.getNodeAttributes();\n        attr.setAttribute(\"d\", this.getPolygonPath());\n        return attr;\n    }\n\n    getPolygonPath() {\n        let pathString = \"\";\n        for (let i = 0; i < this.options.points.length; ++i) {\n            if (i == 0) {\n                pathString += \"M \";\n            }\n            else {\n                pathString += \"L \";\n            }\n            pathString += this.options.points[i].x + \" \" + this.options.points[i].y + \" \";\n        }\n        pathString += \"Z\";\n        return pathString;\n    }\n\n    setPoints(points) {\n        this.options.points = points;\n        this.setPath(this.getPolygonPath());\n    }\n};","import {equal} from \"../math\";\n\nclass Transition {\n    constructor(options) {\n        this.func = options.func;\n        this.context = options.context;\n        this.duration = options.duration || 0;\n        this.startTime = options.startTime || 0;\n        this.dependsOn = options.dependsOn || [];\n        this.speedFactor = 1;\n    }\n\n    toString() {\n        return  \"{\\n\"+\n                \"   context: \" + this.context + \"\\n\"+\n                \"   duration: \" + this.duration + \"\\n\"+\n                \"   startTime: \" + this.startTime + \"\\n\"+\n                \"   dependsOn: \" + this.dependsOn + \"\\n\"+\n                \"   func: \" + this.func.toString() + \"\\n\"+\n                \"}\\n\";\n    }\n\n    hasDependencyOn(t) {\n        for (let transition of this.dependsOn) {\n            if (transition === t) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    canAdvance() {\n        for (let i = 0; i < this.dependsOn.length; i += 1) {\n            if (!this.dependsOn[i].isStopped()) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    getFraction(now=Date.now()) {\n        return Math.min((now - this.startTime) / this.getLength(), 1);\n    }\n\n    start(now=Date.now()) {\n        if (this.stopped) {\n            delete this.stopped;\n        }\n        this.setStartTime(now);\n\n        let functionWrapper = () => {\n            if (this.stopped) {\n                return;\n            }\n            if (!this.pauseTime) {\n                this.nextStep();\n            }\n            requestAnimationFrame(functionWrapper);\n        };\n        requestAnimationFrame(functionWrapper);\n        return this;\n    }\n\n    getLength() {\n        return this.getEndTime() - this.startTime;\n    }\n\n    setStartTime(time) {\n        this.startTime = time;\n        return this;\n    }\n\n    setSpeedFactor(speedFactor, now=Date.now()) {\n        let ratio = speedFactor / this.speedFactor;\n        this.startTime = (this.startTime - now) / ratio + now;\n        if (this.pauseTime) {\n            this.pauseTime = (this.pauseTime - now) / ratio + now;\n        }\n        this.speedFactor = speedFactor;\n        return this;\n    }\n\n    pause(now=Date.now()) {\n        if (!this.pauseTime) {\n            this.pauseTime = now;\n        }\n        return this;\n    }\n\n    resume(now=Date.now()) {\n        if (this.pauseTime) {\n            this.startTime += (now - this.pauseTime);\n            this.pauseTime = 0;\n        }\n        return this;\n    }\n\n    forceStart() {\n        this.restart();\n        this.func(0.0, this.context);\n        return this;\n    }\n\n    forceFinish() {\n        this.func(1.0, this.context);\n        this.stop();\n        return this;\n    }\n\n    stop() {\n        this.stopped = true;\n    }\n\n    restart() {\n        delete this.stopped;\n        return this;\n    }\n\n    isStopped() {\n        return this.stopped === true;\n    }\n\n    nextStep(now=Date.now()) {\n        // Return if transition is stopped\n        if (this.isStopped()) {\n            return this;\n        }\n        this.lastT = this.getFraction(now);\n        // Return if transitions not started yet\n        if (this.lastT < 0) {\n            return this;\n        }\n        // Call the animation function\n        this.func(this.lastT, this.context);\n        // Stop the animation if it's the last step\n        if (this.lastT === 1) {\n            this.stop();\n        }\n        return this;\n    }\n\n    getEndTime() {\n        return this.startTime + this.duration / this.speedFactor;\n    }\n}\n\nclass Modifier extends Transition {\n    constructor(options) {\n        super(options);\n        this.reverseFunc = options.reverseFunc;\n        this.context = options.context;\n    }\n\n    // WTF, so basically JSON.stringify??\n    toString() {\n        return  \"{\\n\"+\n                \"   context: \" + this.context + \"\\n\"+\n                \"   duration: \" + this.duration + \"\\n\"+\n                \"   startTime: \" + this.startTime + \"\\n\"+\n                \"   dependsOn: \" + this.dependsOn + \"\\n\"+\n                \"   func: \" + this.func.toString() + \"\\n\"+\n                \"   reverseFunc: \" + this.reverseFunc.toString() + \"\\n\"+\n                \"}\\n\";\n    }\n\n    forceStart() {\n        this.restart();\n        this.reverseFunc(this.context);\n        return this;\n    }\n\n    forceFinish() {\n        this.func(this.context);\n        this.stop();\n        return this;\n    }\n\n    nextStep(now=Date.now()) {\n        if (this.isStopped()) {\n            return this;\n        }\n        if (now >= this.startTime) {\n            this.func(this.context);\n            this.stop();\n        }\n        return this;\n    }\n\n    getEndTime() {\n        return this.startTime;\n    }\n}\n\nclass TransitionList {\n    constructor(startTime=0) {\n        this.startTime = startTime;\n        this.speedFactor = 1;\n        this.transitions = [];\n        this.dependsOn = [];\n    }\n\n    toString() {\n        return  \"{\\n\"+\n                \"   context: \" + this.context + \"\\n\"+\n                \"   duration: \" + this.duration + \"\\n\"+\n                \"   startTime: \" + this.startTime + \"\\n\"+\n                \"   dependsOn: \" + this.dependsOn + \"\\n\"+\n                \"   transitions: [\" + (this.transitions.length ? this.transitions[0].toString() : \"\") + \" ...]\\n\"+\n                \"}\\n\";\n    }\n\n    add(transition, forceFinish=true) {\n        for (let i = 0; i < transition.dependsOn.length; i += 1) {\n            if (transition.dependsOn[i].getEndTime() > transition.startTime) {\n                console.error(transition.toString() + \"\\ndepends on\\n\" + transition.dependsOn[i].toString() + \"\\n\" + \"which ends after its start!\");\n            }\n        }\n        if (forceFinish) {\n            transition.forceFinish();\n        }\n        this.transitions.push(transition);\n        return this;\n    }\n\n    push(transition, forceFinish=true) {\n        transition.setStartTime(this.getLength());\n        for (let i = 0; i < transition.dependsOn.length; i += 1) {\n            if (transition.dependsOn[i].getEndTime() > transition.startTime) {\n                console.error(transition.toString() + \"\\ndepends on\\n\" + transition.dependsOn[i].toString() + \"\\n\" + \"which ends after its start!\");\n            }\n        }\n        if (forceFinish) {\n            transition.forceFinish();\n        }\n        this.transitions.push(transition);\n        return this;\n    }\n\n    getFraction(now=Date.now()) {\n        return Math.min((now - this.startTime) / this.getLength(), 1);\n    }\n\n    setStartTime(startTime) {\n        let timeDelta = startTime - this.startTime;\n        this.startTime = startTime;\n        for (let i = 0; i < this.transitions.length; i += 1) {\n            let transition = this.transitions[i];\n            transition.setStartTime(transition.startTime + timeDelta);\n        }\n    }\n\n    start(now=Date.now()) {\n        if (this.stopped) {\n            delete this.stopped;\n        }\n        this.setStartTime(now);\n        let functionWrapper = () => {\n            if (this.stopped) {\n                return;\n            }\n            if (!this.pauseTime) {\n                this.nextStep();\n            }\n            requestAnimationFrame(functionWrapper);\n        };\n        requestAnimationFrame(functionWrapper);\n        return this;\n    }\n\n    stop() {\n        this.stopped = true;\n        for (let i = 0; i < this.transitions.length; i += 1) {\n            let transition = this.transitions[i];\n            transition.stop();\n        }\n    }\n\n    isStopped() {\n        return this.stopped === true;\n    }\n\n    pause(now=Date.now()) {\n        if (!this.pauseTime) {\n            this.pauseTime = now;\n            for (let i = 0; i < this.transitions.length; i += 1) {\n                this.transitions[i].pause(now);\n            }\n        }\n        return this;\n    }\n\n    resume(now=Date.now()) {\n        if (this.pauseTime) {\n            this.startTime += now - this.pauseTime;\n            for (let i = 0; i < this.transitions.length; i += 1) {\n                this.transitions[i].resume(now);\n            }\n            this.pauseTime = 0;\n        }\n        return this;\n    }\n\n    nextStep() {\n        // Return if transition list is stopped\n        if (this.isStopped()) {\n            return;\n        }\n\n        if (this.onNewFrame) {\n            this.onNewFrame(this.getFraction());\n        }\n\n        let finished = true;\n        let stk = [];\n        for (let i = 0; i < this.transitions.length; i += 1) {\n            let transition = this.transitions[i];\n            if (!transition.isStopped()) {\n                if (transition.canAdvance()) {\n                    transition.nextStep();\n                    while (stk.length !== 0 && this.transitions[stk[stk.length - 1]].canAdvance()) {\n                        this.transitions[stk[stk.length - 1]].nextStep();\n                        stk.pop();\n                    }\n                } else {\n                    stk.push(i);\n                }\n                finished = false;\n            }\n        }\n        if (finished) {\n            this.stop();\n        }\n        return this;\n    }\n\n    setSpeedFactor(speedFactor, now=Date.now()) {\n        let ratio = speedFactor / this.speedFactor;\n        this.startTime = (this.startTime - now) / ratio + now;\n        if (this.pauseTime) {\n            this.pauseTime = (this.pauseTime - now) / ratio + now;\n        }\n        this.speedFactor = speedFactor;\n        for (let i = 0; i < this.transitions.length; i += 1) {\n            this.transitions[i].setSpeedFactor(speedFactor, now);\n        }\n        return this;\n    }\n\n    restart() {\n        delete this.stopped;\n        for (let i = 0; i < this.transitions.length; i += 1) {\n            let transition = this.transitions[i];\n            transition.restart();\n        }\n        this.sortByEndTime();\n        return this;\n    }\n\n    getLength() {\n        return this.getEndTime() - this.startTime;\n    }\n\n    getEndTime() {\n        let endTime = 0;\n        for (let i = 0; i < this.transitions.length; i += 1) {\n            let transitionEndTime = this.transitions[i].getEndTime();\n            if (transitionEndTime > endTime) {\n                endTime = transitionEndTime;\n            }\n        }\n        return endTime;\n    }\n\n    hasDependencyOn(t) {\n        for (let transition in this.dependsOn) {\n            if (transition === t) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    canAdvance() {\n        for (let i = 0; i < this.dependsOn.length; i += 1) {\n            if (!this.dependsOn[i].isStopped()) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    sortByStartTime() {\n        // TODO: this comparator should be global\n        this.transitions.sort((a, b) => {\n            if (!equal(a.startTime, b.startTime, 0.001)) {\n                return b.startTime - a.startTime;\n            }\n            //not a hack, works in all conflict cases\n            if (!equal(a.getEndTime(), b.getEndTime(), 0.001)) {\n                return b.getEndTime() - a.getEndTime();\n            }\n            if (a.hasDependencyOn(b)) {\n                return 1;\n            }\n            if (b.hasDependencyOn(a)) {\n                return -1;\n            }\n            return 0;\n        });\n    }\n    sortByEndTime() {\n        this.transitions.sort((a, b) => {\n            if (!equal(a.getEndTime(), b.getEndTime(), 0.001)) {\n                return a.getEndTime() - b.getEndTime();\n            }\n            //not a hack, works in all conflict cases\n            if (!equal(a.startTime, b.startTime, 0.001)) {\n                return a.startTime - b.startTime;\n            }\n            if (a.hasDependencyOn(b)) {\n                return -1;\n            }\n            if (b.hasDependencyOn(a)) {\n                return 1;\n            }\n            return 0;\n        });\n    }\n\n    forceStart(now=Date.now()) {\n        this.sortByStartTime();\n        for (let i = 0; i < this.transitions.length; i += 1) {\n            let transition = this.transitions[i];\n            if (transition.startTime <= now) {\n                transition.forceStart(now);\n            }\n        }\n        return this;\n    }\n\n    forceFinish(now=Date.now(), startTime=-1) {\n        this.sortByEndTime();\n        for (let i = 0; i < this.transitions.length; i += 1) {\n            let transition = this.transitions[i];\n            if (transition.getEndTime() >= startTime) {\n                if (transition instanceof TransitionList) {\n                transition.forceFinish(now, startTime);\n                } else {\n                    if (typeof now === \"undefined\" || transition.getEndTime() < now) {\n                        transition.forceFinish();\n                    }\n                }\n            }\n        }\n        return this;\n    }\n\n    startAtPercent(startPercent, now=Date.now()) {\n        cancelAnimationFrame(this.animationFrameId);\n        this.restart();\n        // TODO(@wefgef): Buggy\n        let paused = this.pauseTime;\n        if (paused) {\n            this.resume();\n        }\n        this.forceStart(now);\n        this.setStartTime(now - startPercent * this.getLength());\n        this.forceFinish(now);\n        // TODO(@wefgef): Huge hack to deal with force transition\n        this.nextStep();\n        this.nextStep();\n        if (paused) {\n            this.pause();\n        }\n\n        let functionWrapper = () => {\n            if (this.isStopped()) {\n                return;\n            }\n            if (!this.pauseTime) {\n                this.nextStep();\n            }\n            this.animationFrameId = requestAnimationFrame(functionWrapper);\n        };\n        this.animationFrameId = requestAnimationFrame(functionWrapper);\n    }\n}\n\nexport {Transition, Modifier, TransitionList};","import {SVG} from \"./SVGBase\";\nimport {Transition} from \"../Transition\";\nimport {Color} from \"../Color\";\n\nSVG.AnimatedSVG = class AnimatedSVG extends SVG.SVGRoot {\n    onMount() {\n        if (this.options.transition) {\n            this.options.transition.setStartTime(Date.now());\n            let animationWrapper = () => {\n                if (this.options.transition.isStopped()) {\n                    if (this.options.repeat) {\n                        this.options.transition.setStartTime(Date.now());\n                        this.options.transition.restart();\n                        requestAnimationFrame(animationWrapper);\n                    }\n                    return;\n                }\n                if (!this.options.transition.pauseTime) {\n                    this.options.transition.nextStep();\n                }\n                requestAnimationFrame(animationWrapper);\n            };\n            requestAnimationFrame(animationWrapper);\n        }\n    }\n};\n\nSVG.Element.prototype.blinkTransition = function (options) {\n    let config = {\n        duration: 2000,\n        times: 2,\n        firstColor: \"grey\",\n        secondColor: \"black\",\n        executeLastStep: true,\n        startTime: 0,\n        dependsOn: []\n    };\n    Object.assign(config, options);\n    return new Transition({\n        func: (t, context) => {\n            if (t > 1 - context.interval && !context.executeLastStep) {\n                this.setColor(context.firstColor);\n            } else {\n                this.setColor(Math.floor((1 - t) / context.interval) % 2 === 1 ? context.firstColor : context.secondColor);\n            }\n        },\n        context: {\n            firstColor: config.firstColor,\n            secondColor: config.secondColor,\n            interval: 1 / (2 * config.times),\n            executeLastStep: config.executeLastStep\n        },\n        duration: config.duration,\n        startTime: config.startTime,\n        dependsOn: config.dependsOn\n    });\n};\nSVG.Element.prototype.changeOpacityTransition = function(opacity, duration, dependsOn=[], startTime=0) {\n    if (!this.options.hasOwnProperty(\"opacity\")) {\n        this.options.opacity = 1;\n    }\n    return new Transition({\n        func: (t, context) => {\n            this.setOpacity((1 - t) * context.opacity + t * opacity);\n        },\n        context: {\n            opacity: this.options.opacity\n        },\n        duration: duration,\n        startTime: startTime,\n        dependsOn: dependsOn\n    });\n};\nSVG.Element.prototype.changeColorTransition = function(color, duration, dependsOn=[], startTime=0) {\n        return new Transition({\n            func: (t, context) => {\n                this.setColor(Color.interpolate(context.color, color, t));\n            },\n            context: {\n                color: this.getColor()\n            },\n            duration: duration,\n            startTime: startTime,\n            dependsOn: dependsOn\n        });\n    };\n\nSVG.Text.prototype.moveTransition = function(coords, duration, dependsOn=[], startTime=0) {\n        return new Transition({\n            func: (t, context) => {\n                this.setPosition(\n                    (1 - t) * context.x + t * coords.x,\n                    (1 - t) * context.y + t * coords.y\n                );\n            },\n            context: {\n                x: this.options.x,\n                y: this.options.y\n            },\n            duration: duration,\n            startTime: startTime,\n            dependsOn: dependsOn\n        });\n    };\nSVG.Text.prototype.changeFillTransition = function(color, duration, dependsOn=[], startTime=0) {\n    return new Transition({\n        func: (t, context) => {\n            this.setColor(Color.interpolate(context.color, color, t), true);\n        },\n        context: {\n            color: this.getColor()\n        },\n        duration: duration,\n        startTime: startTime,\n        dependsOn: dependsOn\n    });\n};","import {UI} from \"./UIBase\";\nimport {GlobalStyle} from \"./GlobalStyle\";\n\nclass Switcher extends UI.Element {\n    constructor(options) {\n        super(options);\n        this.childMap = new WeakMap();\n        this.numRedraws = 0;\n    }\n\n    getDefaultOptions() {\n        return {\n            fullHeight: false,\n            preserveScroll: true,\n        };\n    }\n\n    extraNodeAttributes(attr) {\n        if (this.options.fullHeight) {\n            attr.addClass(GlobalStyle.Utils.fullHeight);\n        }\n    }\n\n    copyState(element) {\n        let options = Object.assign({}, element.options, {\n            children: this.overwriteElements(this.options.children || [], element.options.children || []),\n        });\n\n        this.setOptions(options);\n\n        for (let child of this.options.children) {\n            if (child.options.active) {\n                this.activeChild = child;\n            }\n        }\n    }\n\n    render() {\n        return this.activeChild || this.options.children[0];\n    }\n\n    overwriteElements(existingElements, newElements) {\n        let keyMap = this.getElementKeyMap(existingElements) || new Map();\n        for (let i = 0; i < newElements.length; i += 1) {\n            let newChild = newElements[i];\n            let newChildKey = (newChild.options && newChild.options.key) || (\"autokey\" + i);\n            let existingChild = keyMap.get(newChildKey);\n            if (existingChild === newChild) {\n                continue;\n            }\n            if (existingChild && newChild.canOverwrite(existingChild)) {\n                newElements[i] = newChild = this.overwriteChild(existingChild, newChild);\n            }\n        }\n        return newElements;\n    }\n\n    redraw() {\n        this.numRedraws += 1;\n\n        //basic things for our current node\n        this.applyNodeAttributes();\n        this.applyRef();\n\n        // This render may be required to update this.options.children\n        UI.renderingStack.push(this);\n        this.render();\n        UI.renderingStack.pop();\n\n        if (this.options.children.length == 0) {\n            return;\n        }\n\n        for (let child of this.options.children) {\n            if (this.options.lazyRender) {\n                this.getChildProperties(child).isUpToDate = false;\n                child.applyRef();\n            } else {\n                this.updateChild(child);\n            }\n        }\n\n        this.updateActiveChild(this.activeChild || this.options.children[0]);\n    }\n\n    getChildProperties(child) {\n        if (!this.childMap.has(child)) {\n            this.childMap.set(child, {\n                isMounted: !!child.node,\n                redrawIndex: -1,\n            });\n        }\n        return this.childMap.get(child);\n    }\n\n    updateChild(child) {\n        if (this.getChildProperties(child).redrawIndex < this.numRedraws) {\n            if (!child.node) {\n                child.mount(this);\n            } else {\n                child.redraw();\n            }\n            this.getChildProperties(child).redrawIndex = this.numRedraws;\n        }\n    }\n\n    appendChild(child, doMount=false) {\n        this.options.children.push(child);\n        if (doMount) {\n            child.mount(this);\n        }\n        if (this.options.children.length == 1) {\n            this.setActive(child);\n        }\n        return child;\n    }\n\n    getActive() {\n        return this.activeChild;\n    }\n\n    insertChildNodeBefore(child, nextSibling) {\n        let childProperties = this.getChildProperties(child);\n        childProperties.isMounted = true;\n        childProperties.redrawIndex = this.numRedraws;\n    }\n\n    updateActiveChild(element) {\n        while (this.node.firstChild) {\n            //TODO: would be useful here to be able to access the matching UI Element\n            this.node.removeChild(this.node.firstChild);\n        }\n\n        if (element == null) {\n            this.activeChild = null;\n            return;\n        }\n\n        this.updateChild(element);\n\n        this.node.appendChild(element.node);\n        this.children[0] = this.activeChild = element;\n    }\n\n    deactivateChild(child) {\n        child.dispatch(\"hide\");\n        child.dispatch(\"setActive\", false);\n        if (this.options.preserveScroll) {\n            this.getChildProperties(child).scrollTop = this.node.scrollTop;\n        }\n    }\n\n    activateChild(child) {\n        child.dispatch(\"setActive\", true);\n        child.dispatch(\"show\");\n        if (this.options.preserveScroll) {\n            this.node.scrollTop = this.getChildProperties(child).scrollTop || 0;\n        }\n    }\n\n    setActive(element) {\n        if (this.activeChild === element) {\n            return;\n        }\n        if (this.activeChild) {\n            this.deactivateChild(this.activeChild);\n        }\n        this.updateActiveChild(element);\n        if (this.activeChild) {\n            this.activateChild(this.activeChild);\n        }\n    }\n\n    hasChild(element) {\n        return this.childMap.has(element);\n    }\n\n    onMount() {\n        this.addListener(\"shouldRedrawChild\", (event) => {\n            if (event.child.isInDocument()) {\n                event.child.redraw();\n            } else {\n                this.getChildProperties(event.child).isUpToDate = false;\n            }\n        });\n    }\n}\n\nexport {Switcher};\n","import {UI} from \"./UIBase\";\nimport {Switcher} from \"./Switcher\";\nimport {Dispatcher} from \"../base/Dispatcher\";\nimport {PageTitleManager} from \"../base/PageTitleManager\";\nimport {unwrapArray} from \"../base/Utils\";\n\nexport class Router extends Switcher {\n    static parseURL(path=location.pathname) {\n        if (!Array.isArray(path)) {\n            path = path.split(\"/\");\n        }\n        return path.filter(str => str != \"\");\n    }\n\n    static joinURLParts(urlParts) {\n        if (urlParts.length) {\n            return \"/\" + urlParts.join(\"/\") + \"/\";\n        } else {\n            return \"/\";\n        }\n    }\n\n    static changeURL(url, replaceHistory=false) {\n        if (Array.isArray(url)) {\n            url = this.joinURLParts(url);\n        }\n\n        if (url === window.location.pathname) {\n            return;\n        }\n        const historyArgs = [{}, PageTitleManager.getTitle(), url];\n        if (replaceHistory) {\n            window.history.replaceState(...historyArgs);\n        } else {\n            window.history.pushState(...historyArgs);\n        }\n\n        this.updateURL();\n    }\n\n    static updateURL() {\n        this.Global.setURL(this.parseURL());\n    }\n\n    static setGlobalRouter(router) {\n        this.Global = router;\n        window.onpopstate = () => {\n            this.updateURL();\n            Dispatcher.Global.dispatch(\"externalURLChange\");\n        };\n\n        this.updateURL();\n    }\n\n    clearCache() {\n        this.getRoutes().clearCache();\n    }\n\n    // TODO: should be named getRootRoute() :)\n    getRoutes() {\n        return this.options.routes;\n    }\n\n    getPageNotFound() {\n        const element = UI.createElement(\"h1\", {children: [\"Can't find url, make sure you typed it correctly\"]});\n        element.pageTitle = \"Page not found\";\n        return element;\n    }\n\n    getPageToRender(urlParts) {\n        return this.getRoutes().getPage(urlParts) || this.getPageNotFound();\n    }\n\n    setURL(urlParts) {\n        urlParts = unwrapArray(urlParts);\n\n        const page = this.getPageToRender(urlParts);\n\n        const activePage = this.getActive();\n\n        if (activePage !== page) {\n            activePage && activePage.dispatch(\"urlExit\");\n            this.setActive(page);\n            page.dispatch(\"urlEnter\");\n        }\n\n        if (this === this.constructor.Global) {\n            PageTitleManager.setTitle(page.pageTitle);\n        }\n\n        this.dispatch(\"change\", urlParts, page, activePage);\n    }\n\n    addChangeListener(callback) {\n        return this.addListener(\"change\", callback);\n    }\n\n    onMount() {\n        if (!Router.Global) {\n            this.constructor.setGlobalRouter(this);\n        }\n    }\n}\n\nexport class Route {\n    static ARG_KEY = \"%s\";\n    cachedPages = new Map();\n\n    constructor(expr, pageGenerator, subroutes=[], options={}) {\n        this.expr = (expr instanceof Array) ? expr : [expr];\n        this.pageGenerator = pageGenerator;\n        this.subroutes = unwrapArray(subroutes);\n        if (typeof options === \"string\") {\n            options = {title: options}\n        }\n        this.options = options;\n        this.cachedPages = new Map();\n    }\n\n    clearCache() {\n        this.cachedPages.clear();\n        for (const subroute of this.subroutes) {\n            subroute.clearCache();\n        }\n    }\n\n    matches(urlParts) {\n        if (urlParts.length < this.expr.length) {\n            return null;\n        }\n        let args = [];\n        for (let i = 0; i < this.expr.length; i += 1) {\n            const isArg = this.expr[i] === this.constructor.ARG_KEY;\n            if (urlParts[i] != this.expr[i] && !isArg) {\n                return null;\n            }\n            if (isArg) {\n                args.push(urlParts[i]);\n            }\n        }\n        return {\n            args: args,\n            urlParts: urlParts.slice(this.expr.length)\n        }\n    }\n\n    getPageTitle() {\n        return this.options.title;\n    }\n\n    generatePage(...argsArray) {\n        if (!this.pageGenerator) {\n            return null;\n        }\n\n        const serializedArgs = argsArray.toString();\n        if (!this.cachedPages.has(serializedArgs)) {\n            const pageGenerator = this.pageGenerator;\n            const args = unwrapArray(argsArray);\n            const generatorArgs = {args, argsArray};\n            const page = (pageGenerator.prototype instanceof UI.Element) ? new pageGenerator(generatorArgs) : pageGenerator(generatorArgs);\n            if (!page.pageTitle) {\n                const myPageTitle = this.getPageTitle();\n                if (myPageTitle) {\n                    page.pageTitle = this.getPageTitle();\n                }\n            }\n            this.cachedPages.set(serializedArgs, page);\n        }\n        return this.cachedPages.get(serializedArgs);\n    }\n\n    matchesOwnNode(urlParts) {\n        return urlParts.length === 0;\n    }\n\n    getPage(urlParts, router, ...argsArray) {\n        if (this.matchesOwnNode(urlParts)) {\n            return this.generatePage(...argsArray);\n        }\n        for (const subroute of this.subroutes) {\n            const match = subroute.matches(urlParts);\n            if (match) {\n                if (match.args.length) {\n                    argsArray.push(match.args);\n                }\n                let page = subroute.getPage(match.urlParts, router, ...argsArray);\n                if (page && !page.pageTitle) {\n                    page.pageTitle = this.getPageTitle();\n                }\n                return page;\n            }\n        }\n    }\n}\n\nexport class TerminalRoute extends Route {\n    constructor(expr, pageGenerator, options={}) {\n        super(expr, pageGenerator, [], options);\n    }\n\n    matchesOwnNode(urlParts) {\n        return true;\n    }\n\n    getPage(urlParts, router) {\n        const page = super.getPage(...arguments);\n        setTimeout(() => {\n            page.setURL(urlParts);\n        });\n        return page;\n    }\n}\n","import {UI} from \"./UIBase\";\n\n// This is the object that will be used to translate text\nlet translationMap = null;\n\n// Keep a set of all UI Element that need to be updated when the language changes\n// Can't use a weak set here unfortunately because we need iteration\n// That's why we must make sure to remove all nodes from the set when destroying them\nUI.TranslationElements = new Set();\n\nUI.TranslationTextElement = class TranslationTextElement extends UI.TextElement {\n    constructor(value) {\n        if (arguments.length === 1) {\n            super(value);\n        } else {\n            super(\"\");\n            this.setValue(...arguments);\n        }\n    }\n\n    setValue(value) {\n        if (arguments.length > 1) {\n            this.value = Array.from(arguments);\n        } else {\n            this.value = value;\n        }\n        if (this.node) {\n            this.redraw();\n        }\n    }\n\n    evaluateSprintf(str, ...values) {\n        throw Error(\"Not yet implemented\");\n    }\n\n    evaluate(strings, ...values) {\n        if (!Array.isArray(strings)) {\n            return this.evaluateSprintf(...arguments);\n            // This means strings is a string with the sprintf pattern\n        } else {\n            // Using template literals https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Template_literals\n            if (arguments.length != strings.length) {\n                console.error(\"Invalid arguments to evaluate \", Array.from(arguments));\n            }\n            let result = strings[0];\n            for (let i = 1; i < arguments.length; i++) {\n                result += arguments[i];\n                result += strings[i];\n            }\n            return result;\n        }\n    }\n\n    getValue() {\n        let value = this.value;\n        if (Array.isArray(this.value)) {\n            value = (translationMap && translationMap.get(...value)) || this.evaluate(...value);\n        } else {\n            // TODO: if translationMap.get() returns \"\", keep, skip only if returning null\n            value = (translationMap && translationMap.get(value)) || value;\n        }\n        return value;\n    }\n\n    onMount() {\n        UI.TranslationElements.add(this);\n    }\n\n    onUnmount() {\n        UI.TranslationElements.delete(this);\n    }\n};\n\n// This method is a shorthand notation to create a new translatable text element\n// TODO: should also support being used as a string template\nUI.T = (str) => {\n    return new UI.TranslationTextElement(str);\n};\n\n// TODO @mciucu this should be wrapped in a way that previous requests that arrive later don't get processed\n// TODO: should this be done with promises?\n// Function to be called with a translation map\n// The translationMap object needs to implement .get(value) to return the translation for value\nfunction setTranslationMap(_translationMap) {\n    if (translationMap === _translationMap) {\n        return;\n    }\n    translationMap = _translationMap;\n    for (let textElement of UI.TranslationElements.values()) {\n        textElement.redraw();\n    }\n}\n\nlet languageStore = null;\n\n// This function should be called to set the language store to watch for changes\n// The languageStore argumenent needs to implement .getLocale(), addListener(\"localChange\", (language) =>{})\n// The language objects need to implement .buildTranslation(callback), where callback should be called with a translationMap\nfunction setLanguageStore(_languageStore) {\n    languageStore = _languageStore;\n\n    let currentLocale = languageStore.getLocale();\n    // If there's a default language already set, build the translation table for it\n    if (currentLocale) {\n        currentLocale.buildTranslation(setTranslationMap);\n    }\n\n    // Add a listener for whenever the language changes\n    languageStore.addListener(\"localeChange\", (language) => {\n        language.buildTranslation(setTranslationMap);\n    });\n}\n\nfunction getTranslationMap() {\n    return translationMap;\n}\n\nexport {setLanguageStore, setTranslationMap, getTranslationMap};\n","import {StyleSheet, styleRule} from \"../Style\";\nimport {enhance} from \"../Color\";\nimport {Device} from \"../../base/Device\";\n\n\n\nexport class HorizontalOverflowStyle extends StyleSheet {\n    baseColor = () =>  this.themeProperties.COLOR_PRIMARY;\n    arrowColor = () => enhance(this.baseColor(), .8);\n    arrowBackground = () => this.baseColor();\n    arrowHoverColor = () => enhance(this.baseColor(), 1);\n    arrowHoverBackground = () => enhance(this.baseColor(), -.3);\n\n    transitionTime = .15;\n\n    arrow = {\n        zIndex: \"1\",\n        alignItems: \"center\",\n        padding: \".3em\",\n        fontSize: \"150% !important\",\n        height: \"100%\",\n        position: \"absolute\",\n        cursor: \"pointer\",\n        top: 0,\n        color: () => this.arrowColor(),\n        backgroundColor: () => this.arrowBackground(),\n        \":hover\": {\n            color: () => this.arrowHoverColor(),\n            backgroundColor: () => this.arrowHoverBackground(),\n        }\n    };\n\n    @styleRule\n    leftArrow = Object.assign({}, this.arrow, {\n        left: 0,\n        borderRight: () => \"2px solid \" + this.arrowHoverBackground(),\n    });\n\n    @styleRule\n    rightArrow = Object.assign({}, this.arrow, {\n        right: 0,\n        borderLeft: () => \"2px solid \" + this.arrowHoverBackground(),\n    });\n\n    @styleRule\n    horizontalOverflow = {\n        position: \"relative\",\n        width: \"100%\",\n        \">:first-child\": {\n            display: \"flex\",\n        },\n        \">:last-child\": {\n            display: \"flex\",\n        },\n    };\n\n    @styleRule\n    childrenContainer = {\n        width: \"100%\",\n        overflow: Device.isMobileDevice() ? \"auto\" : \"hidden\",\n        display: \"flex\",\n    };\n\n    @styleRule\n    swipeAnimation = {\n        transition: \"margin-left \" + this.transitionTime + \"s ease\",\n    };\n\n    @styleRule\n    hiddenArrow = {\n        display: \"none !important\",\n    };\n\n    @styleRule\n    pusherContainer = {\n        overflow: Device.isMobileDevice() ? \"auto\" : \"hidden\",\n        position: \"relative\",\n        display: \"flex\",\n        width: \"100%\",\n    }\n}\n","import {enhance} from \"../Color\";\nimport {StyleSheet} from \"../Style\";\nimport {styleRule, styleRuleInherit} from \"../../decorators/Style\";\nimport {HorizontalOverflowStyle} from \"../horizontal-overflow/Style\";\n\nclass BaseTabAreaStyle extends StyleSheet {\n    @styleRule\n    tab = {\n        userSelect: \"none\",\n        display: \"inline-block\",\n        position: \"relative\",\n    };\n\n    @styleRule\n    activeTab = {};\n\n    @styleRule\n    nav = {\n        listStyle: \"none\",\n    };\n\n    @styleRule\n    switcher = {\n        flex: \"1\",\n        overflow: \"auto\",\n    };\n\n    @styleRule\n    tabArea = {\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nclass DefaultTabAreaStyle extends BaseTabAreaStyle {\n    @styleRuleInherit\n    tab = {\n        marginBottom: \"-1px\",\n        textDecoration: \"none !important\",\n        marginRight: \"2px\",\n        lineHeight: \"1.42857143\",\n        border: \"1px solid transparent\",\n        borderRadius: \"4px 4px 0 0\",\n        padding: \"8px\",\n        paddingLeft: \"10px\",\n        paddingRight: \"10px\",\n        \":hover\": {\n            cursor: \"pointer\",\n            backgroundColor: \"#eee\",\n            color: \"#555\",\n            border: \"1px solid #ddd\",\n            borderBottomColor: \"transparent\",\n        },\n    };\n\n    @styleRuleInherit\n    activeTab = {\n        color: \"#555 !important\",\n        cursor: \"default !important\",\n        backgroundColor: \"#fff !important\",\n        border: \"1px solid #ddd !important\",\n        borderBottomColor: \"transparent !important\",\n    };\n\n    @styleRuleInherit\n    nav = {\n        borderBottom: \"1px solid #ddd\",\n        paddingLeft: \"0\",\n        marginBottom: \"0\",\n    };\n}\n\nclass MinimalistTabAreaStyle extends BaseTabAreaStyle {\n    @styleRuleInherit\n    tab = {\n        textDecoration: \"none !important\",\n        lineHeight: \"1.42857143\",\n        paddingTop: \"6px\",\n        paddingLeft: \"8px\",\n        paddingRight: \"8px\",\n        paddingBottom: \"4px\",\n        color: \"#666\",\n        borderBottom: \"2px solid transparent\",\n        \":hover\": {\n            cursor: \"pointer\",\n            color: \"rgba(51,122,183,1)\",\n        },\n    };\n\n    @styleRuleInherit\n    activeTab = {\n        fontWeight: \"bold\",\n        color: \"rgba(51,122,183,1)\",\n        cursor: \"default !important\",\n        borderBottom: \"2px solid rgba(51,122,183,1) !important\",\n    };\n\n    @styleRuleInherit\n    nav = {\n        position: \"relative\",\n        borderBottom: \"1px solid #aaa\",\n    };\n}\n\nclass FlatTabAreaStyle extends BaseTabAreaStyle {\n    transitionTime = .3;\n\n    @styleRuleInherit\n    tab = {\n        textDecoration: \"none !important\",\n        padding: () => this.themeProperties.FLAT_TAB_AREA_PADDING_SIDES,\n        letterSpacing: \"0.5px\",\n        color: () => enhance(this.themeProperties.COLOR_FOREGROUND_BODY, 0.4) + \"!important\",\n        fontWeight: \"bold\",\n        \":hover\": {\n            cursor: \"pointer\",\n            color: () => enhance(this.themeProperties.COLOR_FOREGROUND_BODY, 0.6) + \"!important\",\n        },\n    };\n\n    @styleRuleInherit\n    activeTab = {\n        color: () => enhance(this.themeProperties.COLOR_FOREGROUND_BODY, 0.8) + \"!important\",\n        cursor: \"default !important\",\n    };\n\n    @styleRuleInherit\n    nav = {\n        whiteSpace: \"nowrap\",\n        position: \"relative\",\n        paddingTop: \"4px\",\n        backgroundColor: () => this.themeProperties.COLOR_FOREGROUND_BODY,\n    };\n\n    @styleRule\n    activeBar = {\n        height: 3,\n        backgroundColor: () => this.themeProperties.COLOR_PRIMARY,\n        position: \"absolute\",\n        left: 0,\n        bottom: 0,\n    };\n\n    @styleRule\n    activeBarAnimated = {\n        transition: `${this.transitionTime}s width, ${this.transitionTime}s left`,\n    };\n\n    @styleRule\n    activeOnRender = {\n        paddingBottom: () => this.themeProperties.FLAT_TAB_AREA_PADDING_SIDES - 3,\n        borderBottom: () => \"3px solid \" + this.themeProperties.COLOR_PRIMARY,\n    };\n}\n\nclass FlatTabAreaHorizontalOverflowStyle extends HorizontalOverflowStyle {\n    baseColor = () => this.themeProperties.COLOR_FOREGROUND_BODY;\n    arrowColor = () => enhance(this.baseColor(), .4);\n    arrowBackground = () => this.baseColor();\n    arrowHoverColor = () => enhance(this.baseColor(), .8);\n    arrowHoverBackground = () => enhance(this.baseColor(), .1);\n}\n\nexport {BaseTabAreaStyle, DefaultTabAreaStyle, MinimalistTabAreaStyle, FlatTabAreaStyle,\n    FlatTabAreaHorizontalOverflowStyle};\n","import {UI} from \"../UIBase\";\nimport {Switcher} from \"../Switcher\";\nimport {Link} from \"../UIPrimitives\";\nimport {SingleActiveElementDispatcher} from \"../../base/Dispatcher\";\nimport {registerStyle} from \"../style/Theme\";\nimport {DefaultTabAreaStyle} from \"./Style\";\nimport {unwrapArray} from \"../../base/Utils\";\n\n\nclass BasicTabTitle extends Link {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.tab);\n        if (this.options.active) {\n            attr.addClass(this.styleSheet.activeTab);\n        }\n    }\n\n    getDefaultOptions() {\n        return {\n            newTab: false,\n        }\n    }\n\n    canOverwrite(existingElement) {\n        // Disable reusing with different panels, since we want to attach listeners to the panel\n        return super.canOverwrite(existingElement) && this.options.panel === existingElement.options.panel;\n    }\n\n    setActive(active) {\n        this.options.active = active;\n        this.redraw();\n        if (active) {\n            this.options.activeTabDispatcher.setActive(this.getPanel(), () => {\n                this.setActive(false);\n            });\n        }\n    }\n\n    getPanel() {\n        return this.options.panel;\n    }\n\n    getTitle() {\n        if (this.options.title) {\n            return this.options.title;\n        }\n        let panel = this.getPanel();\n        if (typeof panel.getTitle === \"function\") {\n            return panel.getTitle();\n        }\n        return panel.options.title;\n    }\n\n    render() {\n        return [this.getTitle()];\n    }\n\n    onMount() {\n        super.onMount();\n\n        if (this.options.active) {\n            this.setActive(true);\n        }\n\n        this.addClickListener(() => {\n            this.setActive(true);\n        });\n\n        if (this.options.panel && this.options.panel.addListener) {\n            this.attachListener(this.options.panel, \"show\", () => {\n                this.setActive(true);\n            });\n        }\n    }\n}\n\n\nclass TabTitleArea extends UI.Element {\n}\n\n\n@registerStyle(DefaultTabAreaStyle)\nclass TabArea extends UI.Element {\n    activeTabDispatcher = new SingleActiveElementDispatcher();\n\n    getDefaultOptions() {\n        return {\n            autoActive: true, // means the first Tab will be automatically selected\n            // lazyRender: true, // TODO: should be true by default\n            panelClass: null, // Custom css class can be added to panels\n            titleAreaClass: null, // Custom css class can be added to title area\n        }\n    }\n\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.tabArea);\n    }\n\n    createTabPanel(panel) {\n        let tab = <BasicTabTitle panel={panel} activeTabDispatcher={this.activeTabDispatcher}\n                                 active={panel.options.active} href={panel.options.tabHref}\n                                 styleSheet={this.styleSheet} />;\n\n        return [tab, panel];\n    }\n\n    appendChild(panel, doMount) {\n        let [tabTitle, tabPanel] = this.createTabPanel(panel);\n\n        this.options.children.push(panel);\n\n        this.titleArea.appendChild(tabTitle);\n        this.switcherArea.appendChild(tabPanel, doMount || !this.options.lazyRender);\n    };\n\n    getTitleArea(tabTitles) {\n        let titleAreaClass = this.styleSheet.nav;\n        if (this.options.titleAreaClass) {\n            titleAreaClass += \" \" + this.options.titleAreaClass;\n        }\n        return <TabTitleArea ref=\"titleArea\" className={titleAreaClass}>\n            {tabTitles}\n        </TabTitleArea>;\n    }\n\n    getSwitcher(tabPanels) {\n        let switcherClass = this.styleSheet.switcher;\n        if (this.options.panelClass) {\n            switcherClass += \" \" + this.options.panelClass;\n        }\n        return <Switcher className={switcherClass} ref=\"switcherArea\" lazyRender={this.options.lazyRender}>\n            {tabPanels}\n        </Switcher>;\n    }\n\n    getChildrenToRender() {\n        let tabTitles = [];\n        let tabPanels = [];\n        let activeTab;\n\n        for (const panel of unwrapArray(this.render())) {\n            let [tabTitle, tabPanel] = this.createTabPanel(panel);\n\n            if (this.activePanel === tabPanel) {\n                activeTab = tabTitle;\n            }\n\n            tabTitles.push(tabTitle);\n            tabPanels.push(tabPanel);\n        }\n\n        if (!activeTab) {\n            for (const tabTitle of tabTitles) {\n                if (tabTitle.options.active) {\n                    activeTab = tabTitle;\n                }\n            }\n        } else {\n            for (let i = 0; i < tabPanels.length; i += 1) {\n                const tabTitle = tabTitles[i];\n                const tabPanel = tabPanels[i];\n\n                if (tabTitle.options.active) {\n                    tabTitle.options.active = false;\n                }\n                if (tabPanels.options.active) {\n                    tabPanels.options.active = false;\n                }\n\n                if (activeTab === tabTitle) {\n                    tabPanel.options.active = true;\n                    tabTitle.options.active = true;\n                }\n            }\n        }\n\n        if (this.options.autoActive && !activeTab && tabTitles.length > 0) {\n            tabTitles[0].options.active = true;\n        }\n\n        return [\n            this.getTitleArea(tabTitles),\n            this.getSwitcher(tabPanels),\n        ];\n    };\n\n    setActive(panel) {\n        this.activeTabDispatcher.setActive(panel);\n    }\n\n    getActive() {\n        return this.activeTabDispatcher.getActive();\n    }\n\n    onSetActive(panel) {\n        this.switcherArea.setActive(panel);\n        this.activePanel = panel;\n    }\n\n    onMount() {\n        this.attachListener(this.activeTabDispatcher, (panel) => {\n            this.onSetActive(panel);\n        });\n\n        this.addListener(\"resize\", () => {\n            this.switcherArea.dispatch(\"resize\");\n        });\n    }\n}\n\nexport * from \"./Style\";\nexport {TabTitleArea, BasicTabTitle, TabArea};\n","// Contains classes to abstract some generic Font Awesome usecases.\nimport {UI} from \"./UIBase\";\nimport {Direction} from \"./Constants\";\n\nclass FAIcon extends UI.Primitive(\"i\") {\n    getIcon() {\n        return this.options.icon;\n    }\n\n    extraNodeAttributes(attr) {\n        attr.addClass(\"fa\");\n        attr.addClass(\"fa-\" + this.getIcon());\n        if (this.options.size) {\n            attr.addClass(\"fa-\" + this.options.size);\n        }\n    }\n\n    setIcon(icon) {\n        this.options.icon = icon;\n        this.redraw();\n    }\n}\n\nclass FACollapseIcon extends FAIcon {\n    getIcon() {\n        if (this.options.collapsed) {\n            return \"angle-right\";\n        } else {\n            return \"angle-down\";\n        }\n    }\n\n    setCollapsed(collapsed) {\n        this.options.collapsed = collapsed;\n        this.redraw();\n    }\n\n    toggleCollapsed() {\n        this.setCollapsed(!this.options.collapsed);\n    }\n}\n\nclass FASortIcon extends FAIcon {\n    getIcon() {\n        if (this.options.direction === Direction.UP) {\n            return \"sort-asc\";\n        } else if (this.options.direction === Direction.DOWN){\n            return \"sort-desc\";\n        } else {\n            return \"sort\";\n        }\n    }\n\n    setDirection(direction) {\n        this.options.direction = direction;\n        this.redraw();\n    }\n}\n\nexport {FAIcon, FACollapseIcon, FASortIcon};\n","import {UI} from \"../UIBase\";\nimport {FAIcon} from \"../FontAwesome\";\nimport {registerStyle} from \"../style/Theme\";\nimport {HorizontalOverflowStyle} from \"./Style\";\n\n\n\n@registerStyle(HorizontalOverflowStyle)\nexport class HorizontalOverflow extends UI.Element {\n    getDefaultOptions() {\n        return {\n            swipePercent: .5,\n        }\n    }\n\n    extraNodeAttributes(attr) {\n        super.extraNodeAttributes(attr);\n        attr.addClass(this.styleSheet.horizontalOverflow);\n    }\n\n    getChildrenToRender() {\n        return [\n            <FAIcon ref=\"leftArrow\" icon=\"chevron-left\" className={`${this.styleSheet.leftArrow} ${this.styleSheet.hiddenArrow}`}/>,\n            <div ref=\"childrenContainer\" className={this.styleSheet.childrenContainer}>\n                <div ref=\"swipeHelperChild\"/>\n                <div ref=\"pusherContainer\" className={this.styleSheet.pusherContainer}>\n                    {this.render()}\n                </div>\n            </div>,\n            <FAIcon ref=\"rightArrow\" icon=\"chevron-right\" className={`${this.styleSheet.rightArrow} ${this.styleSheet.hiddenArrow}`}/>\n        ];\n    }\n\n    appendChild(...args) {\n        this.pusherContainer.appendChild(...args);\n    }\n\n    eraseChild(...args) {\n        this.pusherContainer.eraseChild(...args);\n    }\n\n    checkForOverflow() {\n        const children = this.pusherContainer.children;\n\n        if (!children.length) {\n            return;\n        }\n\n        let shouldOverflowRight = false;\n        let shouldOverflowLeft = false;\n\n        const elementRect = this.node.getBoundingClientRect();\n\n        for (let child of children) {\n            const childRect = child.node.getBoundingClientRect();\n            shouldOverflowRight |= elementRect.left + elementRect.width < childRect.left + childRect.width - 1;\n            shouldOverflowLeft |= elementRect.left > childRect.left;\n        }\n\n        const leftArrowHidden = !this.leftArrow.getWidth();\n        if (shouldOverflowLeft && leftArrowHidden) {\n            this.leftArrow.removeClass(this.styleSheet.hiddenArrow);\n        } else if (!shouldOverflowLeft && !leftArrowHidden) {\n            this.leftArrow.addClass(this.styleSheet.hiddenArrow);\n        }\n\n        const rightArrowHidden = !this.rightArrow.getWidth();\n        if (shouldOverflowRight && rightArrowHidden) {\n            this.rightArrow.removeClass(this.styleSheet.hiddenArrow);\n        } else if (!shouldOverflowRight && !rightArrowHidden) {\n            this.rightArrow.addClass(this.styleSheet.hiddenArrow);\n        }\n    }\n\n    scrollContent(amount) {\n        let scrollLeft;\n        const containerNode = this.pusherContainer.node;\n        if (amount < 0) {\n            scrollLeft = Math.max(0, containerNode.scrollLeft + amount * this.getWidth());\n        } else {\n            scrollLeft = Math.min(containerNode.scrollWidth - this.getWidth(), containerNode.scrollLeft + amount * this.getWidth());\n        }\n\n        if (amount < 0) {\n            this.swipeHelperChild.setStyle(\"marginLeft\", scrollLeft - containerNode.scrollLeft);\n            containerNode.scrollLeft = scrollLeft;\n        }\n\n        this.pusherContainer.setWidth(\"fit-content\");\n        this.swipeHelperChild.addClass(this.styleSheet.swipeAnimation);\n\n        if (amount < 0) {\n            this.swipeHelperChild.setStyle(\"marginLeft\", 0);\n        } else {\n            this.swipeHelperChild.setStyle(\"marginLeft\", containerNode.scrollLeft - scrollLeft);\n        }\n\n        setTimeout(() => {\n            this.pusherContainer.setWidth(\"100%\");\n            this.swipeHelperChild.removeClass(this.styleSheet.swipeAnimation);\n            containerNode.scrollLeft = scrollLeft;\n            this.swipeHelperChild.setStyle(\"marginLeft\", 0);\n            this.checkForOverflow();\n        }, this.styleSheet.transitionTime * 1000);\n    }\n\n    scrollContentLeft() {\n        this.scrollContent(-this.options.swipePercent);\n    }\n\n    scrollContentRight() {\n        this.scrollContent(this.options.swipePercent);\n    }\n\n    // This method should be overwritten, and it is called whenever the position of the elements is changed.\n    handleEventAndHandlePositionChange(callback) {\n        callback();\n    }\n\n    onMount() {\n        this.pusherContainer.addNodeListener(\"scroll\", () => this.handleEventAndHandlePositionChange(() => this.checkForOverflow()));\n\n        this.addListener(\"resize\", () => this.handleEventAndHandlePositionChange(() => this.checkForOverflow()));\n\n        this.rightArrow.addClickListener(() => this.handleEventAndHandlePositionChange(() => this.scrollContentRight()));\n        this.leftArrow.addClickListener(() => this.handleEventAndHandlePositionChange(() => this.scrollContentLeft()));\n\n        // TODO: Create a resizeable-aware UI Element to be extended by this class and manage these listeners.\n        window.addEventListener(\"resize\", () => this.handleEventAndHandlePositionChange(() => this.checkForOverflow()));\n\n        setTimeout(() => this.checkForOverflow());\n    }\n}","import {UI} from \"../UIBase\";\nimport {FlatTabAreaStyle, FlatTabAreaHorizontalOverflowStyle} from \"./Style\";\nimport {registerStyle} from \"../style/Theme\";\nimport {SingleActiveElementDispatcher} from \"../../base/Dispatcher\";\nimport {TabTitleArea, BasicTabTitle, TabArea} from \"./TabArea\";\nimport {HorizontalOverflow} from \"../horizontal-overflow/HorizontalOverflow\";\nimport {unwrapArray} from \"../../base/Utils\";\n\n\n\nexport class FlatTabTitle extends BasicTabTitle {\n    setActive(active) {\n        super.setActive(active);\n        if (active) {\n            this.options.activeTabTitleDispatcher.setActive(this, () => {\n                this.setActive(false);\n            });\n        }\n    }\n}\n\n\n// This class displays a bottom bar on the active tab, and when changing tabs it also moves the bottom bar.\n@registerStyle(FlatTabAreaStyle)\nexport class FlatTabTitleArea extends TabTitleArea {\n    constructor(...args) {\n        super(...args);\n        // Active bar left and width must be cached so the redraw is done seamlessly.\n        this.barLeft = 0;\n        this.barWidth = 0;\n    }\n\n    extraNodeAttributes(attr) {\n        super.extraNodeAttributes(attr);\n        attr.addClass(this.styleSheet.nav);\n    }\n\n    getChildrenToRender() {\n        for (const child of this.render()) {\n            if (child.options.active) {\n                child.addClass(this.styleSheet.activeOnRender);\n            }\n        }\n        return [\n            <HorizontalOverflow ref=\"horizontalOverflow\" styleSheet={FlatTabAreaHorizontalOverflowStyle}>\n                {this.render()}\n                <div ref=\"bar\" className={this.styleSheet.activeBar}\n                     style={{left: this.barLeft, width: this.barWidth}}/>\n            </HorizontalOverflow>,\n        ]\n    }\n\n    setActiveBar(activeTab) {\n        let barLeft = 0;\n        let barWidth = 0;\n        for (const tab of unwrapArray(this.render())) {\n            const tabWidth = tab.getWidth();\n            if (tab === activeTab) {\n                barWidth = tabWidth;\n                break;\n            }\n            barLeft += tabWidth;\n        }\n        this.bar.setStyle({\n            left: barLeft,\n            width: barWidth,\n        });\n        this.barLeft = barLeft;\n        this.barWidth = barWidth;\n    }\n\n    setActive(activeTab) {\n        if (this.activeTab) {\n            // Remove the border from the active tab and \"prepare\" the bar on the current active tab.\n            this.setActiveBar(this.activeTab);\n            this.activeTab.removeClass(this.styleSheet.activeOnRender);\n        }\n\n        // Animate the bar.\n        setTimeout(() => {\n            this.bar.addClass(this.styleSheet.activeBarAnimated);\n            this.setActiveBar(activeTab);\n        });\n\n        setTimeout(() => {\n            // Sometimes, another tab has been clicked between the start and end of an animation, so remove the\n            // active class on that tab, just in case.\n            if (this.activeTab) {\n                this.activeTab.removeClass(this.styleSheet.activeOnRender);\n            }\n            // Add the active class on the current tab.\n            activeTab.addClass(this.styleSheet.activeOnRender);\n            // Restore the bar to its \"unused\" state.\n            this.bar.removeClass(this.styleSheet.activeBarAnimated);\n            this.bar.setWidth(0);\n            // Update the active tab.\n            this.activeTab = activeTab;\n        }, this.styleSheet.transitionTime * 1000);\n    }\n\n    onMount() {\n        super.onMount();\n        for (const child of this.options.children) {\n            if (child.options.active) {\n                this.setActive(child);\n            }\n        }\n        this.attachListener(this.options.activeTabTitleDispatcher, (tab) => this.setActive(tab));\n        this.addListener(\"resize\", () => this.horizontalOverflow.dispatch(\"resize\"));\n    }\n}\n\n\n@registerStyle(FlatTabAreaStyle)\nexport class FlatTabArea extends TabArea {\n    activeTabTitleDispatcher = new SingleActiveElementDispatcher();\n\n    getTitleArea(tabTitles) {\n        return <FlatTabTitleArea ref=\"titleArea\" activeTabTitleDispatcher={this.activeTabTitleDispatcher}\n                                 className={this.options.titleAreaClass || \"\"}>\n            {tabTitles}\n        </FlatTabTitleArea>;\n    }\n\n    createTabPanel(panel) {\n        let tab = <FlatTabTitle panel={panel} activeTabDispatcher={this.activeTabDispatcher}\n                                activeTabTitleDispatcher={this.activeTabTitleDispatcher}\n                                active={panel.options.active} href={panel.options.tabHref}\n                                styleSheet={this.styleSheet} />;\n\n        return [tab, panel];\n    }\n}\n","import {mapIterator} from \"../base/Utils\";\n\n// A map that supports multiple values to the same key\nclass MultiMap {\n    constructor() {\n        this.map = new Map();\n    }\n\n    static iterator(items) {\n        return items[Symbol.iterator];\n    }\n\n    // Methods that are called before every access inside\n    // the internal map\n    normalizeKey(key) {\n        return key;\n    }\n    \n    normalizeValue(value) {\n        return value;\n    }\n\n    append(key, value) {\n        let nKey = this.normalizeKey(key);\n        let nValue = this.normalizeValue(value);\n        if (this.map.has(nKey)) {\n            this.map.get(nKey).push(nValue);\n        } else {\n            this.map.set(nKey, [nValue]);\n        }\n    }\n\n    has(key) {\n        return this.map.has(this.normalizeKey(key));\n    }\n\n    delete(key) {\n        this.map.delete(this.normalizeKey(key));\n    }\n\n    set(key, value) {\n        this.map.set(this.normalizeKey(key), [this.normalizeValue(value)]);\n    }\n\n    get(key) {\n        let nKey = this.normalizeKey(key);\n        if (this.map.has(nKey)) {\n            return this.map.get(nKey)[0];\n        }\n        return null;\n    }\n\n    getAll(key) {\n        let nKey = this.normalizeKey(key);\n        if (this.map.has(nKey)) {\n            return this.map.get(nKey).slice();\n        }\n        return null;\n    }\n\n    forEach(callback, context) {\n        for (let [key, value] of this.entries()) {\n            callback.call(context, value, key, this);\n        }\n    }\n\n    keys() {\n        return mapIterator(this.entries(), entry => entry[0]);\n    }\n\n    values() {\n        return mapIterator(this.entries(), entry => entry[1]);\n    }\n\n    *entries() {\n        for (let [key, values] of this.map.entries()) {\n            for (let value of values) {\n                yield [key, value];\n            }\n        }\n    }\n\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n}\n\nexport {MultiMap};\n","import {MultiMap} from \"../data-structures/MultiMap\";\n\n// This class currently mirrors the functionality of Headers on Chrome at the time of implementation\n// TODO: It is specified that the function get() should return the result of getAll() and getAll() deprecated\nclass Headers extends MultiMap {\n    static polyfill = true;\n\n    constructor(obj) {\n        super();\n        if (obj instanceof Headers) {\n            for (let [key, value] of obj) {\n                this.append(key, value);\n            }\n        } else if (obj) {\n            for (let key of Object.keys(obj)) {\n                this.append(key, obj[key]);\n            }\n        }\n    }\n\n    normalizeKey(key) {\n        if (typeof key !== 'string') {\n            key = String(key);\n        }\n        if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(key)) {\n            throw new TypeError('Invalid character in header field name');\n        }\n        return key.toLowerCase();\n    }\n\n    normalizeValue(value) {\n        if (typeof value !== \"string\") {\n            value = String(value);\n        }\n        return value;\n    }\n}\n\nfunction polyfillHeaders(global) {\n    global.Headers = global.Headers || Headers;\n}\n\nexport {Headers, polyfillHeaders};","import {MultiMap} from \"../data-structures/MultiMap\";\n\nclass URLSearchParams extends MultiMap {\n    static polyfill = true;\n\n    constructor(obj=\"\") {\n        super(obj);\n        let str = String(obj);\n        if (str.indexOf(\"?\") === 0) {\n            str = str.slice(1);\n        }\n        for (let parameter of str.split(\"&\")) {\n            let index = parameter.indexOf(\"=\");\n            if (index !== -1) {\n                let key = this.constructor.decode(parameter.slice(0, index));\n                let value = this.constructor.decode(parameter.slice(index + 1));\n                this.append(key, value);\n            }\n        }\n    }\n\n    normalizeKey(key) {\n        return key.toString();\n    }\n\n    normalizeValue(value) {\n        return value.toString();\n    }\n\n    static encode(str) {\n        let replace = {\n            '!': '%21',\n            \"'\": '%27',\n            '(': '%28',\n            ')': '%29',\n            '~': '%7E',\n            '%20': '+',\n            '%00': '\\x00'\n        };\n        return encodeURIComponent(str).replace(/[!'\\(\\)~]|%20|%00/g, (match) => {\n            return replace[match];\n        });\n    }\n\n    static decode(str) {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    }\n\n    toString() {\n        let query = [];\n        for (let [key, values] of this.map.entries()) {\n            let name = this.constructor.encode(key);\n            for (let value of values) {\n                query.push(name + \"=\" + this.constructor.encode(value));\n            }\n        }\n        return query.join(\"&\");\n    }\n}\n\nfunction polyfillURLSearchParams(global) {\n    global.URLSearchParams = global.URLSearchParams || URLSearchParams;\n}\n\nexport {URLSearchParams, polyfillURLSearchParams};","import {polyfillHeaders} from \"./Headers\";\nimport {polyfillURLSearchParams} from \"./URLSearchParams\";\n\nfunction fileReaderReady(reader) {\n    return new Promise((resolve, reject) => {\n        reader.onload = () => {\n            resolve(reader.result);\n        };\n        reader.onerror = () => {\n            reject(reader.error);\n        };\n    });\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n    let reader = new FileReader();\n    let promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise;\n}\n\nfunction readBlobAsText(blob) {\n    let reader = new FileReader();\n    let promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise;\n}\n\nclass Body {\n    constructor() {\n        this.bodyUsed = false;\n    }\n\n    setBodyUsed() {\n        if (this.bodyUsed) {\n            return Promise.reject(new TypeError(\"Already read\"));\n        }\n        this.bodyUsed = true;\n    }\n\n    static decode(body) {\n        let form = new FormData();\n        for (let bytes of body.trim().split('&')) {\n            if (bytes) {\n                let split = bytes.split('=');\n                let name = split.shift().replace(/\\+/g, ' ');\n                let value = split.join('=').replace(/\\+/g, ' ');\n                form.append(decodeURIComponent(name), decodeURIComponent(value));\n            }\n        }\n        return form;\n    }\n\n    static cloneBuffer(buffer) {\n        if (buffer.slice) {\n            return buffer.slice();\n        } else {\n            let view = new Uint8Array(buffer.byteLength);\n            view.set(new Uint8Array(buffer));\n            return view.buffer;\n        }\n    }\n\n    initialize(bodyInit) {\n        this._bodyInit = bodyInit;\n        if (!bodyInit) {\n            this._bodyText = \"\";\n        } else if ((typeof bodyInit === \"string\") || (bodyInit instanceof String)) {\n            this._bodyText = bodyInit;\n        } else if (Blob.prototype.isPrototypeOf(bodyInit)) {\n            this._bodyBlob = bodyInit;\n        } else if (FormData.prototype.isPrototypeOf(bodyInit)) {\n            this._bodyFormData = bodyInit;\n        } else if (URLSearchParams.prototype.isPrototypeOf(bodyInit)) {\n            this._bodyText = bodyInit.toString();\n        } else if (DataView.prototype.isPrototypeOf(bodyInit)) {\n            this._bodyArrayBuffer = this.constructor.cloneBuffer(bodyInit.buffer);\n            this._bodyInit = new Blob([this._bodyArrayBuffer]);\n        } else if (ArrayBuffer.prototype.isPrototypeOf(bodyInit) || ArrayBuffer.isView(bodyInit)) {\n            this._bodyArrayBuffer = this.constructor.cloneBuffer(bodyInit);\n        } else {\n            throw new Error(\"unsupported BodyInit type\");\n        }\n\n        if (!this.headers.get(\"content-type\")) {\n            if ((typeof bodyInit === \"string\") || (bodyInit instanceof String)) {\n                this.headers.set(\"content-type\", \"text/plain;charset=UTF-8\");\n            } else if (this._bodyBlob && this._bodyBlob.type) {\n                this.headers.set(\"content-type\", this._bodyBlob.type);\n            } else if (URLSearchParams.prototype.isPrototypeOf(bodyInit)) {\n                this.headers.set(\"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\");\n            }\n        }\n    }\n\n    blob() {\n        let rejected = this.setBodyUsed();\n        if (rejected) {\n            return rejected;\n        }\n\n        if (this._bodyBlob) {\n            return Promise.resolve(this._bodyBlob);\n        }\n        if (this._bodyArrayBuffer) {\n            return Promise.resolve(new Blob([this._bodyArrayBuffer]));\n        }\n        if (this._bodyFormData) {\n            // I know this is technically wrong, but only we can create this scenario\n            return Promise.resolve(this._bodyFormData);\n        }\n        return Promise.resolve(new Blob([this._bodyText]));\n    }\n\n    arrayBuffer() {\n        if (this._bodyArrayBuffer) {\n            return this.setBodyUsed() || Promise.resolve(this._bodyArrayBuffer);\n        } else {\n            return this.blob().then(readBlobAsArrayBuffer);\n        }\n    }\n\n    readArrayBufferAsText() {\n        let view = new Uint8Array(this._bodyArrayBuffer);\n        let chars = new Array(view.length);\n\n        for (let i = 0; i < view.length; i++) {\n            chars[i] = String.fromCharCode(view[i]);\n        }\n        return chars.join(\"\");\n    }\n\n    text() {\n        let rejected = this.setBodyUsed();\n        if (rejected) {\n            return rejected;\n        }\n\n        if (this._bodyBlob) {\n            return readBlobAsText(this._bodyBlob);\n        }\n        if (this._bodyArrayBuffer) {\n            return Promise.resolve(this.readArrayBufferAsText());\n        }\n        if (this._bodyFormData) {\n            throw new Error(\"could not read FormData body as text\");\n        }\n        return Promise.resolve(this._bodyText);\n    }\n\n    formData() {\n        return this.text().then(this.constructor.decode);\n    }\n\n    json() {\n        return this.text().then(JSON.parse);\n    }\n}\n\nfunction polyfillBody(global) {\n    // TODO: Might want to polyfill other stuff\n    polyfillURLSearchParams(global);\n    polyfillHeaders(global);\n    global.Body = global.Body || Body;\n}\n\nexport {Body, polyfillBody};","import {Body} from \"./Body\";\n\nclass Request extends Body {\n    constructor(input, options={}) {\n        super();\n        let body = options.body;\n\n        if ((typeof input === \"string\") || (input instanceof String)) {\n            input = {\n                url: input\n            };\n        }\n\n        if (input.bodyUsed) {\n            throw new TypeError(\"Already read\");\n        }\n        if (!body && input.hasOwnProperty(\"_bodyInit\") && input._bodyInit != null) {\n            body = input._bodyInit;\n            input.bodyUsed = true;\n        }\n\n        this.method = this.constructor.normalizeMethod(options.method || input.method || \"GET\");\n        this.url = input.url;\n\n        let headerArgs = options.headers || input.headers || null;\n        this.headers = headerArgs ? new Headers(headerArgs) : new Headers();\n        this.context = options.context || input.context || \"\";\n        this.referrer = options.referrer || input.referrer || \"about:client\";\n        this.referrerPolicy = options.referrerPolicy || input.referrerPolicy || \"\";\n        this.mode = options.mode || input.mode || null;\n        this.credentials = options.credentials || input.credentials || \"omit\";\n        this.cache = options.cache || input.cache || \"default\";\n\n        if ((this.method === \"GET\" || this.method === \"HEAD\") && body) {\n            throw new TypeError(\"Body not allowed for GET or HEAD requests\");\n        }\n        this.initialize(body);\n    }\n\n    static methods = [\"DELETE\", \"GET\", \"HEAD\", \"OPTIONS\", \"POST\", \"PUT\"];\n    static normalizeMethod(method) {\n        let upcased = method.toUpperCase();\n        return (this.methods.indexOf(upcased) > -1) ? upcased : method;\n    }\n\n    clone() {\n        return new Request(this, {body: this._bodyInit});\n    }\n}\n\nfunction polyfillRequest(global) {\n    global.Request = global.Request || Request;\n}\n\nexport {Request, polyfillRequest};","import {Body} from \"./Body\";\n\nclass Response extends Body {\n    constructor(bodyInit, options) {\n        super();\n        options = options || {};\n\n        this.type = \"default\";\n        if (options.hasOwnProperty(\"status\")) {\n            this.status = options.status;\n        } else {\n            this.status = 200;\n        }\n        this.ok = (this.status >= 200 && this.status < 300);\n        if (options.hasOwnProperty(\"statusText\")) {\n            this.statusText = options.statusText;\n        } else {\n            this.statusText = \"OK\";\n        }\n        this.headers = new Headers(options.headers);\n        this.url = options.url || \"\";\n        this.initialize(bodyInit);\n    }\n\n    clone() {\n        return new Response(this._bodyInit, {\n            status: this.status,\n            statusText: this.statusText,\n            headers: new Headers(this.headers),\n            url: this.url\n        });\n    }\n\n    static error() {\n        let response = new Response(null, {status: 0, statusText: \"\"});\n        response.type = \"error\";\n        return response;\n    }\n    static redirectStatuses = [301, 302, 303, 307, 308];\n    static redirect(url, status) {\n        if (this.redirectStatuses.indexOf(status) === -1) {\n            throw new RangeError(\"Invalid status code\");\n        }\n        return new Response(null, {status: status, headers: {location: url}});\n    }\n}\n\nfunction polyfillResponse(global) {\n    global.Response = global.Response || Response;\n}\n\nexport {Response, polyfillResponse};","// Tries to be a more flexible implementation of fetch()\n// Still work in progress\n\nimport {isPlainObject} from \"./Utils\";\n\n// May need to polyfill Headers, Request, Response, Body, URLSearchParams classes, so import them\nimport {polyfillRequest} from \"../polyfill/Request\";\nimport {polyfillResponse} from \"../polyfill/Response\";\nimport {polyfillHeaders} from \"../polyfill/Headers\";\nimport {polyfillURLSearchParams} from \"../polyfill/URLSearchParams\";\n\n// TODO: should only call this in the first call to fetch, to not create unneeded dependencies?\nif (window) {\n    polyfillRequest(window);\n    polyfillResponse(window);\n    polyfillHeaders(window);\n    polyfillURLSearchParams(window);\n}\n\n// Parse the headers from an xhr object, to return a native Headers object\nfunction parseHeaders(xhr) {\n    const rawHeader = xhr.getAllResponseHeaders() || \"\";\n    const rawHeaderLines = rawHeader.split(/\\r?\\n/);\n    let headers = new Headers();\n\n    for (let line of rawHeaderLines) {\n        let parts = line.split(\":\");\n        let key = parts.shift().trim();\n        if (key) {\n            let value = parts.join(\":\").trim();\n            headers.append(key, value);\n        }\n    }\n    return headers;\n}\n\n// Creates a new URLSearchParams object from a plain object\n// Fields that are arrays are spread\nfunction getURLSearchParams(data) {\n    if (!isPlainObject(data)) {\n        return data;\n    }\n\n    let urlSearchParams = new URLSearchParams();\n    for (const key of Object.keys(data)) {\n        let value = data[key];\n        if (Array.isArray(value)) {\n            for (let instance of value) {\n                urlSearchParams.append(key + \"[]\", instance);\n            }\n        } else {\n            urlSearchParams.set(key, value);\n        }\n    }\n    return urlSearchParams;\n}\n\n// Appends search parameters from an object to a given URL or Request, and returns the new URL\nfunction composeURL(url, params) {\n    if (url.url) {\n        url = url.url;\n    }\n    // TODO: also extract the preexisting arguments in the url\n    if (params) {\n        url += \"?\" + getURLSearchParams(params);\n    }\n    return url;\n}\n\nexport function toFormData(data) {\n    let formData = new FormData();\n    for (const key of Object.keys(data)) {\n        formData.append(key, data[key]);\n    }\n    return formData;\n}\n\nclass XHRPromise {\n    constructor(request, options = {}) {\n        request = new Request(request, options);\n        let xhr = new XMLHttpRequest();\n        this.options = options;\n        this.request = request;\n        this.xhr = xhr;\n\n        this.promise = new Promise((resolve, reject) => {\n            this.promiseResolve = resolve;\n            this.promiseReject = reject;\n\n            xhr.onload = () => {\n                let headers = this.getResponseHeaders();\n\n                let body = xhr.response || xhr.responseText;\n                let responseInit = {\n                    status: xhr.status,\n                    statusText: xhr.statusText,\n                    headers: headers,\n                    url: xhr.responseURL || headers.get(\"X-Request-URL\"),\n                };\n                let response = new Response(body, responseInit);\n                // In case dataType is \"arrayBuffer\", \"blob\", \"formData\", \"json\", \"text\"\n                // Response has methods to return these as promises\n                if (typeof response[options.dataType] === \"function\") {\n                    // TODO: should whitelist dataType to json, blob\n                    response[options.dataType]().then((data) => {\n                        this.resolve(data);\n                    });\n                } else {\n                    this.resolve(response);\n                }\n            };\n\n            // TODO: also dispatch all arguments here on errors\n            xhr.onerror = () => {\n                this.reject(new TypeError(\"Network error\"));\n            };\n\n            // TODO: need to have an options to pass setting to xhr (like timeout value)\n            xhr.ontimeout = () => {\n                this.reject(new TypeError(\"Network timeout\"));\n            };\n\n            xhr.open(request.method, request.url, true);\n\n            if (request.credentials === \"include\") {\n                xhr.withCredentials = true;\n            }\n\n            // TODO: come back to this\n            xhr.responseType = \"blob\";\n\n            request.headers.forEach((value, name) => {\n                if (options.body instanceof FormData && name.toLowerCase() === \"content-type\") {\n                    return;\n                }\n                xhr.setRequestHeader(name, value);\n            });\n\n            // TODO: there's no need to send anything on a GET or HEAD\n            if (options.body instanceof FormData) {\n                this.send(options.body);\n            } else {\n                request.blob().then((blob) => {\n                    // The blob can be a FormData when we're polyfilling the Request class\n                    let body = ((blob instanceof FormData) || blob.size) ? blob : null;\n                    this.send(body);\n                });\n            }\n        });\n    }\n\n    getResponseHeaders() {\n        return parseHeaders(this.xhr);\n    }\n\n    send(body) {\n        this.getXHR().send(body);\n    }\n\n    getPostprocessors() {\n        return this.options.postprocessors || fetch.defaultPostprocessors;\n    }\n\n    getErrorPostprocessors() {\n        return this.options.errorPostprocessors || fetch.defaultErrorPostprocessors;\n    }\n\n    resolve(payload) {\n        for (const postprocessor of this.getPostprocessors()) {\n            try {\n                payload = postprocessor(payload, this) || payload;\n            } catch (exception) {\n                this.reject(exception);\n                return;\n            }\n        }\n\n        if (this.options.onSuccess) {\n            this.options.onSuccess(...arguments);\n        } else {\n            this.promiseResolve(...arguments);\n        }\n        if (this.options.onComplete) {\n            this.options.onComplete();\n        }\n    }\n\n    reject(error) {\n        for (const postprocessor of this.getErrorPostprocessors()) {\n            error = postprocessor(error) || error;\n        }\n\n        if (this.options.onError) {\n            this.options.onError(...arguments);\n        } else {\n            if (this._chained) {\n                this.promiseReject(...arguments);\n            } else {\n                if (this.options.errorHandler) {\n                    this.options.errorHandler(...arguments);\n                } else {\n                    console.error(\"Unhandled fetch error\", ...arguments);\n                }\n            }\n        }\n        if (this.options.onComplete) {\n            this.options.onComplete();\n        }\n    }\n\n    // TODO: next 2 functions should throw an exception if you have onSuccess/onError\n    then(onResolve, onReject) {\n        this._chained = true;\n        onReject = onReject || this.options.errorHandler;\n        return this.getPromise().then(onResolve, onReject);\n    }\n\n    catch() {\n        this._chained = true;\n        return this.getPromise().catch(...arguments);\n    }\n\n    getXHR() {\n        return this.xhr;\n    }\n\n    getPromise() {\n        return this.promise;\n    }\n\n    getRequest() {\n        return this.request;\n    }\n\n    abort() {\n        this.getXHR().abort();\n    }\n\n    addXHRListener(name, callback) {\n        this.getXHR().addEventListener(...arguments);\n    }\n\n    addProgressListener(callback) {\n        this.addXHRListener(\"progress\", ...arguments);\n    }\n}\n\n// TODO: this offers only partial compatibility with $.ajax\nfunction jQueryCompatibilityPreprocessor(options) {\n    if (options.type) {\n        options.method = options.type.toUpperCase();\n    }\n\n    if (options.contentType) {\n        options.headers.set(\"Content-Type\", options.contentType);\n    }\n\n    options.headers.set(\"X-Requested-With\", \"XMLHttpRequest\");\n\n    if (isPlainObject(options.data)) {\n        let method = options.method.toUpperCase();\n        if (method === \"GET\" || method === \"HEAD\") {\n            options.urlParams = options.urlParams || options.data;\n            if (options.cache === false) {\n                options.urlParams = getURLSearchParams(options.urlParams);\n                options.urlParams.set(\"_\", Date.now());\n            }\n        } else {\n            let formData = new FormData();\n            for (const key of Object.keys(options.data)) {\n                const value = options.data[key];\n                if (Array.isArray(value)) {\n                    for (const arrayValue of value) {\n                        formData.append(key + \"[]\", arrayValue);\n                    }\n                } else {\n                    formData.append(key, value);\n                }\n\n            }\n            options.body = formData;\n        }\n    } else {\n        options.body = options.body || options.data;\n    }\n\n    return options;\n}\n\n// Can either be called with\n// - 1 argument: (Request)\n// - 2 arguments: (url/Request, options)\nfunction fetch(input, ...args) {\n    // In case we're being passed in a single plain object (not Request), assume it has a url field\n    if (isPlainObject(input)) {\n        return fetch(input.url, ...arguments);\n    }\n\n    let options = Object.assign({}, ...args);\n\n    // Ensure that there's a .headers field for preprocessors\n    options.headers = new Headers(options.headers || {});\n\n    const preprocessors = options.preprocessors || fetch.defaultPreprocessors || [];\n\n    for (const preprocessor of preprocessors) {\n        options = preprocessor(options) || options;\n    }\n\n    options.onSuccess = options.onSuccess || options.success;\n    options.onError = options.onError || options.error;\n    options.onComplete = options.onComplete || options.complete;\n\n    if (typeof options.cache === \"boolean\") {\n        options.cache = options.cache ? \"force-cache\" : \"reload\";\n        // TODO: cache still isn't fully done\n    }\n\n    options.method = options.method || \"GET\";\n\n    // If there are any url search parameters, update the url from the urlParams or urlSearchParams fields\n    // These fields can be plain objects (jQuery style) or can be URLSearchParams objects\n    const urlParams = options.urlParams || options.urlSearchParams;\n    if (urlParams) {\n        // Change the URL of the request to add a query\n        if (input instanceof Request) {\n            input = new Request(composeURL(input.url, urlParams), input);\n        } else {\n            input = new Request(composeURL(input, urlParams), {});\n        }\n    }\n\n    return new XHRPromise(input, options);\n}\n\nfetch.defaultPreprocessors = [jQueryCompatibilityPreprocessor];\nfetch.defaultPostprocessors = [];\nfetch.defaultErrorPostprocessors = [];\n\nfetch.polyfill = true;\n\nexport {XHRPromise, fetch, composeURL, parseHeaders, getURLSearchParams, jQueryCompatibilityPreprocessor};\n","import {fetch} from \"./Fetch\";\n\nexport class AjaxHandler {\n    constructor(ajaxHandler=Ajax, errorHandler=null) {\n        this.parentHandler = ajaxHandler;\n        this.preprocessors = (ajaxHandler) ? [] : Array.from(fetch.defaultPreprocessors);\n        this.postprocessors = (ajaxHandler) ? [] : Array.from(fetch.defaultPostprocessors);\n        this.errorPostprocessors = (ajaxHandler) ? [] : Array.from(fetch.defaultErrorPostprocessors);\n        this.errorHandler = errorHandler;\n    }\n\n    fetch(request, ...args) {\n        let baseOptions = {\n            preprocessors: this.getPreprocessors(),\n            postprocessors: this.getPostprocessors(),\n            errorPostprocessors: this.getErrorPostprocessors(),\n            errorHandler: this.getErrorHandler(),\n        };\n\n        // Request may be a plain object or a url, not going to duplicate code from fetch\n        for (const key of Object.keys(baseOptions)) {\n            if (request[key]) {\n                delete baseOptions[key];\n            }\n        }\n\n        return fetch(request, baseOptions, ...args);\n    }\n\n    request() {\n        return this.fetch(...arguments)\n    }\n\n    // Feel free to modify the post and get methods for your needs\n    get(url, options) {\n        return this.fetch(...arguments, {method: \"GET\"});\n    }\n\n    getJSON(url, data, ...args) {\n        return this.get(url, {dataType: \"json\", data: data}, ...args);\n    }\n\n    post(url, options) {\n        return this.fetch(...arguments, {method: \"POST\"});\n    }\n\n    postJSON(url, data, ...args) {\n        return this.post(url, {dataType: \"json\", data: data}, ...args);\n    }\n\n    addPreprocessor(preprocessor) {\n        this.preprocessors.push(preprocessor);\n    }\n\n    getPreprocessors() {\n        const inherited = (this.parentHandler && this.parentHandler.getPreprocessors()) || [];\n        return [...this.preprocessors, ...inherited];\n    }\n\n    addPostprocessor(postprocessor) {\n        this.postprocessors.push(postprocessor);\n    }\n\n    getPostprocessors() {\n        const inherited = (this.parentHandler && this.parentHandler.getPostprocessors()) || [];\n        return [...inherited, ...this.postprocessors];\n    }\n\n    addErrorPostprocessor(postprocessor) {\n        this.errorPostprocessors.push(postprocessor);\n    }\n\n    getErrorPostprocessors() {\n        const inherited = (this.parentHandler && this.parentHandler.getErrorPostprocessors()) || [];\n        return [...inherited, ...this.errorPostprocessors];\n    }\n\n    getErrorHandler() {\n        return this.errorHandler || (this.parentHandler && this.parentHandler.getErrorHandler());\n    }\n}\n\nexport class FixedURLAjaxHandler extends AjaxHandler {\n    constructor(url, ajaxHandler=Ajax, errorHandler=null) {\n        super(ajaxHandler, errorHandler);\n        this.url = url;\n    }\n\n    get(options) {\n        return super.get(this.url, ...arguments);\n    }\n\n    getJSON(data) {\n        return super.getJSON(this.url, data);\n    }\n\n    post(options) {\n        return super.post(this.url, ...arguments);\n    }\n\n    postJSON(data) {\n        return super.postJSON(this.url, data);\n    }\n}\n\nexport let Ajax = new AjaxHandler();","import {buildColors} from \"../Color\";\nimport {BasicLevelStyleSheet} from \"../GlobalStyle\";\nimport {styleRule} from \"../../decorators/Style\";\nimport {StyleSheet} from \"../Style\";\nimport {Orientation} from \"../Constants\";\n\nexport const buttonColorToStyle = (color) => {\n    const colors = buildColors(color);\n    let darker1 = {\n        backgroundColor: colors[2],\n    };\n    let darker2 = {\n        backgroundColor: colors[3],\n    };\n    let darker3 = {\n        backgroundColor: colors[4],\n    };\n    const regular = {\n        backgroundColor: colors[1],\n        borderColor: colors[5],\n        color: colors[6],\n    };\n    const hoverDisabled = Object.assign({}, regular);\n    return Object.assign({}, regular, {\n        \":hover\": darker1,\n        \":hover:disabled\": hoverDisabled,\n        \":focus\": darker1,\n        \":active\": darker2,\n        \":hover:active\": darker3,\n        \":focus:active\": darker3,\n        \".active\": darker3,\n    });\n};\n\nexport class ButtonStyle extends BasicLevelStyleSheet(buttonColorToStyle) {\n    base = {\n        outline: \"0\",\n        border: \"0.1em solid transparent\",\n        padding: \"0.4em 0.8em\",\n        borderRadius: this.themeProperties.BUTTON_BORDER_RADIUS || this.themeProperties.BASE_BORDER_RADIUS,\n        textAlign: \"center\",\n        whiteSpace: \"nowrap\",\n        verticalAlign: \"middle\",\n        lineHeight: 4/3 + \"\",\n        marginBottom: \"0\",\n        display: \"inline-block\",\n        touchAction: \"manipulation\",\n        userSelect: \"none\",\n        \":disabled\": {\n            opacity: \"0.7\",\n            cursor: \"not-allowed\",\n        },\n    };\n\n    // DEFAULT uses MEDIUM as size and BASE as level\n    @styleRule\n    DEFAULT = [this.base, {\n        fontSize: \"14px\",\n    }, this.colorStyleRule(this.themeProperties.COLOR_BACKGROUND)];\n\n    getLevel(level) {\n        return super.getLevel(level) || this.INFO;\n    }\n\n    @styleRule\n    EXTRA_SMALL = {\n        fontSize: \"12px\",\n        padding: \"0.2em 0.4em\",\n        borderWidth: \"0.05em\",\n    };\n\n    @styleRule\n    SMALL = {\n        fontSize: \"12px\",\n    };\n\n    @styleRule\n    MEDIUM = {};\n\n    @styleRule\n    LARGE = {\n        fontSize: \"17px\",\n    };\n\n    @styleRule\n    EXTRA_LARGE = {\n        fontSize: \"21px\",\n        padding: \"0.2em 0.4em\",\n    };\n}\n\nexport class ButtonGroupStyle extends StyleSheet {\n    @styleRule\n    HORIZONTAL = {\n        pointerEvents: \"none\",\n        \">*\": {\n            \"margin-left\": \"5px\",\n            \"display\": \"inline-block\",\n            pointerEvents: \"initial\",\n        },\n        \">:first-child\": {\n            \"margin-left\": \"0px\",\n        },\n    };\n\n    @styleRule\n    VERTICAL = {\n        pointerEvents: \"none\",\n        \">*\": {\n            \"margin-top\": \"5px\",\n            \"display\": \"block\",\n            pointerEvents: \"initial\",\n        },\n        \">:first-child\": {\n            \"margin-top\": \"0px\",\n        },\n    };\n\n    Orientation(orientation) {\n        for (let type of Object.keys(Orientation)) {\n            if (orientation == Orientation[type]) {\n                return this[type];\n            }\n        }\n    }\n}\n\nexport class RadioButtonGroupStyle extends StyleSheet {\n    @styleRule\n    DEFAULT = {\n        pointerEvents: \"none\",\n        \">*\": {\n            pointerEvents: \"initial\",\n            borderRadius: \"0\",\n        },\n        \">:last-child\": {\n            borderTopRightRadius: \"0.3em\",\n            borderBottomRightRadius: \"0.3em\",\n        },\n        \">:first-child\": {\n            borderTopLeftRadius: \"0.3em\",\n            borderBottomLeftRadius: \"0.3em\",\n        }\n    };\n}\n","import {Ajax} from \"../../base/Ajax\";\nimport {IconableInterface} from \"../Bootstrap3\";\nimport {UI} from \"../UIBase\";\nimport {ActionStatus} from \"../Constants\";\nimport {registerStyle} from \"../style/Theme\";\nimport {ButtonStyle} from \"./ButtonStyle\";\n\n@registerStyle(ButtonStyle)\nclass Button extends UI.Primitive(IconableInterface, \"button\") {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.DEFAULT);\n\n        if (this.getSize()) {\n            attr.addClass(this.styleSheet.Size(this.getSize()));\n        }\n\n        if (this.getLevel()) {\n            attr.addClass(this.styleSheet.Level(this.getLevel()));\n        }\n    }\n\n    disable() {\n        this.options.disabled = true;\n        this.node.disabled = true;\n    }\n\n    enable() {\n        this.options.disabled = false;\n        this.node.disabled = false;\n    }\n\n    setEnabled(enabled) {\n        this.options.disabled = !enabled;\n        this.node.disabled = !enabled;\n    };\n}\n\n\nclass StateButton extends Button {\n    setOptions(options) {\n        options.state = (this.options && this.options.state) || options.state || ActionStatus.DEFAULT;\n\n        super.setOptions(options);\n\n        this.options.statusOptions = this.options.statusOptions || [];\n        for (let i = 0; i < 4; i += 1) {\n            if (typeof this.options.statusOptions[i] === \"string\") {\n                let statusLabel = this.options.statusOptions[i];\n                this.options.statusOptions[i] = {\n                    label: statusLabel,\n                    faIcon: \"\"\n                }\n            }\n        }\n    }\n\n    setState(status) {\n        this.options.state = status;\n        if (status === ActionStatus.DEFAULT) {\n            this.enable();\n        } else if (status === ActionStatus.RUNNING) {\n            this.disable();\n        } else if (status === ActionStatus.SUCCESS) {\n        } else if (status === ActionStatus.FAILED) {\n        }\n\n        this.redraw();\n    }\n\n    render() {\n        let stateOptions = this.options.statusOptions[this.options.state - 1];\n\n        this.options.label = stateOptions.label;\n        this.options.faIcon = stateOptions.faIcon;\n\n        return super.render();\n    }\n}\n\n\nclass AjaxButton extends StateButton {\n    getDefaultOptions() {\n        return Object.assign(super.getDefaultOptions() || {}, {\n            resetToDefaultTimeout: 1000\n        });\n    }\n\n    getAjaxHandler() {\n        return this.options.ajaxHandler || Ajax;\n    }\n\n    setAjaxHandler(ajaxHandler) {\n        this.options.ajaxHandler = ajaxHandler;\n    }\n\n    clearResetTimeout() {\n        if (this.stateResetTimeout) {\n            clearTimeout(this.stateResetTimeout);\n            delete this.stateResetTimeout;\n        }\n    }\n\n    scheduleStateReset() {\n        this.clearResetTimeout();\n        this.stateResetTimeout = setTimeout(() => {\n            this.setState(ActionStatus.DEFAULT);\n            this.clearResetTimeout();\n        }, this.resetToDefaultTimeout);\n    }\n\n    ajax(methodName, ...args) {\n        this.setState(ActionStatus.RUNNING);\n        let ajaxPromise = this.getAjaxHandler()[methodName](...args);\n        ajaxPromise.getPromise().then(\n            (data) => {\n                this.setState(ActionStatus.SUCCESS);\n                this.scheduleStateReset();\n            },\n            (error) => {\n                this.setState(ActionStatus.FAILED);\n                this.scheduleStateReset();\n            }\n        );\n        return ajaxPromise;\n    }\n\n    ajaxCall(data) {\n        return this.ajax(\"fetch\", data);\n    }\n}\nfor (const methodName of [\"fetch\", \"request\", \"get\", \"post\", \"getJSON\", \"postJSON\"]) {\n    AjaxButton.prototype[methodName] = function(...args) {\n        return this.ajax(methodName, ...args);\n    }\n}\n\nexport {Button, StateButton, AjaxButton};\n","import {UI} from \"../UIBase\";\nimport {Button} from \"./Button\";\nimport {SimpleStyledElement} from \"../Bootstrap3\";\nimport {Orientation} from \"../Constants\";\nimport {registerStyle} from \"../style/Theme\";\nimport {ButtonGroupStyle, RadioButtonGroupStyle} from \"./ButtonStyle\";\n\n@registerStyle(ButtonGroupStyle)\nclass ButtonGroup extends SimpleStyledElement {\n    getDefaultOptions() {\n        return {\n            orientation: Orientation.HORIZONTAL,\n        };\n    }\n\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.Orientation(this.options.orientation));\n    }\n}\n\n\n@registerStyle(RadioButtonGroupStyle)\nclass RadioButtonGroup extends SimpleStyledElement {\n    setOptions(options) {\n        super.setOptions(options);\n        this.index = this.options.index || 0;\n    }\n\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.DEFAULT);\n    }\n\n    render() {\n        this.buttons = [];\n        for (let i = 0; i < this.options.givenOptions.length; i += 1) {\n            this.buttons.push(\n                <Button key={i} onClick={() => {this.setIndex(i);}} size={this.getSize()}\n                  label={this.options.givenOptions[i].toString()} level={this.getLevel()}\n                  className={this.index === i ? \"active\" : \"\"}/>);\n        }\n        return this.buttons;\n    }\n\n    getIndex() {\n        return this.index;\n    }\n\n    getValue() {\n        return this.options.givenOptions[this.index];\n    }\n\n    setIndex(index) {\n        this.dispatch(\"setIndex\", {\n            index: index,\n            oldIndex: this.index,\n            value: this.options.givenOptions[index],\n            oldValue: this.options.givenOptions[this.index]\n        });\n        this.buttons[this.index].removeClass(\"active\");\n        this.index = index;\n        this.buttons[this.index].addClass(\"active\");\n    }\n}\n\nexport {ButtonGroup, RadioButtonGroup};\n","import {UI} from \"./UIBase\";\nimport {SimpleStyledElement} from \"./Bootstrap3\";\nimport {BasicLevelStyleSheet} from \"./GlobalStyle\";\nimport {registerStyle} from \"./style/Theme\";\nimport {buildColors} from \"./Color\";\nimport {styleRule} from \"../decorators/Style\";\nimport {Level} from \"./Constants\";\n\nexport function cardPanelColorToStyle(color) {\n    let colors = buildColors(color);\n    return {\n        borderColor: colors[4],\n    };\n}\n\nexport class CardPanelStyle extends BasicLevelStyleSheet(cardPanelColorToStyle) {\n    @styleRule\n    DEFAULT = [{\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n        flexDirection: \"row\",\n        padding: \"5px\",\n        minHeight: this.themeProperties.CARD_PANEL_HEADER_HEIGHT,\n        textTransform: this.themeProperties.CARD_PANEL_TEXT_TRANSFORM,\n        paddingLeft: this.themeProperties.CARD_PANEL_HEADING_PADDING,\n        paddingRight: this.themeProperties.CARD_PANEL_HEADING_PADDING,\n    },\n        cardPanelHeaderColorToStyle(this.themeProperties.COLOR_BACKGROUND)\n    ];\n\n    @styleRule\n    LARGE = {\n        minHeight: this.themeProperties.CARD_PANEL_HEADER_HEIGHT_LARGE,\n        paddingLeft: this.themeProperties.CARD_PANEL_HEADING_PADDING_LARGE,\n        paddingRight: this.themeProperties.CARD_PANEL_HEADING_PADDING_LARGE,\n    };\n\n    @styleRule\n    body = {\n    };\n\n    @styleRule\n    panel = [{\n        borderWidth: this.themeProperties.BASE_BORDER_WIDTH,\n        borderRadius: this.themeProperties.BASE_BORDER_RADIUS,\n        boxShadow: this.themeProperties.BASE_BOX_SHADOW,\n        borderStyle: this.themeProperties.BASE_BORDER_STYLE,\n        backgroundColor: this.themeProperties.COLOR_BACKGROUND,\n    },\n        cardPanelColorToStyle(this.themeProperties.COLOR_BACKGROUND)\n    ];\n\n    @styleRule\n    centered = {\n        textAlign: \"center\",\n        justifyContent: \"center\",\n    };\n}\n\nfunction cardPanelHeaderColorToStyle(color){\n    let colors = buildColors(color);\n    return {\n        color: colors[6],\n        backgroundColor: colors[1],\n        borderBottomColor: colors[4],\n    };\n}\n\nexport const CardPanelHeaderStyle = BasicLevelStyleSheet(cardPanelHeaderColorToStyle);\n\n@registerStyle(CardPanelStyle)\nclass CardPanel extends SimpleStyledElement {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.panel);\n    }\n\n    getLevel() {\n        return super.getLevel() || Level.PRIMARY;\n    }\n\n    getTitle() {\n        return this.options.title;\n    }\n\n    getHeaderStyleSheet() {\n        return CardPanelHeaderStyle.getInstance();\n    }\n\n    getDefaultOptions() {\n        return {\n            headingCentered: true,\n            bodyCentered: false,\n        };\n    }\n\n    getHeadingClasses() {\n        let headingClasses = \"\";\n        const headingLevel = this.getHeaderStyleSheet().Level(this.getLevel()),\n            {headingCentered} = this.options;\n\n        if (headingLevel) {\n            headingClasses = headingClasses + headingLevel;\n        }\n\n        headingClasses = headingClasses + this.styleSheet.DEFAULT;\n        if (this.getSize()) {\n            headingClasses = headingClasses + this.styleSheet.Size(this.getSize());\n        }\n\n        if (headingCentered) {\n            headingClasses = headingClasses + this.styleSheet.centered;\n        }\n\n        return headingClasses;\n    }\n\n    getBodyClasses() {\n        const {bodyCentered} = this.options;\n\n        let bodyClasses = this.styleSheet.body;\n        if (bodyCentered) {\n            bodyClasses = bodyClasses + this.styleSheet.centered;\n        }\n\n        return bodyClasses;\n    }\n\n    getChildrenToRender() {\n        const headingClasses = this.getHeadingClasses();\n        const bodyClasses = this.getBodyClasses();\n\n        return [\n            <div ref=\"panelTitle\" className={headingClasses}>\n                {this.getTitle()}\n            </div>,\n            <div ref=\"panelBody\" className={bodyClasses} style={this.options.bodyStyle}>\n                {this.render()}\n            </div>,\n        ];\n    }\n}\n\nexport {CardPanel};\n","import {UI} from \"./UIBase\";\nimport {styleRule} from \"./Style\";\nimport {registerStyle} from \"./style/Theme\"\nimport {SimpleStyledElement} from \"./Bootstrap3\";\nimport {BasicLevelSizeStyleSheet} from \"./GlobalStyle\";\n\n\nclass RowListStyle extends BasicLevelSizeStyleSheet {\n    @styleRule\n    rowList = {\n        width: \"100%\",\n    };\n\n    @styleRule\n    DEFAULT = {\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n\n        minHeight: this.themeProperties.ROW_LIST_ROW_HEIGHT,\n        paddingLeft: this.themeProperties.ROW_LIST_ROW_PADDING,\n        paddingRight: this.themeProperties.ROW_LIST_ROW_PADDING,\n\n        backgroundColor: this.themeProperties.COLOR_BACKGROUND,\n    };\n\n    @styleRule\n    LARGE = {\n        minHeight: this.themeProperties.ROW_LIST_ROW_HEIGHT_LARGE,\n        paddingLeft: this.themeProperties.ROW_LIST_ROW_PADDING_LARGE,\n        paddingRight: this.themeProperties.ROW_LIST_ROW_PADDING_LARGE,\n    };\n\n    @styleRule\n    alternativeColorsOddRow = {\n        backgroundColor: this.themeProperties.COLOR_BACKGROUND_ALTERNATIVE,\n    };\n\n    @styleRule\n    noAlternativeColors = {\n        borderTopWidth: this.themeProperties.ROW_LIST_ROW_BORDER_WIDTH,\n        borderTopStyle: this.themeProperties.BASE_BORDER_STYLE,\n        borderTopColor: this.themeProperties.BASE_BORDER_COLOR,\n    };\n}\n\n\n@registerStyle(RowListStyle)\nexport class RowList extends SimpleStyledElement {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.rowList);\n    }\n\n    getDefaultOptions(options) {\n        return {\n            alternateColors: true,\n        }\n    }\n\n    getRowClasses(index) {\n        let rowClasses = this.styleSheet.DEFAULT;\n        if (this.getSize()) {\n            rowClasses = rowClasses + this.styleSheet.Size(this.getSize());\n        }\n\n        const {alternateColors} = this.options;\n\n        if (alternateColors && index % 2 === 1) {\n            rowClasses = rowClasses + this.styleSheet.alternativeColorsOddRow;\n        } else if (!alternateColors && index > 0) {\n            rowClasses = rowClasses + this.styleSheet.noAlternativeColors;\n        }\n\n        return rowClasses;\n    }\n\n    render() {\n        const {rows, rowParser} = this.options;\n\n        return rows.map((row, index) => {\n            return <div className={this.getRowClasses(index)}>\n                {rowParser(row)}\n            </div>\n        });\n    }\n}","import {StyleSheet, styleRule, styleRuleInherit} from \"../Style\";\nimport {CardPanelStyle} from \"../CardPanel\";\n\nclass CollapsibleStyle extends StyleSheet {\n    transitionDuration = 0.4;\n\n    @styleRule\n    collapsing = {\n        marginTop: \"0\",\n        transitionTimingFunction: \"ease\",\n        transitionDuration: `${this.transitionDuration}s`,\n        transitionProperty: \"margin-top\",\n        transitionDelay: \"-0.15s\",\n    };\n\n    @styleRule\n    collapsed = {\n        marginTop: \"-100% !important\",\n        transitionDelay: \"0s !important\",\n    };\n}\n\n\nclass CollapsiblePanelStyle extends CardPanelStyle {\n    @styleRuleInherit\n    panel = {\n        boxShadow: null,\n        borderWidth: \"1px\",\n        borderColor: \"#ccc !important\",\n        borderRadius: \"3px\",\n    };\n\n    @styleRule\n    heading = {\n        padding: \"10px 15px\",\n        borderBottom: \"1px solid transparent\",\n        borderTopLeftRadius: \"3px\",\n        borderTopRightRadius: \"3px\",\n        backgroundColor: \"#fefefe\",\n        \":hover\": {\n            backgroundColor: \"#f3f3f3\",\n        }\n    };\n\n    @styleRule\n    button = {\n        marginTop: \"0\",\n        marginBottom: \"0\",\n        fontSize: \"16px\",\n        color: \"inherit\",\n        cursor: \"pointer\",\n        \":hover\": {\n            color: \"inherit\",\n        },\n        \":before\": {\n            transition: \"transform .2s linear\",\n            fontFamily: \"'FontAwesome'\",\n            content: \"\\\"\\\\f107\\\"\",\n            color: \"grey\",\n            display: \"inline-block\",\n            lineHeight: \"0.7em\",\n            width: \"0.7em\",\n            fontSize: \"150%\",\n            verticalAlign: \"bottom\",\n            height: \"0.7em\",\n            textAlign: \"center\",\n            transform: \"rotate(0deg)\",\n            marginRight: \".2em\",\n        }\n    };\n\n    @styleRule\n    collapsedButton = {\n        \":before\": {\n            transform: \"rotate(-90deg) !important\",\n        },\n    };\n}\n\nexport {CollapsibleStyle, CollapsiblePanelStyle};\n","import {CollapsibleStyle} from \"./Style\";\n\nfunction CollapsibleMixin(BaseClass, CollapsibleClass = CollapsibleStyle) {\n    class CollapsibleElement extends BaseClass {\n        getDefaultOptions() {\n            return {\n                collapsed: true,\n            };\n        }\n\n        static collapsibleStyleSheet = new CollapsibleClass();\n\n        getCollapsibleStyleSheet() {\n            return this.options.collapsibleStyleSheet || this.constructor.collapsibleStyleSheet;\n        }\n\n        expand(panel) {\n            this.options.collapsed = false;\n            this.dispatch(\"expand\");\n            const collapsibleStyle = this.getCollapsibleStyleSheet();\n            panel.addClass(collapsibleStyle.collapsing);\n            panel.removeClass(\"hidden\");\n            setTimeout(() => {\n                panel.removeClass(collapsibleStyle.collapsed);\n            }, 100);\n        }\n\n        collapse(panel) {\n            this.options.collapsed = true;\n            this.dispatch(\"collapse\");\n            const collapsibleStyle = this.getCollapsibleStyleSheet();\n            panel.addClass(collapsibleStyle.collapsing);\n            panel.addClass(collapsibleStyle.collapsed);\n            let transitionEndFunction = () => {\n                if (this.options.collapsed) {\n                    panel.addClass(\"hidden\");\n                }\n            };\n            panel.addNodeListener(\"transitionend\", transitionEndFunction);\n        }\n    }\n\n    return CollapsibleElement;\n}\n\n\nexport {CollapsibleMixin};\n","import {UI} from \"../UIBase\";\nimport {CollapsibleMixin} from \"./CollapsibleMixin\";\nimport {CardPanel} from \"../CardPanel\";\nimport {CollapsiblePanelStyle} from \"./Style\";\nimport {registerStyle} from \"../style/Theme\";\n\n@registerStyle(CollapsiblePanelStyle)\nclass CollapsiblePanel extends CollapsibleMixin(CardPanel) {\n    toggle() {\n        if (this.options.collapsed) {\n            this.expand();\n        } else {\n            this.collapse();\n        }\n    }\n\n    expand() {\n        super.expand(this.contentArea);\n        this.toggleButton.removeClass(this.styleSheet.collapsedButton);\n    }\n\n    collapse() {\n        super.collapse(this.contentArea);\n        this.toggleButton.addClass(this.styleSheet.collapsedButton);\n    }\n\n    setTitle(title) {\n        this.options.title = title;\n        this.toggleButton.setChildren(title);\n    }\n\n    getChildrenToRender() {\n        let collapsedPanelClass = \"\";\n        let collapsedHeadingClass = \"\";\n        let hiddenClass = \"\";\n        let contentStyle = {};\n\n        if (this.options.collapsed) {\n            collapsedHeadingClass = this.styleSheet.collapsedButton;\n            collapsedPanelClass = this.styleSheet.collapsed;\n            hiddenClass = \"hidden\";\n        }\n        if (!this.options.noPadding) {\n            contentStyle = {\n                padding: \"8px 8px\",\n            };\n        }\n\n        return [<div className={this.styleSheet.heading}>\n                    <div ref=\"toggleButton\"  className={`${this.styleSheet.button} ${collapsedHeadingClass}`}\n                        onClick={() => this.toggle()}>\n                        {this.getTitle()}\n                    </div>\n                </div>,\n                <div style={{overflow: \"hidden\"}}>\n                  <div ref=\"contentArea\" className={`${collapsedPanelClass} ${hiddenClass}`}\n                       style={contentStyle}>\n                        {this.render()}\n                    </div>\n                </div>\n        ];\n    }\n}\n\n\nclass DelayedCollapsiblePanel extends CollapsiblePanel {\n    toggle() {\n        if (!this._haveExpanded) {\n            this._haveExpanded = true;\n            UI.renderingStack.push(this);\n            this.contentArea.options.children = this.render();\n            UI.renderingStack.pop();\n            this.contentArea.redraw();\n            this.delayedMount();\n        }\n        super.toggle();\n    }\n\n    render() {\n        if (!this._haveExpanded) {\n            return [];\n        }\n        return this.getDelayedChildren();\n    }\n}\n\nexport {CollapsiblePanel, DelayedCollapsiblePanel};\n","import {StyleSheet, styleRule} from \"../Style\";\n\nclass FloatingWindowStyle extends StyleSheet {\n    @styleRule\n    hiddenAnimated = {\n        visibility: \"hidden\",\n        opacity: \"0\",\n        transition: \"opacity 0.1s linear\",\n    };\n\n    @styleRule\n    visibleAnimated = {\n        visibility: \"visible\",\n        opacity: \"1\",\n        transition: \"opacity 0.1s linear\",\n    };\n}\n\n\nclass ModalStyle extends FloatingWindowStyle {\n    @styleRule\n    container = {\n        position: \"fixed\",\n        top: \"0px\",\n        left: \"0px\",\n        right: \"0px\",\n        bottom: \"0px\",\n        width: \"100%\",\n        height: \"100%\",\n        zIndex: \"9999\",\n    };\n\n    @styleRule\n    background = {\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"100%\",\n        background: \"rgba(0,0,0,0.5)\",\n    };\n\n    @styleRule\n    header = {\n        padding: \"15px\",\n        borderBottom: \"1px solid #e5e5e5\",\n    };\n\n    @styleRule\n    body = {\n        position: \"relative\",\n        padding: \"15px\",\n    };\n\n    @styleRule\n    footer = {\n        padding: \"15px\",\n        textAlign: \"right\",\n        borderTop: \"1px solid #e5e5e5\",\n    };\n}\n\nexport {FloatingWindowStyle, ModalStyle};\n","import {UI} from \"../UIBase\";\nimport {FloatingWindowStyle} from \"./Style\";\nimport {registerStyle} from \"../style/Theme\";\n\n@registerStyle(FloatingWindowStyle)\nclass FloatingWindow extends UI.Element {\n    getDefaultOptions() {\n        return {\n            transitionTime: 0,\n            style: {\n                zIndex: 2016,\n            }\n        };\n    }\n\n    fadeOut() {\n        this.removeClass(this.styleSheet.visibleAnimated);\n        this.addClass(this.styleSheet.hiddenAnimated);\n    }\n\n    fadeIn() {\n        this.removeClass(this.styleSheet.hiddenAnimated);\n        this.addClass(this.styleSheet.visibleAnimated);\n    }\n\n    show() {\n        // TODO: refactor this to use this.parent and UI.Element appendChild\n        if (!this.isInDocument()) {\n            this.parentNode.appendChild(this.node);\n            this.redraw();\n            setTimeout(() => {\n                this.fadeIn();\n            }, 0);\n        }\n    }\n\n    setParentNode(parentNode) {\n        this.options.parentNode = parentNode;\n    }\n\n    get parentNode() {\n        if (!this.options.parentNode) {\n            if (this.parent) {\n                if (this.parent instanceof HTMLElement) {\n                    this.options.parentNode = this.parent;\n                } else {\n                    this.options.parentNode = this.parent.node;\n                }\n            } else {\n                this.options.parentNode = document.body;\n            }\n        }\n        return this.options.parentNode;\n    }\n\n    hide() {\n        // TODO: refactor this to use this.parent and UI.Element removeChild\n        if (this.isInDocument()) {\n            this.fadeOut();\n            setTimeout(() => {\n                if (this.isInDocument()) {\n                    this.parentNode.removeChild(this.node);\n                }\n            }, this.options.transitionTime);\n        }\n    }\n}\n\n\nclass VolatileFloatingWindow extends FloatingWindow {\n    bindWindowListeners() {\n        this.hideListener = this.hideListener || (() => {this.hide();});\n        window.addEventListener(\"click\", this.hideListener);\n    }\n\n    toggle() {\n        if (!this.isInDocument()) {\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    show() {\n        if (!this.isInDocument()) {\n            this.bindWindowListeners();\n            super.show();\n        }\n    }\n\n    hide() {\n        if (this.isInDocument()) {\n            super.hide();\n        }\n    }\n\n    onUnmount() {\n        super.onUnmount();\n        window.removeEventListener(\"click\", this.hideListener);\n    }\n\n    onMount() {\n        if (!this.options.notVisible) {\n            this.bindWindowListeners();\n        } else {\n            setTimeout(() => {\n                this.hide();\n            });\n        }\n\n        this.addClickListener((event) => {\n            event.stopPropagation();\n        });\n    }\n}\n\nexport {FloatingWindow, VolatileFloatingWindow};\n","import {ButtonGroup} from \"../button/ButtonGroup\";\nimport {Button} from \"../button/Button\";\nimport {FloatingWindow} from \"./FloatingWindow\";\nimport {ModalStyle} from \"./Style\";\nimport {Panel, TemporaryMessageArea} from \"../UIPrimitives\";\nimport {UI} from \"../UIBase\";\nimport {Dispatcher} from \"../../base/Dispatcher\";\nimport {registerStyle} from \"../style/Theme\";\nimport {Level, Size} from \"../Constants\";\n\n@registerStyle(ModalStyle)\nclass Modal extends UI.Element {\n    getDefaultOptions() {\n        return {\n            closeButton: true,\n            destroyOnHide: true,\n            visible: false,\n        };\n    }\n\n    getChildrenToRender() {\n        return [\n            <Panel ref=\"modalContainer\" className={(this.options.visible ? \"\" : \"hidden\") + this.styleSheet.container}>\n                <Panel ref=\"behindPanel\" className={this.styleSheet.hiddenAnimated + this.styleSheet.background} onClick={() => this.hide()}/>\n                {this.getModalWindow()}\n            </Panel>\n        ];\n    }\n\n    getModalWindow() {\n        let closeButton = null;\n        if (this.options.closeButton) {\n            // TODO: this should be in a method\n            closeButton = <div style={{right: \"10px\", zIndex: \"10\", position: \"absolute\"}}>\n                <Button className=\"close\" size={Size.EXTRA_LARGE} style={{border: \"none\"}} label=\"&times;\" onClick={() => this.hide()}/>\n            </div>;\n        }\n\n        return <FloatingWindow ref=\"modalWindow\" style={this.getModalWindowStyle()}>\n            {closeButton}\n            {this.render()}\n        </FloatingWindow>;\n    }\n\n    getModalWindowStyle() {\n        if (this.options.fillScreen) {\n            this.options.width = \"85%\";\n        }\n        // TODO(@Rocky): I don't like this very much, honestly...\n        return {\n            position: \"relative\",\n            padding: \"1%\",\n            boxShadow: \"0 5px 15px rgba(0,0,0,0.5)\",\n            borderRadius: \"10px\",\n            margin: \"60px auto\",\n            display: this.options.display || \"block\",\n            maxHeight: this.options.maxHeight || \"85%\",\n            left: \"0\",\n            right: \"0\",\n            width: this.options.width || \"50%\",\n            height: this.options.height || \"auto\",\n            background: \"white\",\n            overflow: this.options.overflow || \"auto\",\n        };\n    }\n\n    isVisible() {\n        return this.options.visible;\n    }\n\n    hide() {\n        if (!this.isVisible()) {\n            return;\n        }\n\n        this.options.visible = false;\n        this.modalWindow.fadeOut();\n\n        setTimeout(() => {\n            this.behindPanel.removeClass(this.styleSheet.visibleAnimated);\n            this.behindPanel.addClass(this.styleSheet.hiddenAnimated);\n\n            setTimeout(() => {\n                this.modalContainer.addClass(\"hidden\");\n                if (this.options.destroyOnHide) {\n                    this.destroyNode();\n                }\n            }, this.modalWindow.options.transitionTime || 0);\n\n            this.detachListener(this.closeListenerHandler);\n        }, this.modalWindow.options.transitionTime || 0);\n        document.body.classList.remove(\"unscrollable\");\n    }\n\n    show() {\n        this.options.visible = true;\n        if (!this.node) {\n            this.mount(document.body);\n        }\n        this.modalContainer.removeClass(\"hidden\");\n        setTimeout(() => {\n            this.behindPanel.addClass(this.styleSheet.visibleAnimated);\n            this.behindPanel.removeClass(this.styleSheet.hiddenAnimated);\n\n            setTimeout(() => {\n                this.modalWindow.fadeIn();\n            }, this.modalWindow.options.transitionTime);\n        }, 0);\n        this.closeListenerHandler = this.attachListener(Dispatcher.Global, \"closeAllModals\", () => {\n            this.hide();\n        });\n        document.body.classList.add(\"unscrollable\");\n    }\n\n    static show(options={}) {\n        let modal = new this(options);\n        modal.show();\n        return modal;\n    }\n}\n\n\nclass ActionModal extends Modal {\n    getDefaultOptions() {\n        return Object.assign(super.getDefaultOptions(), {\n            closeButton: false\n        });\n    }\n\n    getActionName() {\n        return this.options.actionName;\n    }\n\n    getActionLevel() {\n        return this.options.level || Level.DEFAULT;\n    }\n\n    getCloseName() {\n        return this.options.closeName || \"Close\";\n    }\n\n    render() {\n        return [\n            <div className={this.styleSheet.header}>{this.getHeader()}</div>,\n            (this.getBody() ? <div className={this.styleSheet.body}>{this.getBody()}</div> : null),\n            (this.getFooter() ? <div className={this.styleSheet.footer}>{this.getFooter()}</div> : null)\n        ];\n    }\n\n    getHeader() {\n        return <h4>{this.getTitle()}</h4>;\n    }\n\n    getTitle() {\n        return this.options.title || this.getActionName();\n    }\n\n    getBody() {\n        return null;\n    }\n\n    getActionButton() {\n        return <Button level={this.getActionLevel()} label={this.getActionName()}\n                       onClick={() => this.action()} ref=\"actionButton\" />;\n    }\n\n    getFooter() {\n        return [\n            <TemporaryMessageArea ref=\"messageArea\"/>,\n            <ButtonGroup>\n                <Button label={this.getCloseName()} onClick={() => this.hide()}/>\n                  {this.getActionButton()}\n            </ButtonGroup>\n        ];\n    }\n\n    action() {}\n}\n\n\nconst ActionModalButton = (ActionModal) => class ActionModalButton extends Button {\n    getModalOptions() {\n        let modalOptions = {\n            actionName: this.options.label,\n            level: this.options.level\n        };\n\n        Object.assign(modalOptions, this.options.modalOptions);\n        return modalOptions;\n    }\n\n    onMount() {\n        this.addClickListener(() => {\n            ActionModal.show(this.getModalOptions());\n        });\n    }\n};\n\n\nclass ErrorModal extends ActionModal {\n    getTitle() {\n        return \"An Error occurred\";\n    }\n\n    getBody() {\n        return this.options.error.message || this.options.error;\n    }\n\n    getFooter() {\n        return <Button level={Level.DANGER} label=\"Dismiss\" onClick={() => this.hide()}/>;\n    }\n}\n\nexport {Modal, ErrorModal, ActionModal, ActionModalButton};\n","import {styleRule, StyleSheet} from \"../Style\";\nimport {Device} from \"../../base/Device\";\n\nclass GlobalContainerStyle extends StyleSheet {\n    constructor() {\n        super({updateOnResize: Device.isMobileDevice()});\n    }\n\n    @styleRule\n    default = {\n        height: () => {return Device.isMobileDevice() ? `${window.innerHeight}px` : \"100vh\"},\n        paddingTop: this.themeProperties.NAV_MANAGER_NAVBAR_HEIGHT,\n        background: this.themeProperties.COLOR_BACKGROUND_BODY,\n        width: \"100%\",\n        \">*\": {\n            height: \"100%\",\n            width: \"100%\",\n            paddingTop:\n                (Device.isMobileDevice() ? this.themeProperties.MAIN_CONTAINER_EXTRA_PADDING_TOP_MOBILE :\n                                           this.themeProperties.MAIN_CONTAINER_EXTRA_PADDING_TOP_DESKTOP\n                ),\n            paddingBottom:\n                (Device.isMobileDevice() ? this.themeProperties.MAIN_CONTAINER_EXTRA_PADDING_BOTTOM_MOBILE :\n                                           this.themeProperties.MAIN_CONTAINER_EXTRA_PADDING_BOTTOM_DESKTOP\n                ),\n            overflow: Device.isMobileDevice() ? \"\" : \"auto\",\n        }\n    };\n}\n\nexport {GlobalContainerStyle};","import {UI} from \"../UIBase\";\nimport {registerStyle} from \"../style/Theme\";\nimport {GlobalContainerStyle} from \"./Style\";\nimport {Device} from \"../../base/Device\";\n\n@registerStyle(GlobalContainerStyle)\nclass GlobalContainer extends UI.Element {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.default);\n    }\n\n    onMount() {\n        if (!Device.isTouchDevice() || !Device.isMobileDevice()) {\n            Object.assign(document.body.style, {\n                overflow: \"hidden\",\n            });\n        }\n        GlobalContainer.Global = GlobalContainer.Global || this;\n    }\n}\n\nexport {GlobalContainer};","import {UI} from \"../UIBase\";\n\nclass Divider extends UI.Element {\n    dragMousedown(event) {};\n\n    dragMousemove(event) {};\n\n    dragMouseup(event) {};\n\n    dividerMousedownFunction(event) {\n        this.dragMousedown(event);\n        this.parent.dispatch(\"dividerMousedown\", {divider: this, domEvent: event});\n\n        let dragMousemoveFunction = (event) => {\n            this.dragMousemove(event);\n            event.preventDefault(); // for touch devices\n            this.parent.dispatch(\"dividerMousemove\", event);\n        };\n\n        this.parent.addNodeListener(\"touchmove\", dragMousemoveFunction);\n        this.parent.addNodeListener(\"mousemove\", dragMousemoveFunction);\n\n        let dragMouseupFunction = (event) => {\n            this.dragMouseup(event);\n            this.parent.dispatch(\"dividerMouseup\", event);\n            this.parent.removeNodeListener(\"touchmove\", dragMousemoveFunction);\n            window.removeEventListener(\"touchend\", dragMouseupFunction);\n            this.parent.removeNodeListener(\"mousemove\", dragMousemoveFunction);\n            window.removeEventListener(\"mouseup\", dragMouseupFunction);\n        };\n\n        window.addEventListener(\"touchend\", dragMouseupFunction);\n        window.addEventListener(\"mouseup\", dragMouseupFunction);\n    }\n\n    onMount() {\n        // TODO: fix this hack when Device.isTouchDevice works\n        this.addNodeListener(\"touchstart\", (event) => {this.touchDeviceTriggered = true; this.dividerMousedownFunction(event);});\n        this.addNodeListener(\"mousedown\", (event) => {if (!this.touchDeviceTriggered) {this.dividerMousedownFunction(event);}});\n    }\n}\n\nexport {Divider};\n","import {StyleSheet, styleRule, styleRuleInherit} from \"../Style\";\n\nclass DividerStyle extends StyleSheet {\n    @styleRule\n    noTextSelection = {\n        \"-webkit-user-select\": \"none\",\n        \"-moz-user-select\": \"none\",\n        \"-ms-user-select\": \"none\",\n        \"-o-user-select\": \"none\",\n        userSelect: \"none\",\n    };\n}\n\nclass AccordionStyle extends DividerStyle {\n    @styleRule\n    accordion = {\n        display: \"flex\",\n        flexDirection: \"column\",\n        \">:nth-of-type(even)\": {\n            flexGrow: \"1\",\n            flexShrink: \"1\",\n            flexBasis: \"auto\",\n            overflow: \"auto\",\n            position: \"relative\",\n        },\n        \">:nth-of-type(odd)\": {\n            fontSize: \"1em\",\n            textTransform: \"uppercase\",\n            padding: \"8px 8px\",\n        }\n    };\n\n    @styleRule\n    grab = {\n        cursor: \"grab\",\n        cursor: \"-moz-grab\",\n        cursor: \"-webkit-grab\",\n    };\n\n    @styleRule\n    grabbing = {\n        cursor: \"grabbing\",\n        cursor: \"-moz-grabbing\",\n        cursor: \"-webkit-grabbing\",\n    };\n\n    @styleRule\n    collapseIcon = {\n        width: \"0.7em\",\n        fontSize: \"120% !important\",\n        fontWeight: \"900 !important\",\n        textAlign: \"center\",\n        marginRight: \"0.2em\",\n    };\n}\n\n\nclass SectionDividerStyle extends DividerStyle {\n    barThickness = 2;\n    barPadding = 3;\n    dividerColor = () => \"#DDD\";\n\n    @styleRule\n    horizontalDivider = {\n        zIndex: \"10\",\n        position: \"absolute\",\n        height: \"100%\",\n        cursor: \"col-resize\",\n        width: this.barThickness + 2 * this.barPadding + \"px\",\n        background: () => this.dividerColor(),\n        backgroundClip: \"padding-box\",\n        borderLeft: `${this.barPadding}px solid transparent`,\n        borderRight: `${this.barPadding}px solid transparent`,\n        marginLeft: `${-this.barThickness / 2 - this.barPadding}px`,\n        marginRight: `${-this.barThickness / 2}px`,\n        display: \"inline-block\",\n    };\n\n    @styleRule\n    verticalDivider = {\n        zIndex: \"10\",\n        position: \"absolute\",\n        cursor: \"row-resize\",\n        width: \"100%\",\n        height: this.barThickness + 2 * this.barPadding +  \"px\",\n        background: () => this.dividerColor(),\n        backgroundClip: \"padding-box\",\n        borderBottom: `${this.barPadding}px solid transparent`,\n        borderTop: `${this.barPadding}px solid transparent`,\n        marginBottom: `${-this.barThickness / 2  - this.barPadding}px`,\n        marginTop: `${-this.barThickness / 2 - this.barPadding}px`,\n    };\n\n    @styleRule\n    horizontalSection = {\n        position: \"relative\",\n        whiteSpace: \"nowrap\",\n        \">*\": {\n            whiteSpace: \"initial\",\n            verticalAlign: \"top\",\n            paddingLeft: `${this.barThickness / 2 + this.barPadding}px`,\n            paddingRight: `${this.barThickness / 2 + this.barPadding}px`,\n        },\n        \">:first-child\": {\n            paddingLeft: \"0\",\n        },\n        \">:last-child\": {\n            paddingRight: \"0\",\n        },\n        \">:nth-of-type(even)\": {\n            padding: \"0\",\n        },\n        \">:nth-of-type(odd)\": {\n            display: \"inline-block\",\n        }\n    };\n\n    @styleRule\n    verticalSection = {\n        position: \"relative\",\n        \">*\": {\n            paddingTop: `${this.barThickness / 2 + this.barPadding}px`,\n            paddingBottom: `${this.barThickness / 2 + this.barPadding}px`,\n        },\n        \">:first-child\": {\n            paddingTop: \"0\",\n        },\n        \">:last-child\": {\n            paddingBottom: \"0\",\n        },\n        \">:nth-of-type(even)\": {\n            padding: \"0\",\n        },\n    };\n}\n\nclass TitledDividerStyle extends SectionDividerStyle {\n    barThickness = 16;\n    barPadding = 1;\n    transitionTime = .3;\n\n    dividerStyle = {\n        backgroundColor: \"white\",\n        borderColor: \"#DDD !important\",\n    };\n\n    @styleRuleInherit\n    horizontalDivider = Object.assign(this.dividerStyle, {\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        \">*\": {\n            flex: \"1\",\n            display: \"flex\",\n            color: \"rgba(0,0,0, .4)\",\n        },\n        \">:first-child\": {\n            alignItems: \"flex-end\",\n        },\n        \">:last-child\": {\n            alignItems: \"flex-start\",\n        },\n        \">:nth-child(2)\": {\n            flex: \".2\",\n            alignItems: \"center\",\n        }\n    });\n\n    @styleRule\n    horizontalDots = {\n        transform: \"rotate(90deg) scaleX(5)\",\n    };\n\n    @styleRuleInherit\n    verticalDivider = Object.assign(this.dividerStyle, {\n        display: \"flex\",\n        alignItems: \"center\",\n    });\n\n    @styleRule\n    verticalDots = {\n        flex: \"1\",\n        fontSize: \"70% !important\",\n        height: 0,\n        textAlign: \"center\",\n        transform: \"scaleX(10) translateY(-.4em)\",\n    };\n\n    @styleRule\n    arrowButton = {\n        fontSize: \"230% !important\",\n        padding: \"1em .2em\",\n        color: \"rgba(0,0,0, .4)\",\n        cursor: \"pointer\",\n        \":hover\": {\n            color: \"black\",\n        }\n    };\n\n    @styleRule\n    buttonsDisabled = {\n        \">:first-child\": {\n            pointerEvents: \"none\",\n        },\n        \">:last-child\": {\n            pointerEvents: \"none\",\n        },\n    };\n\n    @styleRule\n    barCollapsePanel = {\n        position: \"relative\",\n        \">:first-child\": {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        \">:nth-child(2)\": {\n            display: \"none\",\n            opacity: \"0\",\n            transition: \"opacity \" + this.transitionTime + \"s ease\",\n        },\n    };\n\n    @styleRule\n    hiddenContent = {\n        \">:first-child\": {\n            display: \"none\",\n        },\n        \">:nth-child(2)\": {\n            opacity: \"1\",\n        },\n    };\n\n    @styleRule\n    collapsedBarTitle = {\n        cursor: \"pointer\",\n        borderLeft: \"1px solid #ccc\",\n        borderRight: \"1px solid #ccc\",\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        backgroundColor: \"#fff\",\n        flexDirection: \"column\",\n        zIndex: 5,\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        \":hover\": {\n            backgroundColor: \"#f3f3f3\",\n        },\n        \">:nth-child(2)\": {\n            flex: \"1\",\n            transform: \"rotate(90deg)\",\n        },\n        \">:nth-child(2)>:first-child\": {\n            textTransform: \"uppercase\",\n            fontWeight: \"bold\",\n            fontSize: \"130%\",\n            whiteSpace: \"nowrap\",\n            marginTop: \"-.4em\",\n            transform: \"translateY(10%)\",\n        },\n        \">*\": {\n            display: \"flex\",\n            alignItems: \"center\",\n        },\n        \">:first-child\": {\n            flex: \".5\",\n            fontSize: \"180%\",\n        },\n        \">:last-child\": {\n            flex: \".5\",\n            fontSize: \"180%\",\n        },\n    };\n\n    @styleRule\n    animatedSectionDivider = {\n        \">*\": {\n            transition: this.transitionTime + \"s height ease, \" + this.transitionTime + \"s width ease\",\n        }\n    };\n\n    @styleRule\n    paddingRemoved = {\n        \">*\": {\n            padding: \"0 !important\",\n            overflow: \"hidden\",\n        },\n        \">:nth-of-type(even)\": {\n            display: \"none !important\",\n        }\n    };\n}\n\nexport {AccordionStyle, SectionDividerStyle, TitledDividerStyle};\n","// TODO: Too much \"hidden\"\nimport {Device} from \"../../base/Device\";\nimport {unwrapArray} from \"../../base/Utils\";\nimport {Divider} from \"./Divider\";\nimport {UI} from \"../UIBase\";\nimport {registerStyle} from \"../style/Theme\";\nimport {SectionDividerStyle} from \"./Style\";\nimport {Orientation} from \"../Constants\";\n\n\n\n// options.orientation is the orientation of the divided elements\n@registerStyle(SectionDividerStyle)\nexport class DividerBar extends Divider {\n    getDefaultOptions() {\n        return Object.assign({}, super.getDefaultOptions(), {\n            orientation: Orientation.HORIZONTAL,\n        });\n    }\n\n    dragMousedown(event) {\n        document.body.classList.add(this.styleSheet.noTextSelection);\n    }\n\n    dragMouseup(event) {\n        document.body.classList.remove(this.styleSheet.noTextSelection);\n    }\n\n    extraNodeAttributes(attr) {\n        super.extraNodeAttributes(attr);\n        if (this.options.orientation === Orientation.VERTICAL) {\n            attr.addClass(this.styleSheet.verticalDivider);\n        } else {\n            attr.addClass(this.styleSheet.horizontalDivider);\n        }\n    }\n}\n\n\n/* SectionDivider class should take in:\n    - Vertical or horizontal separation\n    - All the children it's dividing\n    - An option on how to redivide the sizes of the children\n */\n@registerStyle(SectionDividerStyle)\nexport class SectionDivider extends UI.Element {\n    getDefaultOptions() {\n        return Object.assign({\n            autoCollapse: false,\n        }, super.getDefaultOptions())\n    }\n\n    constructor(options) {\n        super(options);\n        this.uncollapsedSizes = new WeakMap();\n    }\n\n    getDividerBarClass() {\n        return DividerBar;\n    }\n\n    extraNodeAttributes(attr) {\n        if (this.getOrientation() === Orientation.VERTICAL) {\n            attr.addClass(this.styleSheet.verticalSection);\n        } else {\n            attr.addClass(this.styleSheet.horizontalSection);\n        }\n    }\n\n    getOrientation() {\n        return this.options.orientation || Orientation.VERTICAL;\n    }\n\n    getDimension(element) {\n        if (this.getOrientation() === Orientation.HORIZONTAL) {\n            return element.getWidth();\n        } else {\n            return element.getHeight();\n        }\n    }\n\n    setDimension(element, size) {\n        if (this.getOrientation() === Orientation.HORIZONTAL) {\n            element.setWidth(size);\n        } else {\n            element.setHeight(size);\n        }\n    }\n\n    getMinDimension(element) {\n        if (this.getOrientation() === Orientation.HORIZONTAL && element.options.hasOwnProperty(\"minWidth\")) {\n            return element.options.minWidth;\n        } else if (this.getOrientation() === Orientation.VERTICAL && element.options.hasOwnProperty(\"minHeight\")) {\n            return element.options.minHeight;\n        } else {\n            return this.getDimension(this) / this.panels.length / 4;\n        }\n    }\n\n    getHiddenDivider(index) {\n        let divider;\n        for (let i = index; i < this.panels.length - 1; i += 1) {\n            if (this.dividers[i].hasClass(\"hidden\")) {\n                divider = this.dividers[i];\n            } else if (!this.dividers[i].hasClass(\"hidden\")) {\n                break;\n            }\n            if (divider && !this.panels[i + 1].hasClass(\"hidden\")) {\n                return divider;\n            }\n        }\n        divider = null;\n        for(let i = index - 1; i >= 0; i -= 1) {\n            if (this.dividers[i].hasClass(\"hidden\")) {\n                divider = this.dividers[i];\n            } else if (!this.dividers[i].hasClass(\"hidden\")) {\n                break;\n            }\n            if (divider && !this.panels[i].hasClass(\"hidden\")) {\n                return divider;\n            }\n        }\n        return null;\n    }\n\n    getVisibleDivider(index) {\n        for (let i = index; i < this.panels.length - 1; i += 1) {\n            if (!this.dividers[i].hasClass(\"hidden\")) {\n                return this.dividers[i];\n            }\n        }\n        for (let i = index - 1; i >= 0; i -= 1) {\n            if (!this.dividers[i].hasClass(\"hidden\")) {\n                return this.dividers[i];\n            }\n        }\n        return null;\n    }\n\n    collapseChild(index) {\n        let parentSize = this.getDimension(this);\n        let child = this.panels[index];\n        let childSize = this.getDimension(child);\n        this.uncollapsedSizes.set(child, childSize);\n\n        let unCollapsedCount = -1;\n        for (let panel of this.panels) {\n            if (this.getDimension(panel) && !panel.options.fixed) {\n                unCollapsedCount += 1;\n            }\n        }\n\n        let divider = this.getVisibleDivider(index);\n        if (divider) {\n            divider.hide();\n        }\n\n        this.setDimension(child, \"0\");\n        child.hide();\n\n        for (let panel of this.panels) {\n            if (this.getDimension(panel) !== 0 && !panel.options.fixed) {\n                this.setDimension(panel, (this.getDimension(panel) + childSize / unCollapsedCount) * 100\n                                  / parentSize - 0.5 / this.children.length + \"%\");\n            }\n        }\n\n        this.recalculateDimensions();\n    }\n\n    expandChild(index) {\n        let parentSize = this.getDimension(this);\n        let child = this.panels[index];\n\n        let unCollapsedCount = 1;\n        for (let panel of this.panels) {\n            if (this.getDimension(panel) && !panel.options.fixed) {\n                unCollapsedCount += 1;\n            }\n        }\n\n        let divider = this.getHiddenDivider(index);\n        if (divider) {\n            divider.show();\n        }\n\n        child.show();\n        let childSize = this.uncollapsedSizes.get(child);\n\n        for (let panel of this.panels) {\n            if (this.getDimension(panel) && !panel.options.fixed) {\n                this.setDimension(panel, (this.getDimension(panel) - childSize / (unCollapsedCount - 1)) * 100\n                                  / parentSize - this.panels.length / 2 + \"%\");\n            }\n        }\n\n        this.setDimension(child, childSize * 100 / parentSize + \"%\");\n        this.recalculateDimensions();\n    }\n\n    isCollapsed(child) {\n        return !this.getDimension(child);\n    }\n\n    toggleChild(index) {\n        if (this.isCollapsed(this.panels[index])) {\n            this.expandChild(index);\n        } else {\n            this.collapseChild(index);\n        }\n    }\n\n    recalculateDimensions() {\n        if (!this.isInDocument()) {\n            return;\n        }\n        let parentSize = this.getDimension(this);\n        let fixedTotalSize = 0;\n        let unfixedTotalSize = 0;\n        for (let panel of this.panels) {\n            if (panel.options.fixed) {\n                fixedTotalSize += this.getDimension(panel);\n            } else {\n                unfixedTotalSize += this.getDimension(panel);\n            }\n        }\n        let ratio = (parentSize - fixedTotalSize) / parentSize;\n        for (let panel of this.panels) {\n            if (!panel.options.fixed && !panel.hasClass(\"hidden\")) {\n                this.setDimension(panel, this.getDimension(panel) * 100 * ratio / unfixedTotalSize + \"%\");\n            }\n        }\n    }\n\n    getPreviousUnfixedChild(index) {\n        for (let i = index; i >= 0 ; i -= 1) {\n            let panel = this.panels[i];\n            if (!panel.hasClass(\"hidden\") && !panel.options.fixed) {\n                return panel;\n            }\n        }\n        return null;\n    }\n\n    getNextUnfixedChild(index) {\n        for (let i = index + 1; i < this.panels.length; i += 1) {\n            let panel = this.panels[i];\n            if (!panel.hasClass(\"hidden\") && !panel.options.fixed) {\n                return panel;\n            }\n        }\n        return null;\n    }\n\n    dividerMouseDownFunction(dividerEvent) {\n        let previousEvent = dividerEvent.domEvent;\n        const index = this.dividers.indexOf(dividerEvent.divider);\n\n        const previousPanel = this.getPreviousUnfixedChild(index);\n        const nextPanel = this.getNextUnfixedChild(index);\n\n        if (previousPanel && nextPanel) {\n            const parentSize = this.getDimension(this);\n            let panelsSize = parentSize;\n\n            for (let panel of this.panels) {\n                if (panel.options.fixed) {\n                    panelsSize -= this.getDimension(panel);\n                }\n            }\n\n            const deltaFunction = (this.getOrientation() === Orientation.HORIZONTAL ?\n                                 (event) => Device.getEventX(event) :  (event) => Device.getEventY(event));\n\n            const mouseMoveListener = this.addListener(\"dividerMousemove\", (event) => {\n                const delta = deltaFunction(event) - deltaFunction(previousEvent);\n\n                const nextSize = this.getDimension(nextPanel) - delta;\n                const previousSize = this.getDimension(previousPanel) + delta;\n\n                if (this.options.autoCollapse) {\n                    if ((delta > 0 && nextPanel.collapsed) || (delta < 0 && previousPanel.collapsed)) {\n                        return;\n                    }\n\n                    if (delta < 0 && nextPanel.collapsed && this.options.autoCollapse) {\n                        this.expandChild(index + 1);\n                        return;\n                    }\n\n                    if (delta > 0 && previousPanel.collapsed) {\n                        this.expandChild(index);\n                        return;\n                    }\n\n                    if (nextSize < this.getMinDimension(nextPanel)) {\n                        this.collapseChild(index + 1);\n                        return;\n                    }\n\n                    if (previousSize < this.getMinDimension(previousPanel)) {\n                        this.collapseChild(index);\n                        return;\n                    }\n                } else {\n                    if (nextSize < this.getMinDimension(nextPanel) || previousSize < this.getMinDimension(previousPanel)) {\n                        return;\n                    }\n                }\n\n                this.setDimension(nextPanel, nextSize * 100 / parentSize + \"%\");\n                this.setDimension(previousPanel, previousSize * 100 / parentSize + \"%\");\n\n                previousEvent = event;\n            });\n\n            const mouseUpListener = this.addListener(\"dividerMouseup\", () => {\n                if (this.clearListeners) {\n                    this.clearListeners();\n                }\n            });\n\n            this.clearListeners = () => {\n                mouseMoveListener.remove();\n                mouseUpListener.remove();\n                this.clearListeners = null;\n            }\n        }\n    }\n\n    onMount() {\n        this.addListener(\"dividerMousedown\", (dividerEvent) => this.dividerMouseDownFunction(dividerEvent));\n        setTimeout(() => {\n            this.recalculateDimensions();\n        });\n    }\n\n    getChildrenToRender() {\n        const children = [];\n        this.dividers = [];\n        this.panels = [];\n        let leftChildVisible = false;\n        const DividerBarClass = this.getDividerBarClass();\n\n        for (let child of unwrapArray(this.render())) {\n            if (this.panels.length) {\n                let hiddenClass = \"hidden\";\n                if (leftChildVisible && !child.hasClass(\"hidden\")) {\n                    hiddenClass = \"\";\n                }\n                let divider = <DividerBarClass className={hiddenClass} orientation={this.getOrientation()} />;\n                children.push(divider);\n                this.dividers.push(divider);\n            }\n            leftChildVisible |= !child.hasClass(\"hidden\");\n            children.push(child);\n            this.panels.push(child);\n        }\n        return children;\n    }\n}","// TODO: This class is incomplete for horizontal orientation and more than 2 panels.\n\nimport {UI} from \"../UIBase\";\nimport {registerStyle} from \"../style/Theme\";\nimport {unwrapArray} from \"../../base/Utils\";\nimport {DividerBar, SectionDivider} from \"./SectionDivider\";\nimport {TitledDividerStyle} from \"./Style\";\nimport {Orientation} from \"../Constants\";\nimport {FAIcon} from \"../FontAwesome\";\n\n\n\n@registerStyle(TitledDividerStyle)\nclass TitledSectionDividerBar extends DividerBar {\n    render() {\n        if (this.options.orientation === Orientation.VERTICAL) {\n            return [\n\n                <FAIcon icon=\"ellipsis-h\" className={this.styleSheet.verticalDots} />,\n\n            ]\n        } else {\n            return [\n                <div><FAIcon ref=\"rightButton\" icon=\"caret-right\" className={this.styleSheet.arrowButton}/></div>,\n                <div><FAIcon icon=\"bars\" className={this.styleSheet.horizontalDots}/></div>,\n                <div><FAIcon ref=\"leftButton\" icon=\"caret-left\" className={this.styleSheet.arrowButton} /></div>,\n            ];\n        }\n    }\n\n    onMount() {\n        super.onMount();\n        this.leftButton.addNodeListener(\"mousedown\", (event) => {\n            event.stopPropagation();\n        });\n        this.leftButton.addClickListener(() => {\n            this.dispatch(\"collapsePrevious\");\n        });\n        this.rightButton.addNodeListener(\"mousedown\", (event) => {\n            event.stopPropagation();\n        });\n        this.rightButton.addClickListener(() => {\n            this.dispatch(\"collapseNext\");\n        })\n    }\n}\n\n\n@registerStyle(TitledDividerStyle)\nclass BarCollapsePanel extends UI.Element {\n    extraNodeAttributes(attr) {\n        const panelChild = this.getGivenChildren()[0];\n        attr.addClass(this.styleSheet.barCollapsePanel);\n        let panelSize = panelChild.options.size;\n        if (this.collapsed) {\n            attr.addClass(this.styleSheet.hiddenContent);\n            panelSize = this.options.collapsedSize;\n        }\n        if (panelSize) {\n            if (this.options.orientation === Orientation.VERTICAL) {\n                attr.setStyle(\"height\", panelSize);\n            } else {\n                attr.setStyle(\"width\", panelSize);\n            }\n        }\n\n        if (this.options.orientation === Orientation.VERTICAL) {\n            attr.setStyle(\"width\", \"100%\");\n        } else {\n            attr.setStyle(\"height\", \"100%\");\n        }\n    }\n\n    getChildrenToRender() {\n        this.collapsed = this.getGivenChildren()[0].options.collapsed;\n        const isFirst = this.parent.panels.indexOf(this) === 0;\n        const isLast = this.parent.panels.indexOf(this) === this.parent.panels.length - 1;\n        const firstCaret = isLast ? \"left\" : \"right\";\n        const lastCaret = isFirst ? \"right\" : \"left\";\n        return [\n            this.render(),\n            <div ref=\"collapsedBarTitle\" style={{display: this.collapsed ? \"flex\": \" none\"}}\n                 className={this.styleSheet.collapsedBarTitle}>\n                <div><FAIcon icon={\"caret-\" + firstCaret}/></div>\n                <div className={this.styleSheet.title}>\n                    <div>\n                        {this.options.title}\n                    </div>\n                </div>\n                <div><FAIcon icon={\"caret-\" + lastCaret}/></div>\n            </div>\n        ]\n    }\n\n    toggle() {\n        if (this.collapsed) {\n            this.collapsed = false;\n            this.removeClass(this.styleSheet.hiddenContent);\n            this.collapsedBarTitle.setStyle(\"display\", \"none\");\n        } else {\n            this.collapsed = true;\n            this.collapsedBarTitle.setStyle(\"display\", \"flex\");\n            setTimeout(() => {\n                this.addClass(this.styleSheet.hiddenContent);\n            }, 100)\n\n        }\n    }\n\n    onMount() {\n         this.collapsedBarTitle.addClickListener(() => {\n             this.dispatch(\"expand\");\n         });\n         this.addListener(\"resize\", () => {\n             for (const child of unwrapArray(this.render())) {\n                 child.dispatch(\"resize\");\n             }\n         })\n    }\n}\n\n\n@registerStyle(TitledDividerStyle)\nexport class TitledSectionDivider extends SectionDivider {\n    getDefaultOptions() {\n        return Object.assign({}, super.getDefaultOptions(), {\n            collapsedSize: 40,\n            autoCollapse: true,\n        });\n    }\n\n    getDividerBarClass() {\n        return TitledSectionDividerBar;\n    }\n\n    setDimension(element, size) {\n        if (this.getOrientation() === Orientation.HORIZONTAL) {\n            element.setWidth(size);\n        } else {\n            element.setHeight(size);\n        }\n    }\n\n    collapseChild(index) {\n        if (this.clearListeners) {\n            this.clearListeners();\n        }\n\n        this.addClass(this.styleSheet.paddingRemoved);\n        this.addClass(this.styleSheet.animatedSectionDivider);\n\n        let parentSize = this.getDimension(this);\n        let child = this.panels[index];\n\n        let childSize = this.getDimension(child);\n        this.uncollapsedSizes.set(child, childSize);\n\n        let unCollapsedCount = -1;\n        for (let panel of this.panels) {\n            if (!panel.collapsed && !panel.options.fixed) {\n                unCollapsedCount += 1;\n            }\n        }\n\n        this.setDimension(child, this.options.collapsedSize);\n        child.toggle();\n\n        for (let panel of this.panels) {\n            if (!panel.collapsed && !panel.options.fixed) {\n                this.setDimension(panel, (this.getDimension(panel) + (childSize - this.options.collapsedSize)/ unCollapsedCount) * 100\n                                  / parentSize + \"%\");\n            }\n        }\n\n        setTimeout(() => {\n            this.removeClass(this.styleSheet.animatedSectionDivider);\n            this.recalculateDimensions();\n        }, this.styleSheet.transitionTime * 1000);\n    }\n\n    expandChild(index) {\n        this.removeClass(this.styleSheet.paddingRemoved);\n        this.addClass(this.styleSheet.animatedSectionDivider);\n\n        let parentSize = this.getDimension(this);\n        let child = this.panels[index];\n\n        let unCollapsedCount = 1;\n        for (let panel of this.panels) {\n            if (!panel.collapsed && !panel.options.fixed) {\n                unCollapsedCount += 1;\n            }\n        }\n\n        let childSize = this.uncollapsedSizes.get(child);\n        child.toggle();\n\n\n        for (let panel of this.panels) {\n            if (this.getDimension(panel) && !panel.options.fixed) {\n                this.setDimension(panel, (this.getDimension(panel) - (childSize - this.options.collapsedSize)/ (unCollapsedCount - 1)) * 100\n                                  / parentSize + \"%\");\n            }\n        }\n\n        this.setDimension(child, childSize * 100 / parentSize + \"%\");\n\n\n        setTimeout(() => {\n            this.removeClass(this.styleSheet.animatedSectionDivider);\n            this.recalculateDimensions();\n        }, this.styleSheet.transitionTime * 1000);\n    }\n\n\n    getChildrenToRender() {\n        const children = [];\n        this.dividers = [];\n        this.panels = [];\n        const DividerBarClass = this.getDividerBarClass();\n\n        for (const child of unwrapArray(this.render())) {\n            if (child.options.collapsed) {\n                this.addClass(this.styleSheet.paddingRemoved);\n            }\n            if (this.panels.length) {\n                let divider = <DividerBarClass orientation={this.getOrientation()} />;\n                children.push(divider);\n                this.dividers.push(divider);\n            }\n            const wrappedChild = <BarCollapsePanel orientation={this.options.orientation} collapsedSize={this.options.collapsedSize}\n                                                   title={child.options.title || \"...\"}>{child}</BarCollapsePanel>;\n            children.push(wrappedChild);\n            this.panels.push(wrappedChild);\n        }\n        return children;\n    }\n\n    onMount() {\n        super.onMount();\n        for (let i = 0; i < this.panels.length; i += 1) {\n            const panel = this.panels[i];\n            this.attachListener(panel, \"expand\", () => {\n                this.uncollapsedSizes.set(panel, this.getDimension(this) / this.panels.length);\n                this.expandChild(i);\n            });\n        }\n        for (let i = 0; i < this.dividers.length; i += 1) {\n            this.attachListener(this.dividers[i], \"collapseNext\", () => this.collapseChild(i + 1));\n            this.attachListener(this.dividers[i], \"collapsePrevious\", () => this.collapseChild(i));\n        }\n    }\n}","import {UI} from \"../UIBase\";\nimport {registerStyle} from \"../style/Theme\";\nimport {getComputedStyle} from \"../Utils\";\nimport {unwrapArray} from \"../../base/Utils\";\nimport {Device} from \"../../base/Device\";\nimport {AccordionStyle} from \"./Style\";\nimport {FACollapseIcon} from \"../../ui/FontAwesome\";\nimport {Divider} from \"./Divider\";\n\n@registerStyle(AccordionStyle)\nclass AccordionDivider extends Divider {\n    dragMousedown(event) {\n        document.body.classList.add(this.styleSheet.noTextSelection);\n        this.addClass(this.styleSheet.grabbing);\n    }\n\n    dragMouseup(event) {\n        document.body.classList.remove(this.styleSheet.noTextSelection);\n        this.removeClass(this.styleSheet.grabbing);\n    }\n\n    extraNodeAttributes(attr) {\n        super.extraNodeAttributes(attr);\n        attr.addClass(this.styleSheet.grab);\n    }\n\n    render() {\n        return [<FACollapseIcon ref=\"collapseIcon\" collapsed={false} className={this.styleSheet.collapseIcon}/>, this.options.children];\n    }\n\n    setCollapsed(value) {\n        this.collapseIcon.setCollapsed(value);\n    }\n\n    onMount() {\n        super.onMount();\n        this.addListener(\"togglePanel\", () => {this.collapseIcon.toggleCollapsed();});\n    }\n}\n\n\n@registerStyle(AccordionStyle)\nclass Accordion extends UI.Element {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.accordion);\n    }\n\n    getChildrenToRender() {\n        let children = [];\n        this.dividers = [];\n        this.panels = [];\n        for (let child of unwrapArray(this.render())) {\n            let title = (child.getTitle ? child.getTitle() : (child.options.title ? child.options.title : \"\"));\n            let divider = <AccordionDivider>{title}</AccordionDivider>;\n            this.dividers.push(divider);\n            this.panels.push(child);\n            children.push(divider);\n            children.push(child);\n        }\n        return children;\n    }\n\n    getNextVisibleChild(index) {\n        for (let i = index; i < this.panels.length; i += 1) {\n            if (!this.panels[i].hasClass(\"hidden\")) {\n                return this.panels[i];\n            }\n        }\n        return null;\n    }\n\n    getPreviousVisibleChild(index) {\n        for (let i = index - 1; i >= 0; i -= 1) {\n            if (!this.panels[i].hasClass(\"hidden\")) {\n                return this.panels[i];\n            }\n        }\n        return null;\n    }\n\n    dividerMousedownFunction(dividerEvent) {\n        let dragTriggered, panelsHeight, totalFlex;\n\n        let previousEvent = dividerEvent.domEvent;\n        let index = this.dividers.indexOf(dividerEvent.divider);\n\n        let previousPanel = this.getPreviousVisibleChild(index);\n        let nextPanel = this.getNextVisibleChild(index);\n\n        panelsHeight = this.getHeight();\n        for (let divider of this.dividers) {\n            panelsHeight -= divider.getHeight();\n        }\n        totalFlex = 0;\n        for (let panel of this.panels) {\n            if (!panel.hasClass(\"hidden\")) {\n                totalFlex += parseFloat(getComputedStyle(panel.node, \"flex\"));\n            }\n        }\n\n        let mouseMoveListener = this.addListener(\"dividerMousemove\", (event) => {\n            dragTriggered = true;\n            if (index != -1 && nextPanel && previousPanel) {\n                // Calculate the height to transfer from one panel to another\n                let delta = (Device.getEventY(event) - Device.getEventY(previousEvent)) * totalFlex / panelsHeight;\n\n                let nextSize = parseFloat(getComputedStyle(nextPanel.node, \"flex\"));\n                let previousSize = parseFloat(getComputedStyle(previousPanel.node, \"flex\"));\n\n                // Cap the delta value, to at most zero our panels\n                delta = Math.sign(delta) * Math.min(Math.abs(delta), (delta > 0 ? nextSize : previousSize));\n\n                nextPanel.setStyle(\"flex\", nextSize - delta);\n                previousPanel.setStyle(\"flex\", previousSize + delta);\n\n                previousEvent = event;\n\n                this.dispatch(\"dragging\");\n            }\n        });\n\n        let mouseUpListener = this.addListener(\"dividerMouseup\", () => {\n            if (!dragTriggered) {\n                dividerEvent.divider.dispatch(\"togglePanel\");\n                this.toggleChild(this.panels[index]);\n            }\n            mouseMoveListener.remove();\n            mouseUpListener.remove();\n            this.dispatch(\"childrenStatusChange\");\n        });\n    }\n\n    toggleChild(child) {\n        let totalFlex = 0;\n        for (let panel of this.panels) {\n            if (!panel.hasClass(\"hidden\")) {\n                totalFlex += parseFloat(getComputedStyle(panel.node, \"flex\"));\n            }\n        }\n        let sign = child.hasClass(\"hidden\") ? 1 : -1;\n        totalFlex += sign * parseFloat(getComputedStyle(child, \"flex\"));\n        child.toggleClass(\"hidden\");\n        if (totalFlex < 1) {\n            for (let panel of this.panels) {\n                if (!panel.hasClass(\"hidden\") && parseFloat(getComputedStyle(panel.node, \"flex\")) < 1) {\n                    panel.setStyle(\"flex\", 1);\n                }\n            }\n        }\n    }\n\n    getChildrenStatus() {\n        let childrenStatus = [];\n        for (let panel of this.panels) {\n            childrenStatus.push({\n                flex: getComputedStyle(panel.node, \"flex\"),\n                collapsed: panel.hasClass(\"hidden\")\n            });\n        }\n        return childrenStatus;\n    }\n\n    getDefaultChildrenStatus() {\n        let childrenStatus = [];\n        for (let panel of this.panels) {\n            childrenStatus.push({\n                flex: 1,\n                collapsed: false\n            })\n        }\n        return childrenStatus;\n    }\n\n    setChildrenStatus(childrenStatus) {\n        for (let i = 0; i < childrenStatus.length; i += 1) {\n            this.panels[i].setStyle(\"flex\", childrenStatus[i].flex);\n            let collapsed = childrenStatus[i].collapsed;\n            if (collapsed) {\n                this.panels[i].addClass(\"hidden\");\n            } else {\n                this.panels[i].removeClass(\"hidden\");\n            }\n            this.dividers[i].setCollapsed(collapsed);\n        }\n    }\n\n    onMount() {\n        this.addListener(\"dividerMousedown\", (dividerEvent) => this.dividerMousedownFunction(dividerEvent));\n    }\n}\n\nexport {Accordion};\n","import {UI} from \"./UIBase\";\nimport {registerStyle} from \"./style/Theme\";\nimport {StyleSheet} from \"./Style\";\nimport {styleRule} from \"../decorators/Style\";\nimport {FAIcon} from \"../ui/FontAwesome\";\nimport {Orientation} from \"./Constants\";\n\nclass CarouselStyle extends StyleSheet {\n    navigatorHeight = \"35px\";\n    hoverColor = \"#364251\";\n    transitionTime = \"0.3\";\n    textColor = \"inherit\";\n    navigatorTransitionTime = \"0s\";\n\n    @styleRule\n    carousel = {\n        overflow: \"hidden\",\n    };\n\n    @styleRule\n    container = {\n        whiteSpace: \"nowrap\",\n        height: \"100%\",\n        \">*\": {\n            width: \"100%\",\n            height: \"100%\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n        },\n        \">:first-child\": {\n            width: \"0\",\n            transition: `margin-left ease ${this.transitionTime}s`,\n        }\n    };\n\n    @styleRule\n    navigator = {\n        width: \"100%\",\n        height: this.navigatorHeight,\n        display: \"flex\",\n    };\n\n    @styleRule\n    navigatorIcon = {\n        color: this.textColor,\n        fontSize: \"180% !important\",\n        textAlign: \"center\",\n        cursor: \"pointer\",\n        flex: \"1\",\n        fontWeight: \"900 !important\",\n        lineHeight: this.navigatorHeight + \" !important\",\n        transition: `background-color ${this.navigatorTransitionTime}`,\n        \":hover\": {\n            backgroundColor: this.hoverColor,\n        },\n    };\n}\n\nclass CarouselNavigator extends UI.Element {\n    get styleSheet() {\n        return this.options.styleSheet || this.parent.styleSheet;\n    }\n\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.navigator);\n    }\n\n    render() {\n        return [\n            <FAIcon icon=\"angle-left\" className={this.styleSheet.navigatorIcon} onClick={() => {this.parent.dispatch(\"previousPage\");}} />,\n            <FAIcon icon=\"angle-right\" className={this.styleSheet.navigatorIcon} onClick={() => {this.parent.dispatch(\"nextPage\");}} />,\n        ];\n    }\n}\n\n\n@registerStyle(CarouselStyle)\nclass Carousel extends UI.Element {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.carousel);\n    }\n\n    appendChild(child, doMount) {\n        this.options.children.push(child);\n        if (doMount) {\n            this.setActive(child);\n        }\n        child.mount(this, null);\n        this.redraw();\n    }\n\n    eraseChild(child) {\n        if (this.options.children.indexOf(child) === this.options.children.length - 1) {\n            this.setActiveIndex(Math.max(this.options.children.length - 2, 0));\n        }\n        this.options.children.splice(this.options.children.indexOf(child), 1);\n        this.redraw();\n    }\n\n    render() {\n        if (this.activeIndex == null) {\n            this.activeIndex = 0;\n            for (let i = 0; i < this.options.children.length; i += 1) {\n                if (this.options.children[i].options.active) {\n                    this.activeIndex = i;\n                    break;\n                }\n            }\n        }\n\n        return [<CarouselNavigator className={this.options.children.length > 1 ? \"\" : \"hidden\"}/>,\n            <div className={this.styleSheet.container}>\n                <div ref=\"pusher\" style={{marginLeft: `${-this.activeIndex * 100}%`}}/>\n                {this.options.children}\n            </div>];\n    }\n\n    setActive(panel) {\n        this.setActiveIndex(this.options.children.indexOf(panel));\n    }\n\n    setActiveIndex(index) {\n        this.activeIndex = index;\n        this.pusher.setStyle(\"margin-left\", `${-index * this.getWidth()}px`);\n    }\n\n    getActive() {\n        return this.options.children[this.activeIndex];\n    }\n\n    onMount() {\n        this.addListener(\"nextPage\", () => this.setActiveIndex((this.activeIndex + 1) % this.options.children.length));\n        this.addListener(\"previousPage\", () => this.setActiveIndex((this.activeIndex + this.options.children.length - 1) % this.options.children.length));\n    }\n\n    getOrientation() {\n        return this.options.orientation || Orientation.VERTICAL;\n    }\n}\n\nexport {Carousel, CarouselStyle};\n","import {StyleSheet, styleRule} from \"./Style\";\n\nclass RangePanelStyle extends StyleSheet {\n    rowHeight = 52;\n\n    @styleRule\n    default = {\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"relative\",\n        overflow: \"auto\",\n        overflowY: \"hidden\",\n    };\n\n    @styleRule\n    tableContainer = {\n        flex: \"1\",\n        height: \"100%\",\n        width: \"100%\",\n        position: \"relative\",\n    };\n\n    @styleRule\n    scrollablePanel = {\n        overflow: \"auto\",\n        height: \"calc(100% - 30px)\",\n        width: \"100%\",\n    };\n\n    @styleRule\n    fakePanel = {\n        width: \"100%\",\n    };\n\n    @styleRule\n    footer = {\n        fontWeight: \"bold\",\n        textAlign: \"center\",\n        position: \"absolute\",\n        bottom: \"0px\",\n        width: \"100%\",\n        whiteSpace: \"nowrap\",\n        paddingBottom: \"15px\",\n        paddingTop: \"3px\",\n    };\n\n    @styleRule\n    jumpToButton = {\n        marginLeft: \"5px\",\n        padding: \"2.3px 10px\",\n        verticalAlign: \"bottom\",\n    };\n\n    @styleRule\n    table = {\n        width: \"calc(100% - 15px)\",\n        marginBottom: \"0px\",\n        top: \"0px\",\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        \">tbody>tr>td\": {\n            height: `${this.rowHeight}px !important`,\n            whiteSpace: \"nowrap !important\",\n        }\n    };\n}\n\nexport {RangePanelStyle};\n","import {UI} from \"./UIBase\";\nimport {Button} from \"./button/Button\";\nimport {NumberInput} from \"./input/Input\";\nimport {RangePanelStyle} from \"./RangePanelStyle\";\nimport {Dispatchable} from \"../base/Dispatcher\";\nimport {Size} from \"./Constants\";\n\nfunction RangePanelInterface(PanelClass) {\n    class RangePanel extends PanelClass {\n    }\n    return RangePanel;\n}\n\n\nclass EntriesManager extends Dispatchable {\n    constructor(entries, options={}) {\n        super();\n        this.rawEntries = entries;\n        this.options = options;\n        this.cacheEntries();\n    }\n\n    getRawEntries() {\n        return this.rawEntries;\n    }\n\n    cacheEntries() {\n        this.cachedEntries = this.sortEntries(this.filterEntries(this.getRawEntries()));\n        this.dispatch(\"update\");\n    }\n\n    getEntries() {\n        return this.cachedEntries;\n    }\n\n    getEntriesCount() {\n        return this.cachedEntries.length;\n    }\n\n    getEntriesRange(low, high) {\n        return this.cachedEntries.slice(low, high);\n    }\n\n    updateEntries(entries) {\n        this.rawEntries = entries;\n        this.cacheEntries();\n    }\n\n    sortEntries(entries) {\n        return this.getComparator() ? entries.sort(this.getComparator()) : entries;\n    }\n\n    filterEntries(entries) {\n        const filter = this.getFilter();\n        return filter ? entries.filter(filter) : entries;\n    }\n\n    getComparator() {\n        return this.options.comparator;\n    }\n\n    setComparator(comparator) {\n        this.options.comparator = comparator;\n        this.cacheEntries();\n    }\n\n    getFilter() {\n        return this.options.filter;\n    }\n\n    setFilter(filter) {\n        this.options.filter = filter;\n        this.cacheEntries();\n    }\n}\n\n\n// A wrapper for tables which optimizes rendering when many entries / updates are involved. It currently has hardcoded\n// row height for functionality reasons.\nfunction RangeTableInterface(TableClass) {\n    class RangeTable extends UI.Primitive(TableClass, \"div\") {\n        constructor(options) {\n            super(options);\n            this.lowIndex = 0;\n            this.highIndex = 0;\n        }\n\n        getRangePanelStyleSheet() {\n            return RangePanelStyle.getInstance();\n        }\n\n        getRowHeight() {\n            return this.options.rowHeight || this.getRangePanelStyleSheet().rowHeight;\n        }\n\n        getEntriesManager() {\n            if (!this.entriesManager) {\n                this.entriesManager = new EntriesManager(super.getEntries());\n            }\n            return this.entriesManager;\n        }\n\n        extraNodeAttributes(attr) {\n            attr.addClass(this.getRangePanelStyleSheet().default);\n        }\n\n        render() {\n            const rangePanelStyleSheet = this.getRangePanelStyleSheet();\n            const fakePanelHeight = (this.getRowHeight() * this.getEntriesManager().getEntriesCount() + 1) + \"px\";\n            const headHeight = this.containerHead ? this.containerHead.getHeight() : 0;\n            this.computeIndices();\n\n            // Margin is added at redraw for the case when the scoreboard has horizontal scrolling during a redraw.\n            const margin = (this.node &&  this.node.scrollLeft) || 0;\n\n            return [\n                <div ref=\"tableContainer\" className={rangePanelStyleSheet.tableContainer}\n                     style={{paddingTop: headHeight + \"px\", marginLeft: margin + \"px\"}}>\n                    <div ref=\"scrollablePanel\" className={rangePanelStyleSheet.scrollablePanel}>\n                        <div ref=\"fakePanel\" className={rangePanelStyleSheet.fakePanel} style={{height: fakePanelHeight}}/>\n                        <table ref=\"container\" className={`${this.styleSheet.table} ${rangePanelStyleSheet.table}`}\n                                               style={{marginLeft: -margin + \"px\"}}>\n                            <thead ref=\"containerHead\">\n                            {this.renderContainerHead()}\n                            </thead>\n                            <tbody ref=\"containerBody\">\n                            {this.renderContainerBody()}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>,\n                <div ref=\"footer\" className={rangePanelStyleSheet.footer} style={{marginLeft: margin + \"px\"}}>\n                    <span ref=\"tableFooterText\">\n                        {this.getFooterContent()}\n                    </span>\n                    <NumberInput ref=\"jumpToInput\" placeholder=\"jump to...\" style={{textAlign: \"center\",}}/>\n                    <Button ref=\"jumpToButton\" size={Size.SMALL} className={rangePanelStyleSheet.jumpToButton}>Go</Button>\n                </div>\n            ];\n        }\n\n        applyScrollState() {\n            this.scrollablePanel.node.scrollTop = this.scrollState;\n        }\n\n        saveScrollState() {\n            if (this.scrollablePanel && this.scrollablePanel.node) {\n                this.scrollState = this.scrollablePanel.node.scrollTop;\n            }\n        }\n\n        renderContainerHead() {\n            return this.renderTableHead();\n        }\n\n        renderContainerBody() {\n            // TODO: this method should not be here, and tables should have a method \"getEntriesToRender\" which will be overwritten in this class.\n            this.rows = [];\n\n            const entries = this.getEntriesManager().getEntriesRange(this.lowIndex, this.highIndex);\n\n            for (let i = 0; i < entries.length; i += 1) {\n                const entry = entries[i];\n                const RowClass = this.getRowClass(entry);\n                this.rows.push(<RowClass key={this.getEntryKey(entry, i + this.lowIndex)} index={i + this.lowIndex}\n                                         {...this.getRowOptions(entry)} parent={this}/>);\n            }\n            return this.rows;\n        }\n\n        getFooterContent() {\n            if (this.lowIndex + 1 > this.highIndex) {\n                return `No results. Jump to `;\n            }\n            return `${this.lowIndex + 1}  ${this.highIndex} of ${this.getEntriesManager().getEntriesCount()}. `;\n        }\n\n        jumpToIndex(index) {\n            // Set the scroll so that the requested position is in the center.\n            const lowIndex = parseInt(index - (this.highIndex - this.lowIndex) / 2 + 1);\n            const scrollRatio = lowIndex / (this.getEntriesManager().getEntriesCount() + 0.5);\n            this.scrollablePanel.node.scrollTop = scrollRatio * this.scrollablePanel.node.scrollHeight;\n        }\n\n        computeIndices() {\n            if (!this.tableContainer || !this.containerHead || !this.footer) {\n                return;\n            }\n            const scrollRatio = this.scrollablePanel.node.scrollTop / this.scrollablePanel.node.scrollHeight;\n            const entriesCount = this.getEntriesManager().getEntriesCount();\n            // Computing of entries range is made using the physical scroll on the fake panel.\n            this.lowIndex = parseInt(scrollRatio * (entriesCount + 0.5));\n            if (isNaN(this.lowIndex)) {\n                this.lowIndex = 0;\n            }\n            this.highIndex = Math.min(this.lowIndex + parseInt((this.getHeight() - this.containerHead.getHeight()\n                    - this.footer.getHeight()) / this.getRowHeight()), entriesCount);\n        }\n\n        setScroll() {\n            // This is the main logic for rendering the right entries. Right now, it best works with a fixed row height,\n            // for other cases no good results are guaranteed. For now, that row height is hardcoded in the class'\n            // stylesheet.\n\n            if (this.inSetScroll) {\n                return;\n            }\n            if (!document.body.contains(this.node)) {\n                this.tableFooterText.setChildren(this.getFooterContent());\n                this.containerBody.setChildren(this.renderContainerBody());\n                return;\n            }\n            this.inSetScroll = true;\n            this.computeIndices();\n            // Ugly hack for chrome stabilization.\n            // This padding top makes the scrollbar appear only on the tbody side\n            this.tableContainer.setStyle(\"paddingTop\", this.containerHead.getHeight() + \"px\");\n            this.fakePanel.setHeight(this.getRowHeight() * this.getEntriesManager().getEntriesCount() + \"px\");\n            // The scrollable panel must have the exact height of the tbody so that there is consistency between entries\n            // rendering and scroll position.\n            this.scrollablePanel.setHeight(this.getRowHeight() * (this.highIndex - this.lowIndex) + \"px\");\n            // Update the entries and the footer info.\n            this.tableFooterText.setChildren(this.getFooterContent());\n            this.containerBody.setChildren(this.renderContainerBody());\n            // This is for setting the scrollbar outside of the table area, otherwise the scrollbar wouldn't be clickable\n            // because of the logic in \"addCompatibilityListeners\".\n            this.container.setWidth(this.fakePanel.getWidth() + \"px\");\n            this.inSetScroll = false;\n        }\n\n        addCompatibilityListeners() {\n            // The physical table has z-index -1 so it does not respond to mouse events, as it is \"behind\" fake panel.\n            // The following listeners repair that.\n            this.addNodeListener(\"mousedown\", () => {\n                this.container.setStyle(\"pointerEvents\", \"all\");\n            });\n            this.container.addNodeListener(\"mouseup\", (event) => {\n                const mouseDownEvent = new MouseEvent(\"click\", event);\n                const domElement = document.elementFromPoint(parseFloat(event.clientX), parseFloat(event.clientY));\n                setTimeout(() => {\n                    this.container.setStyle(\"pointerEvents\", \"none\");\n                    domElement.dispatchEvent(mouseDownEvent);\n                }, 100);\n            });\n\n            // Adding listeners that force resizing\n            this.addListener(\"setActive\", () => {\n                this.setScroll();\n            });\n            this.addListener(\"resize\", () => {\n                this.setScroll();\n            });\n            window.addEventListener(\"resize\", () => {\n                this.setScroll();\n            });\n        }\n\n        addTableAPIListeners() {\n            // This event isn't used anywhere but this is how range updates should be made.\n            this.addListener(\"entriesChange\", (event) => {\n                if (!(event.leftIndex >= this.highIndex || event.rightIndex < this.lowIndex)) {\n                    this.setScroll();\n                }\n            });\n            this.addListener(\"showCurrentUser\", () => {\n                const index = this.getEntriesManager().getEntries().map(entry => entry.userId).indexOf(USER.id) + 1;\n                this.jumpToIndex(index);\n            });\n            // Delay is added for smoother experience of scrolling.\n            this.attachListener(this.getEntriesManager(), \"update\", () => {\n                this.setScroll();\n            });\n        }\n\n        addSelfListeners() {\n            this.scrollablePanel.addNodeListener(\"scroll\", () => {\n                this.setScroll();\n            });\n            this.addNodeListener(\"scroll\", () => {\n                this.tableContainer.setStyle(\"marginLeft\", this.node.scrollLeft);\n                this.footer.setStyle(\"marginLeft\", this.node.scrollLeft);\n                this.container.setStyle(\"marginLeft\", -this.node.scrollLeft);\n            });\n            window.addEventListener(\"resize\", () => {\n                this.tableContainer.setStyle(\"marginLeft\", 0);\n                this.footer.setStyle(\"marginLeft\", 0);\n                this.container.setStyle(\"marginLeft\", 0);\n            });\n            this.jumpToInput.addNodeListener(\"keyup\", (event) => {\n                if (event.code === \"Enter\") {\n                    this.jumpToIndex(parseInt(this.jumpToInput.getValue()));\n                }\n            });\n            this.jumpToButton.addClickListener(() => {\n                this.jumpToIndex(parseInt(this.jumpToInput.getValue()));\n            });\n        }\n\n        onMount() {\n            super.onMount();\n\n            this.addCompatibilityListeners();\n\n            this.addTableAPIListeners();\n\n            this.addSelfListeners();\n\n            setTimeout(() => {\n                this.redraw();\n            })\n        }\n    }\n    return RangeTable;\n}\n\nexport {RangePanelInterface, RangeTableInterface, EntriesManager};\n","import {StyleSheet} from \"../Style\";\nimport {styleRule, styleRuleInherit} from \"../../decorators/Style\";\n\nclass TableStyle extends StyleSheet {\n    cellStyle =  {\n        padding: \"8px\",\n        lineHeight: \"1.42857143\",\n        verticalAlign: \"top\",\n        borderTop: \"1px solid #ddd\",\n    };\n\n    theadCellStyle = {\n        borderBottom: \"2px solid #ddd\",\n        borderTop: \"0\",\n    };\n\n    @styleRule\n    table = {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        marginBottom: \"20px\",\n        borderSpacing: \"0\",\n        borderCollapse: \"collapse\",\n        \">*>*>td\": this.cellStyle,\n        \">*>*>th\": this.cellStyle,\n        \">*>thead>*>*\": this.theadCellStyle,\n    };\n\n    @styleRule\n    tableStripped = {\n        \">tbody>tr:nth-of-type(odd)\": {\n            backgroundColor: \"#f5f5f5\",\n        }\n    };\n\n}\n\nclass SortableTableStyle extends TableStyle {\n    @styleRule\n    sortIcon = {\n        position: \"absolute\",\n        right: \"0px\",\n        bottom: \"0px\",\n        visibility: \"hidden\",\n        float: \"right\",\n    };\n\n    @styleRuleInherit\n    table = {\n        [\" th:hover .\" + this.sortIcon.getClassName()]: {\n            visibility: \"inherit\",\n        },\n        \" th:hover\": {\n            cursor: \"pointer\",\n        }\n    };\n}\n\nexport {TableStyle, SortableTableStyle};\n","import {TableStyle} from \"./Style\";\nimport {UI} from \"../UIBase\";\nimport {registerStyle} from \"../style/Theme\";\n\n// TODO: the whole table architecture probably needs a rethinking\nclass TableRow extends UI.Primitive(\"tr\") {\n    render() {\n        let rowCells = [];\n\n        for (let column of this.options.columns) {\n            rowCells.push(this.renderEntryCell(column));\n        }\n\n        return rowCells;\n    }\n\n    renderEntryCell(column) {\n        return <td style={column.cellStyle} key={column.id}>{column.value(this.options.entry, this.options.index)}</td>;\n    }\n};\n\n@registerStyle(TableStyle)\nclass Table extends UI.Primitive(\"table\") {\n    setOptions(options) {\n        super.setOptions(options);\n\n        this.setColumns(options.columns || []);\n        this.entries = options.entries || [];\n    }\n\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.table);\n    }\n\n    getRowClass() {\n        return TableRow;\n    }\n\n    getRowOptions(entry) {\n        return {\n            entry: entry,\n            columns: this.columns,\n        };\n    }\n\n    render() {\n        return [\n            <thead>\n                {this.renderTableHead()}\n            </thead>,\n            <tbody>\n                {this.renderTableBody()}\n            </tbody>\n        ];\n    }\n\n    renderTableHead() {\n        return <tr>{this.columns.map(this.renderHeaderCell, this)}</tr>;\n    }\n\n    getEntryKey(entry, index) {\n        return entry.id != null ? entry.id : index;\n    }\n\n    renderTableBody() {\n        this.rows = [];\n\n        let entries = this.getEntries();\n        for (let i = 0; i < entries.length; i += 1) {\n            let entry = entries[i];\n            let RowClass = this.getRowClass(entry);\n            this.rows.push(<RowClass key={this.getEntryKey(entry, i)} index={i} {...this.getRowOptions(entry)} parent={this}/>);\n        }\n        return this.rows;\n    }\n\n    // Renders the whole header cell based on a column\n    renderHeaderCell(column) {\n        return <th style={column.headerStyle} ref={\"columnHeader\" + column.id}>\n                {this.renderColumnHeader(column)}\n            </th>;\n    }\n\n    // Only renders the content of the header cell\n    renderColumnHeader(column) {\n        if (typeof column.headerName === \"function\") {\n            return column.headerName();\n        }\n        return column.headerName;\n    }\n\n    // Original entries should not be modified. Overwrite this function to appy any modification in a new array.\n    getEntries() {\n        return this.entries || [];\n    }\n\n    columnDefaults(column, index) {\n        column.id = index;\n    }\n\n    setColumns(columns) {\n        this.columns = columns;\n        for (let i = 0; i < this.columns.length; i += 1) {\n            this.columnDefaults(this.columns[i], i);\n        }\n    }\n}\n\nexport * from \"./Style\";\nexport {Table, TableRow};\n","import {UI} from \"../UIBase\";\nimport {Table, TableRow} from \"./Table\";\nimport {CollapsibleMixin} from \"../collapsible/CollapsibleMixin\";\nimport {StyleSheet} from \"../Style\";\nimport {styleRule} from \"../../decorators/Style\";\n\nclass TableRowInCollapsibleTable extends TableRow {\n    getNodeType() {\n        return \"tbody\";\n    }\n\n    render() {\n        return <tr>{super.render()}</tr>;\n    }\n}\n\nclass CollapsibleTableStyle extends StyleSheet {\n    @styleRule\n    button = {\n        marginTop: \"0\",\n        marginBottom: \"0\",\n        fontSize: \"16px\",\n        color: \"inherit\",\n        cursor: \"pointer\",\n        \":hover\": {\n            color: \"inherit\",\n        },\n        \":after\": {\n            fontFamily: \"'FontAwesome'\",\n            content: \"\\\"\\\\f107\\\"\",\n            color: \"grey\",\n            float: \"left\",\n            fontWeight: \"bold\",\n            width: \"0.7em\",\n            fontSize: \"130%\",\n            verticalAlign: \"top\",\n            height: \"0.7em\",\n            marginTop: \"-0.2em\",\n            textAlign: \"center\",\n        }\n    };\n\n    @styleRule\n    collapsedButton = {\n        \":after\": {\n            content: \"\\\"\\\\f105\\\" !important\",\n        },\n    };\n\n    @styleRule\n    heading = {\n        padding: \"10px 15px\",\n        backgroundColor: \"initial !important\",\n    };\n}\n\nlet collapsibleTableStyle = new CollapsibleTableStyle();\n\n// TODO: refactor this to support redraw and render override\nclass CollapsibleTableRow extends CollapsibleMixin(TableRow) {\n    getNodeType() {\n        return \"tbody\";\n    }\n\n    getDefaultOptions() {\n        return {\n            collapsed: true,\n        }\n    }\n\n    onMount() {\n        this.toggleButton.addClickListener(() => this.toggle());\n    }\n\n    toggle() {\n        if (!this.options.collapsed) {\n            this.collapse();\n        } else {\n            this.expand();\n        }\n    }\n\n    expand() {\n        super.expand(this.contentArea);\n        this.toggleButton.removeClass(collapsibleTableStyle.collapsedButton);\n    }\n\n    collapse() {\n        super.collapse(this.contentArea);\n        setTimeout(() => {\n            this.toggleButton.addClass(collapsibleTableStyle.collapsedButton);\n        }, this.getCollapsibleStyleSheet().transitionDuration * 500);\n    }\n\n    // TODO: Very bad redraw practice here\n    redraw() {\n        if (!super.redraw()) {\n            return false;\n        }\n\n        if (this.options.collapsed) {\n            this.toggleButton.addClass(collapsibleTableStyle.collapsedButton);\n            this.contentArea.addClass(this.getCollapsibleStyleSheet().collapsed);\n            this.contentArea.addClass(\"hidden\");\n        } else {\n            this.toggleButton.removeClass(collapsibleTableStyle.collapsedButton);\n            this.contentArea.removeClass(this.getCollapsibleStyleSheet().collapsed);\n            this.contentArea.removeClass(\"hidden\");\n        }\n        return true;\n    }\n\n    getInitialCollapsedContent() {\n        return this.renderCollapsible(this.options.entry);\n    }\n\n    render() {\n        return [\n            <tr className={collapsibleTableStyle.heading}>{super.render()}</tr>,\n            <tr>\n                <td style={{overflow: \"hidden\", padding: \"0px\"}}\n                    colspan={this.options.columns.length}>\n                    <div ref=\"contentArea\"\n                         className={`${this.getCollapsibleStyleSheet().collapsed} hidden`}>\n                            {this.getInitialCollapsedContent()}\n                    </div>\n                </td>\n            </tr>\n        ];\n    }\n}\n\nclass DelayedCollapsibleTableRow extends CollapsibleTableRow {\n    toggle() {\n        if (!this._haveExpanded) {\n            this._haveExpanded = true;\n            this.redrawCollapsible();\n        }\n        super.toggle();\n    }\n\n    redrawCollapsible() {\n        UI.renderingStack.push(this);\n        this.contentArea.options.children = this.renderCollapsible(this.options.entry);\n        UI.renderingStack.pop();\n        this.contentArea.redraw();\n    }\n\n    getInitialCollapsedContent() {\n        return [];\n    }\n}\n\nfunction CollapsibleTableInterface(BaseTableClass) {\n    return class CollapsibleTable extends BaseTableClass {\n        setOptions(options) {\n            super.setOptions(options);\n\n            if (options.renderCollapsible) {\n                this.renderCollapsible = options.renderCollapsible;\n            }\n        }\n\n        render() {\n            return [\n                <thead>\n                    {this.renderTableHead()}\n                </thead>,\n                this.renderTableBody()\n            ];\n        }\n\n        getRowClass() {\n            return CollapsibleTableRow;\n        }\n\n        setColumns(columns) {\n            let toggleColumn = {\n                value: (entry) => {\n                    let rowClass = this.getRowClass(entry);\n                    // TODO: Fix it lad!\n                    if (rowClass === CollapsibleTableRow || rowClass.prototype instanceof CollapsibleTableRow) {\n                        return <a ref=\"toggleButton\"\n                        className={`${collapsibleTableStyle.button} ${collapsibleTableStyle.collapsedButton}`}/>;\n                    }\n                    return <a ref=\"toggleButton\"/>;\n                },\n                cellStyle: {\n                    width: \"1%\",\n                    \"whiteSpace\": \"nowrap\",\n                }\n            };\n\n            super.setColumns([toggleColumn].concat(columns));\n        }\n    };\n}\n\nlet CollapsibleTable = CollapsibleTableInterface(Table);\n\nexport {CollapsibleTable, CollapsibleTableInterface, CollapsibleTableRow, DelayedCollapsibleTableRow,\n        TableRowInCollapsibleTable, collapsibleTableStyle};\n","import {SortableTableStyle} from \"./Style\";\nimport {FASortIcon} from \"../FontAwesome\";\nimport {UI} from \"../UIBase\";\nimport {Table} from \"./Table\";\nimport {defaultComparator} from \"../../base/Utils\";\nimport {Direction} from \"../Constants\";\nimport {registerStyle} from \"../style/Theme\";\n\nfunction SortableTableInterface(BaseTableClass, SortIconClass = FASortIcon) {\n    @registerStyle(SortableTableStyle)\n    class SortableTable extends BaseTableClass {\n        extraNodeAttributes(attr) {\n            super.extraNodeAttributes(attr);\n            attr.addClass(this.styleSheet.table);\n        }\n\n        setOptions(options) {\n            super.setOptions(options);\n\n            this.columnSortingOrder = options.columnSortingOrder || [];\n        }\n\n        onMount() {\n            super.onMount();\n\n            // TODO: fix multiple clicks registered here\n            // Sort table by clicked column\n            for (let column of this.columns) {\n                this[\"columnHeader\" + column.id].addClickListener(() => {\n                    this.sortByColumn(column);\n                    this.dispatch(\"reorder\");\n                });\n            }\n        }\n\n        renderColumnHeader(column) {\n            let sortIcon = <SortIconClass className={this.styleSheet.sortIcon}/>;\n            if (this.sortBy === column) {\n                if (this.sortDescending) {\n                    sortIcon = <SortIconClass className={this.styleSheet.sortIcon} style={{visibility: \"inherit\"}} direction={Direction.DOWN}/>;\n                } else {\n                    sortIcon = <SortIconClass className={this.styleSheet.sortIcon} style={{visibility: \"inherit\"}} direction={Direction.UP}/>;\n                }\n            }\n\n            return <div style={{position: \"relative\"}}>{super.renderColumnHeader(column)} {sortIcon}</div>;\n        }\n\n        sortByColumn(column) {\n            if (column === this.sortBy) {\n                this.sortDescending = (this.sortDescending != true);\n            } else {\n                this.sortDescending = true;\n            }\n\n            this.sortBy = column;\n\n            this.redraw();\n        }\n\n        getComparator() {\n            if (!this.sortBy && this.columnSortingOrder.length === 0) {\n                return null;\n            }\n\n            const colCmp = (a, b, col) => {\n                if (!col) return 0;\n\n                let keyA = col.rawValue ? col.rawValue(a) : col.value(a);\n                let keyB = col.rawValue ? col.rawValue(b) : col.value(b);\n                return col.cmp(keyA, keyB);\n            };\n\n            return (a, b) => {\n                let cmpRes;\n\n                if (this.sortBy) {\n                    cmpRes = colCmp(a, b, this.sortBy);\n                    if (cmpRes !== 0) {\n                        return (this.sortDescending ? -cmpRes : cmpRes);\n                    }\n                }\n\n                for (let i = 0; i < this.columnSortingOrder.length; i += 1) {\n                    cmpRes = colCmp(a, b, this.columnSortingOrder[i]);\n                    if (this.columnSortingOrder[i].sortDescending) {\n                        cmpRes = -cmpRes;\n                    }\n\n                    if (cmpRes !== 0) {\n                        return cmpRes;\n                    }\n                }\n                return 0;\n            }\n        }\n\n        sortEntries(entries) {\n            let sortedEntries = entries.slice();\n\n            if (this.getComparator()) {\n                sortedEntries.sort(this.getComparator());\n            }\n\n            return sortedEntries;\n        }\n\n        getEntries() {\n            return this.sortEntries(super.getEntries());\n        }\n\n        columnDefaults(column, index) {\n            super.columnDefaults(column, index);\n\n            if (!column.hasOwnProperty(\"cmp\")) {\n                column.cmp = defaultComparator;\n            }\n        }\n    }\n    return SortableTable;\n}\n\nlet SortableTable = SortableTableInterface(Table);\n\nexport {SortableTable, SortableTableInterface};\n","import {isPlainObject, isNumber} from \"../base/Utils\";\n\nexport class TimeUnit {\n    static CANONICAL = {};\n    static ALL = [];\n    static FIXED_DURATION = [];\n    static VARIABLE_DURATION = [];\n\n    constructor(name, baseUnit, multiplier, options = {}) {\n        this.name = name;\n        this.pluralName = name + \"s\";\n        this.baseUnit = baseUnit;\n        this.multiplier = multiplier;\n        this.milliseconds = ((baseUnit && baseUnit.getMilliseconds()) || 1) * multiplier;\n        this.variableMultiplier = options.variableMultiplier || false;\n        this.variableDuration = this.variableMultiplier || (baseUnit && baseUnit.isVariable());\n    }\n\n    static toTimeUnit(timeUnit) {\n        if (timeUnit instanceof TimeUnit) {\n            return timeUnit;\n        }\n        return this.CANONICAL[timeUnit];\n    }\n\n    valueOf() {\n        return this.milliseconds;\n    }\n\n    getName() {\n        return this.name;\n    }\n\n    getPluralName() {\n        return this.pluralName;\n    }\n\n    getMilliseconds() {\n        return this.milliseconds;\n    }\n\n    isVariable() {\n        return this.variableDuration;\n    }\n\n    hasVariableMultiplier() {\n        return this.variableMultiplier;\n    }\n\n    getDateValue(date) {\n\n    }\n\n    setDateValue(date, value) {\n    }\n}\n\nTimeUnit.MILLISECOND = new TimeUnit(\"millisecond\", null, 1);\nTimeUnit.SECOND = new TimeUnit(\"second\", TimeUnit.MILLISECOND, 1000);\nTimeUnit.MINUTE = new TimeUnit(\"minute\", TimeUnit.SECOND, 60);\nTimeUnit.HOUR = new TimeUnit(\"hour\", TimeUnit.MINUTE, 60);\nTimeUnit.DAY = new TimeUnit(\"day\", TimeUnit.HOUR, 24, {variableMultiplier: true});\nTimeUnit.WEEK = new TimeUnit(\"week\", TimeUnit.DAY, 7);\nTimeUnit.MONTH =  new TimeUnit(\"month\", TimeUnit.DAY, 30, {variableMultiplier: true});\nTimeUnit.QUARTER = new TimeUnit(\"quarter\", TimeUnit.MONTH, 3);\nTimeUnit.TRIMESTER = new TimeUnit(\"trimester\", TimeUnit.MONTH, 4);\nTimeUnit.SEMESTER = new TimeUnit(\"semester\", TimeUnit.MONTH, 6);\nTimeUnit.YEAR = new TimeUnit(\"year\", TimeUnit.DAY, 365, {variableMultiplier: true});\n\nTimeUnit.DAY.dateMethodSuffix = \"Date\";\nTimeUnit.MONTH.dateMethodSuffix = \"Month\";\nTimeUnit.YEAR.dateMethodSuffix = \"FullYear\";\n\nexport class Duration {\n    constructor(duration) {\n        if (duration instanceof self.Date) {\n            throw new Error(\"Can't automatically transform Date to Duration, use date.getTime() if you really want to\");\n        }\n        if (isNumber(duration)) {\n            this.milliseconds = duration;\n            return;\n        }\n        if (duration instanceof Duration) {\n            Object.assign(this, duration);\n            return;\n        }\n        if (isPlainObject(duration)) {\n            this.milliseconds = 0;\n            for (const key of Object.keys(duration)) {\n                let timeUnit = TimeUnit.CANONICAL[key];\n                if (!timeUnit) {\n                    throw Error(\"Unknown time unit:\", key);\n                }\n                // TODO: throw an error if can't parse these values\n                if (timeUnit.isVariable()) {\n                    this[key] = parseInt(duration[key]);\n                    this.relativeDuration = true;\n                } else {\n                    this.milliseconds += parseFloat(duration[key]) * timeUnit.milliseconds;\n                }\n            }\n            return;\n        }\n        if (arguments.length > 0) {\n            throw Error(\"Invalid Duration arguments: \", ...arguments);\n        }\n        this.milliseconds = 0;\n    }\n\n    static toDuration(duration) {\n        if (duration instanceof Duration) {\n            return duration;\n        }\n        return new this(duration);\n    }\n\n    increment(duration) {\n        duration = this.constructor.toDuration(duration);\n        for (const key in duration) {\n            if (!(key in TimeUnit.CANONICAL)) {\n                continue;\n            }\n            if (this.hasOwnProperty(key)) {\n                this[key] += duration[key];\n            } else {\n                this[key] = duration[key];\n            }\n        }\n        return this;\n    }\n\n    add(duration) {\n        return this.clone().increm(duration);\n    }\n\n    subtract(duration) {\n        duration = this.constructor.toDuration(duration).negate();\n        return this.add(duration);\n    }\n\n    // Returns true if was defined terms of absolute primitives (anything less than a day)\n    isAbsolute() {\n        return !this.isVariable();\n    }\n\n    isVariable() {\n        return this.relativeDuration;\n    }\n\n    negate() {\n        let duration = new Duration(this);\n        for (const key in duration) {\n            if (key in TimeUnit.CANONICAL) {\n                duration[key] = -duration[key];\n            }\n        }\n        return duration;\n    }\n\n    // Returns a new Duration with a positive length\n    abs() {\n        return new Duration(Math.abs(+this));\n    }\n\n    clone() {\n        return new Duration(this);\n    }\n\n    // The primitive value\n    valueOf() {\n        return this.milliseconds;\n    }\n\n    toNanoseconds() {\n        return Math.floor(+this * 1e6);\n    }\n\n    // TODO: for all these units, should have a way to get the float and int value\n    toMilliseconds() {\n        return Math.floor(+this);\n    }\n\n    getMilliseconds() {\n        return this.toMilliseconds() % 1000;\n    }\n\n    toSeconds() {\n        return Math.floor(+this / 1000);\n    }\n\n    getSeconds() {\n        return this.toSeconds() % 60;\n    }\n\n    toMinutes() {\n        return Math.floor(+this / (1000 * 60));\n    }\n\n    getMinutes() {\n        return this.toMinutes() % 60;\n    }\n\n    toHours() {\n        return Math.floor(+this / (1000 * 60 * 60));\n    }\n\n    getHours() {\n        return this.toHours() % 24;\n    }\n\n    toDays() {\n        return Math.floor(+this / (1000 * 60 * 60 * 24));\n    }\n\n    toMonths() {\n        return Math.floor(+this / (1000 * 60 * 60 * 24 * 30));\n    }\n\n    toYears() {\n        return Math.floor(+this / (1000 * 60 * 60 * 24 * 365));\n    }\n\n    toString(locale) {\n        // Humanize the duration (should work with localization)\n    }\n}\n\nexport function addCanonicalTimeUnit(key, timeUnit) {\n    TimeUnit.ALL.push(timeUnit);\n    if (timeUnit.isVariable()) {\n        TimeUnit.VARIABLE_DURATION.push(timeUnit);\n    } else {\n        TimeUnit.FIXED_DURATION.push(timeUnit);\n    }\n\n    TimeUnit.CANONICAL[timeUnit.name] = timeUnit;\n    if (timeUnit.pluralName) {\n        TimeUnit.CANONICAL[timeUnit.pluralName] = timeUnit;\n    }\n\n    const timeUnitsName = timeUnit.pluralName;\n\n    // TODO: not sure about this anymore\n    Duration[key] = new Duration({\n        [timeUnitsName]: 1,\n    });\n}\n\nexport function addCanonicalTimeUnits() {\n    for (const key in TimeUnit) {\n        const timeUnit = TimeUnit[key];\n        if (timeUnit instanceof TimeUnit) {\n            addCanonicalTimeUnit(key, timeUnit);\n        }\n    }\n}\n\naddCanonicalTimeUnits();\n","import {padNumber, suffixWithOrdinal, extendsNative, instantiateNative, isNumber} from \"../base/Utils\";\nimport {TimeUnit, Duration} from \"./Duration\";\n\n// MAX_UNIX_TIME is either ~Feb 2106 in unix seconds or ~Feb 1970 in unix milliseconds\n// Any value less than this is interpreted as a unix time in seconds\n// If you want to go around this behavious, you can use the static method .fromUnixMilliseconds()\n// To disable, set this value to 0\nexport let MAX_AUTO_UNIX_TIME = Math.pow(2, 32);\n\nconst BaseDate = self.Date;\n\n@extendsNative\nclass StemDate extends BaseDate {\n    // Still need to do this mess because of Babel, should be removed when moving to native ES6\n    static create(value) {\n        // Try to do an educated guess if this date is in unix seconds or milliseconds\n        if (arguments.length === 1 && isNumber(value) && value < MAX_AUTO_UNIX_TIME) {\n            return instantiateNative(BaseDate, StemDate, value * 1000.0);\n        } else {\n            return instantiateNative(BaseDate, StemDate, ...arguments);\n        }\n    }\n\n    static toDate(date) {\n        if (date instanceof StemDate) {\n            return date;\n        } else {\n            return new this(date);\n        }\n    }\n\n    static now() {\n        return new this(BaseDate.now());\n    }\n\n    toDate() {\n        return this;\n    }\n\n    static fromUnixMilliseconds(unixMilliseconds) {\n        return this.create(new BaseDate(unixMilliseconds));\n    }\n\n    static fromUnixSeconds(unixSecons) {\n        return this.fromUnixMilliseconds(unixSecons * 1000);\n    }\n\n    // Creates a Date object from an instance of DOMHighResTimeStamp, returned by performance.now() for instance\n    static fromHighResTimestamp(highResTimestamp) {\n        return this.fromUnixMilliseconds(highResTimestamp + self.performance.timing.navigationStart)\n    }\n\n    // You don't usually need to call this in most cases, constructor uses MAX_AUX_UNIX_TIME\n    static unix(unixTime) {\n        return this.fromUnixSeconds(unixTime);\n    }\n\n    set(date) {\n        date = this.constructor.toDate(date);\n        this.setTime(date.setTime());\n    }\n\n    clone() {\n        return new this.constructor(this.getTime());\n    }\n\n    toUnix() {\n        return this.getTime() / 1000;\n    }\n\n    unix() {\n        return Math.floor(this.toUnix());\n    }\n\n    isBefore(date) {\n        return this.getTime() < StemDate.toDate(date).getTime();\n    }\n\n    equals(date) {\n        return this.getTime() === StemDate.toDate(date).getTime();\n    }\n\n    get(timeUnit) {\n        timeUnit = TimeUnit.toTimeUnit(timeUnit);\n        return timeUnit.getDateValue(this);\n    }\n\n    isSame(date, timeUnit) {\n        if (!timeUnit) {\n            return this.equals(date);\n        }\n\n        timeUnit = TimeUnit.toTimeUnit(timeUnit);\n        date = this.constructor.toDate(date);\n        let diff = this.diff(date);\n        if (diff >= 2 * timeUnit) {\n            // If the distance between the two dates is more than 2 standard lengths of the time unit\n            // This would be wrong if you would have time unit that can sometimes last more than twice their canonical duration\n            // Works correctly for all implemented time units\n            return false;\n        }\n        return this.get(timeUnit) == date.get(timeUnit);\n    }\n\n    isAfter(date) {\n        return this.getTime() > StemDate.toDate(date).getTime();\n    }\n\n    isSameOrBefore(date) {\n        return this.isBefore(date) || this.equals(date);\n    }\n\n    isSameOrAfter(date) {\n        return this.isAfter(date) || this.equals(date);\n    }\n\n    isBetween(a, b) {\n        return this.isSameOrAfter(a) && this.isSameOrBefore(b);\n    }\n\n    getWeekDay() {\n        return this.getDay();\n    }\n\n    addUnit(timeUnit, count = 1) {\n        timeUnit = TimeUnit.toTimeUnit(timeUnit);\n        count = parseInt(count);\n\n        if (!timeUnit.isVariable()) {\n            this.setTime(this.getTime() + timeUnit.getMilliseconds() * count);\n            return this;\n        }\n\n        while (!timeUnit.dateMethodSuffix) {\n            count *= timeUnit.multiplier;\n            timeUnit = timeUnit.baseUnit;\n        }\n\n        const dateMethodSuffix = timeUnit.dateMethodSuffix;\n        const currentValue = this[\"get\" + dateMethodSuffix]();\n        this[\"set\" + dateMethodSuffix](currentValue + count);\n\n        return this;\n    }\n\n    static min() {\n        // TODO: simplify and remove code duplication\n        let result = this.constructor.toDate(arguments[0]);\n        for (let index = 1; index < arguments.length; index++) {\n            let candidate = this.constructor.toDate(arguments[index]);\n            if (candidate.isBefore(result)) {\n                result = candidate;\n            }\n        }\n        return result;\n    }\n\n    static max() {\n        let result = this.constructor.toDate(arguments[0]);\n        for (let index = 1; index < arguments.length; index++) {\n            let candidate = this.constructor.toDate(arguments[index]);\n            if (candidate.isAfter(result)) {\n                result = candidate;\n            }\n        }\n        return result;\n    }\n\n    // Assign the given date if current value if greater than it\n    capUp(date) {\n        date = this.constructor.toDate(date);\n        if (this.isAfter(date)) {\n            this.set(date);\n        }\n    }\n\n    // Assign the given date if current value if less than it\n    capDown(date) {\n        date = this.constructor.toDate(date);\n        if (this.isBefore(date)) {\n            this.set(date);\n        }\n    }\n\n    roundDown(timeUnit) {\n        timeUnit = TimeUnit.toTimeUnit(timeUnit);\n        // TODO: this is wrong for semester, etc, should be different then\n        while (timeUnit = timeUnit.baseUnit) {\n            this[\"set\" + timeUnit.dateMethodSuffix](0);\n        }\n        return this;\n    }\n\n    roundUp(timeUnit) {\n        const roundDown = this.clone().roundDown(timeUnit);\n        if (this.equals(roundDown)) {\n            this.set(roundDown);\n            return this;\n        }\n        this.addUnit(timeUnit);\n        return this.roundDown(timeUnit);\n    }\n\n\n    round(timeUnit) {\n        let roundUp = this.clone().roundUp(timeUnit);\n        let roundDown = this.clone().roundDown(timeUnit);\n        // At a tie, preffer to round up, that's where time's going\n        if (this.diff(roundUp) <= this.diff(roundDown)) {\n            this.setTime(roundUp.getTime());\n        } else {\n            this.setTime(roundDown.getTime());\n        }\n        return this;\n    }\n\n    add(duration) {\n        duration = Duration.toDuration(duration);\n        if (duration.isAbsolute()) {\n            this.setTime(this.getTime() + duration.toMilliseconds());\n            return this;\n        }\n        for (const key in duration) {\n            const timeUnit = TimeUnit.CANONICAL[key];\n            if (timeUnit) {\n                this.addUnit(timeUnit, duration[key]);\n            }\n        }\n        return this;\n    }\n\n    subtract(duration) {\n        duration = Duration.toDuration(duration).negate();\n        return this.add(duration);\n    }\n\n    diffDuration(date) {\n        return new Duration(this.diff(date));\n    }\n\n    // TODO: this should be a duration\n    diff(date) {\n        date = this.constructor.toDate(date);\n        return Math.abs(+this - date);\n    }\n\n    // Just to keep moment compatibility, until we actually implement locales\n    locale(loc) {\n        return this;\n    }\n\n    static splitToTokens(str) {\n        // TODO: \"[HH]HH\" will be split to [\"HH\", \"HH\"], so the escape does not solve the problem\n        let tokens = [];\n        let lastIsLetter = null;\n        let escapeByCurlyBracket = false;\n        let escapeBySquareBracket = false;\n        for (let i = 0; i < str.length; i++) {\n            let charCode = str.charCodeAt(i);\n            if (charCode === 125 && escapeByCurlyBracket) { // '}' ending the escape\n                escapeByCurlyBracket = false;\n                lastIsLetter = null;\n            } else if (charCode === 93 && escapeBySquareBracket) { // ']' ending the escape\n                escapeBySquareBracket = false;\n                lastIsLetter = null;\n            } else if (escapeByCurlyBracket || escapeBySquareBracket) { // The character is escaped no matter what it is\n                tokens[tokens.length - 1] += str[i];\n            } else if (charCode === 123) { // '{' starts a new escape\n                escapeByCurlyBracket = true;\n                tokens.push(\"\");\n            } else if (charCode === 91) { // '[' starts a new escape\n                escapeBySquareBracket = true;\n                tokens.push(\"\");\n            } else {\n                let isLetter = (65 <= charCode && charCode <= 90) || (97 <= charCode && charCode <= 122);\n                if (isLetter === lastIsLetter) {\n                    tokens[tokens.length - 1] += str[i];\n                } else {\n                    tokens.push(str[i]);\n                }\n                lastIsLetter = isLetter;\n            }\n        }\n        if (escapeByCurlyBracket || escapeBySquareBracket) {\n            console.warn(\"Unfinished escaped sequence!\");\n        }\n        return tokens;\n    }\n\n    evalToken(token) {\n        let func = this.constructor.tokenFormattersMap.get(token);\n        if (!func) {\n            return token;\n        }\n        return func(this);\n    }\n\n    format(str=\"ISO\") {\n        let tokens = this.constructor.splitToTokens(str);\n        tokens = tokens.map(token => this.evalToken(token));\n        return tokens.join(\"\");\n    }\n\n    isValid() {\n        return (this.toString() !== \"Invalid Date\");\n    }\n\n    utc() {\n        // Temp hack\n        return this.constructor.fromUnixMilliseconds(+this + this.getTimezoneOffset() * 60 * 1000);\n    }\n\n    isLeapYear() {\n        let year = this.getFullYear();\n        return (year % 4 == 0) && ((year % 100 != 0) || (year % 400 == 0));\n    }\n\n    daysInMonth() {\n        // The 0th day of the next months is actually the last day in the current month\n        let lastDayInMonth = new BaseDate(this.getFullYear(), this.getMonth() + 1, 0);\n        return lastDayInMonth.getDate();\n    }\n\n    getDaysCountPerMonth(index) {\n        const months = [31, 28 + this.isLeapYear(), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n        return months[index];\n    }\n\n    getDayInYear() {\n        const month = this.getMonth();\n        let totalDays = 0;\n        for (let i = 0; i < month; i += 1) {\n            totalDays += this.getDaysCountPerMonth(i);\n        }\n        return totalDays + this.getDate() - 1;\n    }\n\n    getWeekInYear() {\n        return (this.getDayInYear() - this.getWeekDay()) / 7;\n    }\n}\n\nDuration.prototype.format = function (pattern) {\n    return StemDate.fromUnixMilliseconds(this.toMilliseconds()).utc().format(pattern);\n};\n\nconst miniWeekDays = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\nconst shortWeekDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\nconst longWeekdays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\nconst shortMonths = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nconst longMonths = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\nclass DateLocale {\n    constructor(obj={}) {\n        Object.assign(this, obj);\n        this.formats = this.formats || {};\n    }\n\n    getFormat(longDate) {\n        return this.formats[longDate];\n    }\n\n    setFormat(pattern, func) {\n        this.formats[pattern] = func;\n    }\n\n    format(date, pattern) {\n        return date.format(pattern);\n    }\n\n    getRelativeTime() {\n        throw Error(\"Not implemented\");\n    }\n}\n\nStemDate.tokenFormattersMap = new Map([\n    [\"ISO\", date => date.toISOString()],\n\n    [\"Y\", date => date.getFullYear()],\n    [\"YY\", date => padNumber(date.getFullYear() % 100, 2)],\n    [\"YYYY\", date => date.getFullYear()],\n\n    [\"M\", date => (date.getMonth() + 1)],\n    [\"MM\", date => padNumber(date.getMonth() + 1, 2)],\n    [\"MMM\", date => shortMonths[date.getMonth()]],\n    [\"MMMM\", date => longMonths[date.getMonth()]],\n\n    [\"D\", date => date.getDate()],\n    [\"Do\", date => suffixWithOrdinal(date.getDate())],\n    [\"DD\", date => padNumber(date.getDate(), 2)],\n\n    [\"d\", date => date.getWeekDay()],\n    [\"do\", date => suffixWithOrdinal(date.getWeekDay())],\n    [\"dd\", date => miniWeekDays[date.getWeekDay()]],\n    [\"ddd\", date => shortWeekDays[date.getWeekDay()]],\n    [\"dddd\", date => longWeekdays[date.getWeekDay()]],\n\n    [\"H\", date => date.getHours()],\n    [\"HH\", date => padNumber(date.getHours(), 2)],\n    [\"h\", date => date.getHours() % 12],\n    [\"hh\", date => padNumber(date.getHours() % 12, 2)],\n\n    [\"m\", date => date.getMinutes()],\n    [\"mm\", date => padNumber(date.getMinutes(), 2)],\n\n    [\"s\", date => date.getSeconds()],\n    [\"ss\", date => padNumber(date.getSeconds(), 2)],\n\n    [\"S\", date => Math.floor(date.getMilliseconds() / 100)],\n    [\"SS\", date => padNumber(Math.floor(date.getMilliseconds() / 10), 2)],\n    [\"SSS\", date => padNumber(date.getMilliseconds(), 3)],\n    [\"ms\", date => padNumber(date.getMilliseconds(), 3)],\n\n    [\"LL\", date => date.format(\"MMMM Do, YYYY\")],\n]);\n\nlet Date = StemDate;\n\nexport {Date, StemDate};\n","import {StemDate} from \"./Date\";\nimport {TimeUnit} from \"./Duration\"\n\n// File meant to handle server time/client time differences\nlet ServerTime = {\n    now() {\n        return StemDate().subtract(this.getOffset());\n    },\n\n    getOffset() {\n        return this.offset;\n    },\n\n    set(date, onlyIfMissing=false) {\n        if (!onlyIfMissing || this.offset == null) {\n            this.offset = Date.now() - (new StemDate(date));\n        }\n    },\n\n    setPageLoadTime(unixTime, estimatedLatency=0) {\n        this.serverPageLoad = unixTime;\n        this.offset = performance.timing.responseStart - unixTime * 1000;\n    }\n};\n\n// TODO: should use +TimeUnit.DAY\nexport const DAY_IN_MILLISECONDS = 24 * 60 * 60 * 1000;\n\n// TODO: should have a generic method time1.isSame(\"x\", time);\nexport function isDifferentDay(timeA, timeB) {\n    // return !StemDate(timeA).same(TimeUnit.DAY, timeB);\n    timeA = StemDate(timeA);\n    timeB = StemDate(timeB);\n\n    // First check if difference is gre\n    if (timeA.diff(timeB) > +TimeUnit.DAY) {\n        return true;\n    }\n    // Check if different day of the month, when difference is less than a day\n    return (timeA.getDate() !== timeB.getDate());\n}\n\nexport {ServerTime};\n\nexport * from \"./Date\";\nexport * from \"./Duration\";\n","import {UI} from \"./UIBase\";\nimport {TextInput} from \"./input/Input\";\nimport {VolatileFloatingWindow} from \"./modal/FloatingWindow\";\nimport {VerticalSlideBar} from \"./UIPrimitives\";\nimport {StemDate, DAY_IN_MILLISECONDS} from \"../time/Time\";\n\nclass DatePickerTable extends UI.Element {\n\n}\n\nclass TimePickerWidget extends UI.Element {\n    render() {\n        let hours = parseInt(this.options.time / (60 * 60 * 1000));\n        let minutes = parseInt((this.options.time - 60 * 60 * 1000 * hours) / (60 * 1000));\n        let seconds = parseInt((this.options.time - 60 * 60 * 1000 * hours - 60 * 1000 * minutes) / (1000));\n        let textSpanStyle = {\n            display: \"inline-block\",\n            flex: 1,\n            textAlign: \"center\",\n            fontSize: \"1.5em\",\n            fontWeight: \"bold\",\n            padding: \"0 5px\"\n        };\n        return [\n            <div style={{width: \"130px\", display: \"flex\"}}>\n                <div style={textSpanStyle} ref=\"hours\" />\n                <div style={textSpanStyle}>:</div>\n                <div style={textSpanStyle} ref=\"minutes\" />\n                <div style={textSpanStyle}>:</div>\n                <div style={textSpanStyle} ref=\"seconds\" />\n            </div>,\n            <div style={{width: \"130px\", display: \"flex\"}}>\n                <VerticalSlideBar value={hours / 23} ref=\"hourSlider\" height={200} barHeight={5} style={{flex: 1}}/>\n                <div style={{flex: 1}}></div>\n                <VerticalSlideBar value={minutes / 59} ref=\"minuteSlider\" height={200} barHeight={5} style={{flex: 1}}/>\n                <div style={{flex: 1}}></div>\n                <VerticalSlideBar value={seconds / 59} ref=\"secondSlider\" height={200} barHeight={5} style={{flex: 1, marginRight: \"5px\"}}/>\n            </div>\n        ];\n    }\n\n    onMount() {\n        let changeCallback = () => {\n            let hours = parseInt(this.hourSlider.getValue() * 23);\n            let minutes = parseInt(this.minuteSlider.getValue() * 59);\n            let seconds = parseInt(this.secondSlider.getValue() * 59);\n            this.hours.node.innerHTML = (hours < 10 ? \"0\" : \"\") + hours;\n            this.minutes.node.innerHTML = (minutes < 10 ? \"0\" : \"\") + minutes;\n            this.seconds.node.innerHTML = (seconds < 10 ? \"0\" : \"\") + seconds;\n            let time = (hours * 60 * 60  + minutes * 60 + seconds) * 1000;\n            this.dispatch(\"changeTime\", time);\n        };\n        this.hourSlider.addListener(\"change\", changeCallback);\n        this.minuteSlider.addListener(\"change\", changeCallback);\n        this.secondSlider.addListener(\"change\", changeCallback);\n        changeCallback();\n    }\n}\n\nclass DateTimeWindow extends VolatileFloatingWindow {\n    setOptions(options) {\n        options.style = Object.assign({\n            marginBottom: \"5px\",\n            border: \"1px solid #bbb\",\n            borderRadius: \"2px\",\n            position: \"absolute\",\n            overflow: \"auto\",\n            boxShadow: \"0 6px 12px rgba(0,0,0,.175)\",\n            backgroundColor: \"white\",\n            padding: \"10px\",\n            zIndex: 10000\n        }, options.style || {});\n        super.setOptions(options);\n        this.computeInitial();\n    }\n\n    render() {\n        return [\n            <DatePickerTable ref=\"datePicker\" date={this.date} />,\n            <TimePickerWidget ref=\"timePicker\" time={this.time} />\n        ];\n    }\n\n    computeInitial() {\n        let initialDateTime = StemDate.parse(this.formatISO(this.options.initialDateTime)) || StemDate.now();\n        this.time = initialDateTime % DAY_IN_MILLISECONDS;\n        this.date = parseInt(initialDateTime / DAY_IN_MILLISECONDS);\n    }\n\n    formatISO(str) {\n        if (!str) {\n            return \"\";\n        }\n        while (str.indexOf(\"/\") !== -1) {\n            str = str.replace(\"/\", \" \");\n        }\n        while (str.indexOf(\":\") !== -1) {\n            str = str.replace(\":\", \" \");\n        }\n        let tokens = str.split(\" \");\n        return tokens[2] + \"-\" + tokens[1] + \"-\" + tokens[0] + \"T\" + tokens[3] + \":\" + tokens[4] + \":\" + tokens[5] + \".000Z\";\n    }\n\n    getValue() {\n        let currentDate = this.time + DAY_IN_MILLISECONDS * this.date;\n        currentDate = StemDate.create(currentDate);\n        let date = currentDate.toISOString();\n        date = date.slice(8, 10) + \"/\" + date.slice(5, 7) + \"/\" + date.slice(0, 4);\n        return date + \" \" + currentDate.toTimeString().slice(0, 8);\n    }\n\n    onMount() {\n        this.options.output.setValue(this.getValue());\n        this.datePicker.addListener(\"changeDate\", (date) => {\n            this.date = date;\n            this.options.output.setValue(this.getValue());\n        });\n        this.timePicker.addListener(\"changeTime\", (time) => {\n            this.time = time;\n            this.options.output.setValue(this.getValue());\n        });\n    }\n}\n\nclass DateTimePicker extends UI.Element {\n    setOptions(options) {\n        options.format = options.format || \"DD/MM/YYYY HH:mm:ss\";\n        super.setOptions(options);\n        if (this.options.date) {\n            this.setDate(this.options.date);\n        }\n    }\n\n    parseDateFromString(str, format) {\n        if (format !== \"DD/MM/YYYY HH:mm:ss\") {\n            throw Error(\"Format not supported!\");\n        }\n        // Just parsing DD/MM/YYYY HH:mm:ss for now\n        while (str.indexOf('/') !== -1) {\n            str = str.replace('/', ' ');\n        }\n        while (str.indexOf(':') !== -1) {\n            str = str.replace(':', ' ');\n        }\n        let tokens = str.split(' ');\n        let integerTokens = [];\n        for (let token of tokens) {\n            let number = parseFloat(token);\n            if (!isNaN(number)) {\n                integerTokens.push(number);\n            }\n        }\n        let years = (integerTokens.length >= 3 ? integerTokens[2] : 0);\n        let months = (integerTokens.length >= 2 ? integerTokens[1] - 1 : 0);\n        let days = (integerTokens.length >= 1 ? integerTokens[0] : 0);\n        let hours = (integerTokens.length >= 4 ? integerTokens[3] : 0);\n        let minutes = (integerTokens.length >= 5 ? integerTokens[4] : 0);\n        let seconds = (integerTokens.length >= 6 ? integerTokens[5] : 0);\n        let date = new StemDate(years, months, days, hours, minutes, seconds);\n        if (!date.getTime()) {\n            return null;\n        }\n        return date;\n    }\n\n    getDate() {\n        let str = this.textInput.getValue();\n        if (!str) {\n            return null;\n        }\n        let format = this.options.format;\n        return this.parseDateFromString(str, format);\n    }\n\n    setDate(date) {\n        this.options.date = date;\n        this.options.dateString = date.format(this.options.format);\n        if (this.textInput) {\n            this.textInput.setValue(this.options.dateString);\n        }\n    }\n\n    render() {\n        return [\n            <TextInput ref=\"textInput\" placeholder={this.options.format} value={this.options.dateString || \"\"} />,\n            /*<Button ref=\"calendarSpan\" faIcon=\"calendar\"/>*/\n        ]\n    }\n\n    // onMount() {\n    //     this.calendarSpan.addClickListener((event) => {\n    //         if (!this.dateTimeWindow) {\n    //             let textInputOffset = getOffset(this.textInput);\n    //             this.dateTimeWindow = DateTimeWindow.create(document.body, {\n    //                 style: {\n    //                     top: textInputOffset.top + 5 + this.textInput.getHeight() + \"px\",\n    //                     left: textInputOffset.left + 5 + \"px\"\n    //                 },\n    //                 initialDateTime: this.textInput.getValue(),\n    //                 output: this.textInput\n    //             });\n    //         } else {\n    //             this.dateTimeWindow.hide();\n    //             delete this.dateTimeWindow;\n    //         }\n    //         event.stopPropagation();\n    //     });\n    // }\n}\n\nexport {DateTimePicker};\n","export function enqueueIfNotLoaded(target, key, descriptor) {\n    const method = descriptor.value;\n    return Object.assign({}, descriptor, {\n        value: function() {\n            if (this.isLoaded()) {\n                return method.call(this, ...arguments);\n            } else {\n                this.enqueueMethodCall(method, arguments);\n                return null;\n            }\n        }\n    });\n}\n\n\nexport const EnqueueableMethodMixin = (BaseClass) => class EnqueueableMethodClass extends BaseClass {\n    isLoaded() {\n        throw Error(\"Not implemented!\");\n    }\n\n    enqueueMethodCall(method, args) {\n        this.methodCallQueue = this.methodCallQueue || [];\n        this.methodCallQueue.push([method, args]);\n    }\n\n    resolveQueuedMethods() {\n        if (!this.isLoaded()) {\n            throw Error(\"Cannot process scheduled jobs, element not loaded\");\n        }\n        for (let methodCall of this.methodCallQueue || []) {\n            methodCall[0].call(this, ...methodCall[1]);\n        }\n        delete this.methodCallQueue;\n    }\n};\n","// Wrapper over the Ace code editor, needs ace to be loaded\n// TODO: should be renamed to AceCodeEditor?\nimport {UI} from \"./UIBase\";\nimport {StyleSheet, styleRule} from \"./Style\";\nimport {registerStyle} from \"./style/Theme\";\nimport {EnqueueableMethodMixin, enqueueIfNotLoaded} from \"../base/EnqueueableMethodMixin\";\n\n\nclass CodeEditor extends EnqueueableMethodMixin(UI.Element) {\n    static requireAce(callback) {\n        throw Error(\"You need to implement requireAce\");\n    }\n\n    isLoaded() {\n        return !!this.getAce();\n    }\n\n    setOptions(options) {\n        let defaultOptions = {\n            aceMode: \"text\",\n            readOnly: false,\n            aceTheme: \"dawn\",\n            aceKeyboardHandler: \"ace\",\n            fontSize: 14,\n            tabSize: 4,\n            showLineNumber: true,\n            showPrintMargin: false,\n            printMarginSize: 80,\n        };\n        options = Object.assign(defaultOptions, options);\n\n        super.setOptions(options);\n\n        if (this.options.aceMode) {\n            this.options.aceMode = this.options.aceMode.toLowerCase();\n        }\n\n        if (this.options.aceMode === \"cpp\" || this.options.aceMode === \"c\") {\n            this.options.aceMode = \"c_cpp\";\n        }\n\n        if (this.getAce()) {\n            this.applyAceOptions();\n        }\n    }\n\n    redraw() {\n        if (this.getAce()) {\n            this.aceResize();\n            this.applyRef();\n            return;\n        }\n        super.redraw();\n    }\n\n    whenLoaded(callback) {\n        if (this.isLoaded()) {\n            callback();\n        } else {\n            this.addListenerOnce(\"aceReady\", callback);\n        }\n    }\n\n    onMount() {\n        // Sometimes when the parent div resizes the ace editor doesn't fully update.\n        this.addListener(\"resize\", () => {\n            this.aceResize();\n        });\n\n        this.addListener(\"change\", () => {\n            this.aceResize();\n        });\n\n        if (!window.ace) {\n            this.constructor.requireAce(() => {\n                this.onDelayedMount();\n            });\n            return;\n        }\n        this.onDelayedMount();\n    }\n\n    onDelayedMount() {\n        this.ace = window.ace.edit(this.node);\n\n        // Removes some warnings\n        this.getAce().$blockScrolling = Infinity;\n\n        this.resolveQueuedMethods();\n\n        this.applyAceOptions();\n\n        //#voodoo was here to automatically redraw when unhiding\n        //This Ace event listener might be useful in the future\n        this.getAce().renderer.$textLayer.addEventListener(\"changeCharacterSize\", (event) => {\n            this.aceResize();\n        });\n        this.dispatch(\"aceReady\");\n    }\n\n    getAce() {\n        return this.ace;\n    }\n\n    getValue() {\n        return this.getAce().getValue();\n    }\n\n    @enqueueIfNotLoaded\n    applyAceOptions() {\n        //set the language mode\n        this.setAceMode(this.options.aceMode);\n        this.setAceKeyboardHandler(this.options.aceKeyboardHandler);\n        this.setAceTheme(this.options.aceTheme);\n        this.setAceFontSize(this.options.fontSize);\n        this.setAceTabSize(this.options.tabSize);\n        this.setAceLineNumberVisible(this.options.showLineNumber);\n        this.setAcePrintMarginVisible(this.options.showPrintMargin);\n        this.setAcePrintMarginSize(this.options.printMarginSize);\n        this.setReadOnly(this.options.readOnly);\n        this.setUseWrapMode(this.options.lineWrapping || false);\n\n        if (this.options.numLines) {\n            this.options.maxLines = this.options.minLines = this.options.numLines;\n        }\n\n        if (this.options.maxLines) {\n            this.setAceOptions({\n                maxLines: this.options.maxLines\n            });\n        }\n\n        if (this.options.minLines) {\n            this.setAceOptions({\n                minLines: this.options.minLines\n            });\n        }\n\n        if (this.options.value) {\n            this.setValue(this.options.value, -1);\n        }\n        if (this.options.hasOwnProperty(\"enableBasicAutocompletion\") ||\n            this.options.hasOwnProperty(\"enableLiveAutocompletion\")) {\n            let langTools =\"/static/js/ext/ace/ext-language_tools.js\";\n            require([langTools], () => {\n                this.setBasicAutocompletion(this.options.enableBasicAutocompletion);\n                this.setLiveAutocompletion(this.options.enableLiveAutocompletion);\n                this.setSnippets(this.options.enableSnippets);\n            });\n        }\n    }\n\n    @enqueueIfNotLoaded\n    aceResize() {\n        this.getAce().resize();\n    }\n\n    @enqueueIfNotLoaded\n    setValue(sourceCode, fakeUserChange) {\n        // We need to wrap the ace call in these flags so any event listeners can know if this change\n        // was done by us or by the user\n        this.apiChange = !fakeUserChange;\n        this.getAce().setValue(sourceCode, -1);\n        this.apiChange = false;\n    }\n\n    @enqueueIfNotLoaded\n    setAceOptions(options) {\n        this.getAce().setOptions(options);\n    }\n\n    // TODO: should this be setEditable?\n    @enqueueIfNotLoaded\n    setReadOnly(value) {\n        this.getAce().setReadOnly(value);\n    };\n\n    @enqueueIfNotLoaded\n    setAceMode(aceMode) {\n        if (aceMode.hasOwnProperty(\"aceMode\")) {\n            aceMode = aceMode.aceMode;\n        }\n        this.getAce().getSession().setMode(\"ace/mode/\" + aceMode);\n    }\n\n    getAceKeyboardHandler() {\n        return this.getAce().$keybindingId;\n    }\n\n    @enqueueIfNotLoaded\n    setAceKeyboardHandler(keyboardHandler) {\n        if (keyboardHandler.hasOwnProperty(\"aceName\")) {\n            keyboardHandler = keyboardHandler.aceName;\n        }\n        this.getAce().setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n    }\n\n    getAceMode() {\n        return this.getAce().getSession().getMode();\n    }\n\n    @enqueueIfNotLoaded\n    setAceTheme(theme) {\n        if (theme.hasOwnProperty(\"aceName\")) {\n            theme = theme.aceName;\n        }\n        this.getAce().setTheme(\"ace/theme/\" + theme);\n    }\n\n    getAceTheme() {\n        return this.getAce().getTheme();\n    }\n\n    @enqueueIfNotLoaded\n    setAceFontSize(fontSize) {\n        this.getAce().setOptions({\n            fontSize: fontSize + \"px\"\n        });\n    }\n\n    getAceFontSize() {\n        return this.getAce().getFontSize();\n    }\n\n    @enqueueIfNotLoaded\n    setAceTabSize(tabSize) {\n        this.getAce().setOptions({\n            tabSize: tabSize\n        });\n    }\n\n    getAceTabSize() {\n        return this.getAce().getOption(\"tabSize\");\n    }\n\n    @enqueueIfNotLoaded\n    setAceLineNumberVisible(value) {\n        this.getAce().renderer.setShowGutter(value);\n    }\n\n    getAceLineNumberVisible() {\n        return this.getAce().renderer.getShowGutter();\n    }\n\n    @enqueueIfNotLoaded\n    setAcePrintMarginVisible(value) {\n        this.getAce().setShowPrintMargin(value);\n    }\n\n    getAcePrintMarginVisible() {\n        return this.getAce().getShowPrintMargin();\n    }\n\n    @enqueueIfNotLoaded\n    setAcePrintMarginSize(printMarginSize) {\n        this.getAce().setPrintMarginColumn(printMarginSize);\n    }\n\n    getAcePrintMarginSize() {\n        return this.getAce().getPrintMarginColumn();\n    }\n\n    @enqueueIfNotLoaded\n    setBasicAutocompletion(value) {\n        this.getAce().setOptions({\n            enableBasicAutocompletion: value\n        });\n    }\n\n    @enqueueIfNotLoaded\n    setLiveAutocompletion(value) {\n        this.getAce().setOptions({\n            enableLiveAutocompletion: value\n        });\n    }\n\n    @enqueueIfNotLoaded\n    setSnippets(value) {\n        this.getAce().setOptions({\n            enableSnippets: value\n        });\n    }\n\n    @enqueueIfNotLoaded\n    setAnnotations(annotations) {\n        this.getAce().getSession().setAnnotations(annotations);\n    }\n\n    @enqueueIfNotLoaded\n    setUseWrapMode(value) {\n        this.getAce().getSession().setUseWrapMode(value);\n    }\n\n    @enqueueIfNotLoaded\n    setIndentedSoftWrap(value) {\n        this.getAce().setOption(\"indentedSoftWrap\", value);\n    }\n\n    @enqueueIfNotLoaded\n    blockScroll() {\n        this.getAce().$blockScrolling = Infinity;\n    }\n\n    @enqueueIfNotLoaded\n    setFoldStyle(foldStyle) {\n        this.getAce().getSession().setFoldStyle(foldStyle);\n    }\n\n    @enqueueIfNotLoaded\n    setHighlightActiveLine(value) {\n        this.getAce().setHighlightActiveLine(value);\n    }\n\n    @enqueueIfNotLoaded\n    setHighlightGutterLine(value) {\n        this.getAce().setHighlightGutterLine(value);\n    }\n\n    @enqueueIfNotLoaded\n    setShowGutter(value) {\n        this.getAce().renderer.setShowGutter(value);\n    }\n\n    getScrollTop() {\n        return this.getAce().getSession().getScrollTop();\n    }\n\n    @enqueueIfNotLoaded\n    setScrollTop(value) {\n        this.getAce().getSession().setScrollTop(value);\n    }\n\n    @enqueueIfNotLoaded\n    addMarker(startLine, startCol, endLine, endCol, ...args) {\n        const Range = this.constructor.AceRange;\n        return this.getAce().getSession().addMarker(new Range(startLine, startCol, endLine, endCol), ...args);\n    }\n\n    @enqueueIfNotLoaded\n    removeMarker(marker) {\n        this.getAce().getSession().removeMarker(marker);\n    }\n\n    getRendererLineHeight() {\n        return this.getAce().renderer.lineHeight;\n    }\n\n    getTextRange(startLine, startCol, endLine, endCol) {\n        const Range = this.constructor.AceRange;\n        return this.getAce().getSession().doc.getTextRange(new Range(startLine, startCol, endLine, endCol));\n    }\n\n    @enqueueIfNotLoaded\n    setTextRange(startLine, startCol, endLine, endCol, text) {\n        const Range = this.constructor.AceRange;\n        this.getAce().getSession().replace(new Range(startLine, startCol, endLine, endCol), text);\n    }\n\n    @enqueueIfNotLoaded\n    removeLine(line) {\n        const Range = this.constructor.AceRange;\n        this.getAce().getSession().getDocument().remove(new Range(line, 0, line + 1, 0));\n    }\n\n    @enqueueIfNotLoaded\n    insertAtLine(line, str) {\n        let column = this.getAce().session.getLine(line - 1).length;\n        this.getAce().gotoLine(line, column);\n        this.insert(str);\n    }\n\n    @enqueueIfNotLoaded\n    replaceLine(line, str) {\n        const Range = this.constructor.AceRange;\n        this.getAce().getSession().getDocument().replace(new Range(line, 0, line + 1, 0), str);\n    }\n\n    @enqueueIfNotLoaded\n    addAceSessionEventListener(event, callback) {\n        this.getAce().getSession().addEventListener(event, callback);\n    }\n\n    @enqueueIfNotLoaded\n    addAceSessionChangeListener(callback) {\n        this.addAceSessionEventListener(\"change\", callback);\n    }\n\n    @enqueueIfNotLoaded\n    addAceChangeListener(callback) {\n        this.getAce().on(\"change\", callback);\n    }\n\n    @enqueueIfNotLoaded\n    addAceEventListener() {\n        this.getAce().addEventListener(...arguments);\n    }\n\n    @enqueueIfNotLoaded\n    focus() {\n        this.getAce().focus();\n    }\n\n    @enqueueIfNotLoaded\n    gotoEnd() {\n        let editor = this.getAce();\n        let editorRow = editor.session.getLength() - 1;\n        let editorColumn = editor.session.getLine(editorRow).length;\n        editor.gotoLine(editorRow + 1, editorColumn);\n    }\n\n    @enqueueIfNotLoaded\n    setUndoManager(undoManager) {\n        this.getAce().getSession().setUndoManager(undoManager);\n    }\n\n    @enqueueIfNotLoaded\n    setAceRendererOption(key, value) {\n        this.getAce().renderer.setOption(key, value);\n    }\n\n    // Inserts the text at the current cursor position\n    @enqueueIfNotLoaded\n    insert(text) {\n        this.getAce().insert(text);\n    }\n\n    // Appends the text at the end of the document\n    @enqueueIfNotLoaded\n    append(text) {\n        var lastRow = this.getAce().getSession().getLength() - 1;\n        if (lastRow < 0) {\n            lastRow = 0;\n        }\n        var lastRowLength = this.getAce().getSession().getLine(lastRow).length;\n        var scrolledToBottom = this.getAce().isRowFullyVisible(lastRow);\n        // console.log(\"Scroll to bottom \", scrolledToBottom);\n        this.getAce().getSession().insert({\n            row: lastRow,\n            column: lastRowLength\n        }, text);\n\n        this.aceResize();\n\n        if (scrolledToBottom) {\n            // TODO: Include scroll lock option!\n            // TODO: See if scrolling to bottom can be done better\n            // TODO: for some reason the scroll bar height is not being updated, this needs to be fixed\n            this.getAce().scrollToLine(this.getAce().getSession().getLength() - 1, true, true, function () {});\n        }\n    }\n\n    copyTextToClipboard() {\n        this.getAce().selectAll();\n        this.getAce().focus();\n        document.execCommand('copy');\n    }\n}\n\n\nclass StaticCodeHighlighterStyle extends StyleSheet {\n    @styleRule\n    hideActive = {\n        \" .ace_gutter-active-line\": {\n            display: \"none\",\n        },\n        \" .ace_active-line\": {\n            display: \"none\",\n        },\n        \" .ace_cursor\": {\n            display: \"none\",\n        }\n    }\n}\n\n\n@registerStyle(StaticCodeHighlighterStyle)\nclass StaticCodeHighlighter extends CodeEditor {\n    setOptions(options) {\n        options = Object.assign({\n            fontSize: 13,\n            readOnly: true,\n            lineWrapping: true,\n        }, options);\n        super.setOptions(options);\n    }\n\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.hideActive)\n    }\n}\n\nexport {CodeEditor, StaticCodeHighlighter};\n","import {UI, Image, Link, registerStyle, StyleSheet, styleRule} from \"UI\";\n\n\n\nconst getPathPrefix = () => window.location.hostname === \"localhost\" ? \"../../\" : \"dbribeapp/\";\n\nlet transitionDelay = .9;\n\nconst getTransitionDelay = () => {\n    transitionDelay += .1;\n    return transitionDelay;\n};\n\nclass ImportedSVG extends Image {\n    getDefaultOptions() {\n        return Object.assign({}, super.getDefaultOptions(), {\n            src: getPathPrefix() + \"static/svg/\" + this.getSVGName() + \".svg\",\n        });\n    }\n\n    getSVGName() {\n        return this.options.svgName;\n    }\n\n    extraNodeAttributes(attr) {\n        super.extraNodeAttributes(attr);\n        attr.setStyle({\n            opacity: 0,\n            transform: \"translateY(-69px)\",\n            backdropFilter: \"blur(10px)\",\n            transition: \"transform, opacity, backdrop-filter\",\n            transitionDuration: \"1s\",\n            transitionTimingFunction: \"ease\",\n            transitionDelay: getTransitionDelay() + \"s\",\n        });\n    }\n\n    onMount() {\n        super.onMount();\n        setTimeout(() => {\n            this.setStyle({\n                opacity: 1,\n                transform: \"translateY(0)\",\n                backdropFilter: \"blur(0)\",\n            });\n        });\n    }\n}\n\n\nclass LogoStyle extends StyleSheet {\n    @styleRule\n    logo = {\n        display: \"inline-block\",\n        margin: \"20px\",\n        height: \"80px\",\n        width: \"80px\",\n        transitionProperty: \"transform\",\n        transitionTimingFunction: \"ease\",\n        transform: \"translateY(0) scale(1)\",\n        transitionDuration: \".3s\",\n        \":hover\": {\n            transform: \"translateY(-8px) scale(1.1)\",\n        }\n    }\n}\n\n\n@registerStyle(LogoStyle)\nexport class Logo extends Link {\n    getDefaultOptions() {\n        return Object.assign({}, super.getDefaultOptions(), {\n            href: this.getHref(),\n            newTab: true,\n        });\n    }\n\n    extraNodeAttributes(attr) {\n        super.extraNodeAttributes(attr);\n        attr.addClass(this.styleSheet.logo);\n    }\n\n    render() {\n        return [<ImportedSVG svgName={this.getSVGName()}/>];\n    }\n}\n\n\nexport class MediumLogo extends Logo {\n    getSVGName() {return \"medium\";}\n\n    getHref() {return \"https://medium.com/@dbribe\";}\n}\n\n\nexport class FacebookLogo extends Logo {\n    getSVGName() {return \"facebook\";}\n\n    getHref() {return \"https://www.facebook.com/k1r496\";}\n}\n\n\nexport class GitHubLogo extends Logo {\n    getSVGName() {return \"github\";}\n\n    getHref() {return \"https://github.com/dbribe\";}\n}\n\n\nexport class InstagramLogo extends Logo {\n    getSVGName() {return \"instagram\";}\n\n    getHref() {return \"https://www.instagram.com/dbribe/\";}\n}\n\n\nexport class LinkedInLogo extends Logo {\n    getSVGName() {return \"linkedin\";}\n\n    getHref() {return \"https://www.linkedin.com/in/denis-mita/\";}\n}\n\n\nexport class PinterestLogo extends Logo {\n    getSVGName() {return \"pinterest\";}\n\n    getHref() {return \"https://www.pinterest.co.uk/skywalkerrr1996/\";}\n}\n\n\nexport class TwitterLogo extends Logo {\n    getSVGName() {return \"twitter\";}\n\n    getHref() {return \"https://twitter.com/d_bribe\";}\n}\n\n\nexport class YouTubeLogo extends Logo {\n    getSVGName() {return \"youtube\";}\n\n    getHref() {return \"https://www.youtube.com/channel/UC0k47b8_h6x2I7R5vMTLpMg?view_as=subscriber\";}\n}\n\n\nexport class Shadow extends ImportedSVG {\n    getSVGName() {return \"shadow\";}\n}\n\n\nexport class DBribe extends ImportedSVG {\n    getSVGName() {return \"dbribe\";}\n}","import {UI, Link, registerStyle, RawHTML} from \"UI\";\nimport {StyleSheet, styleRule} from \"UI\";\nimport {MediumLogo, FacebookLogo, InstagramLogo, GitHubLogo, LinkedInLogo, PinterestLogo, YouTubeLogo, TwitterLogo,\n    Shadow, DBribe} from \"./SVGComponents\";\n\n\nclass IndexPageStyle extends StyleSheet {\n    @styleRule\n    container = {\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n    };\n}\n\n\n@registerStyle(IndexPageStyle)\nexport class IndexPage extends UI.Element {\n    extraNodeAttributes(attr) {\n        attr.addClass(this.styleSheet.container);\n    }\n\n    render() {\n        return [\n            <div style={{flex: 1, width: \"-webkit-fill-available\", maxWidth: \"550px\", padding: \"30px\", paddingTop: 0}}>\n                <DBribe style={{display: \"block\", margin: \"10vh auto\", marginBottom: \"5vh\", width: \"100%\"}}/>\n            </div>,\n            <div style={{ minHeight: \"40vh\", margin: \"0 auto\", textAlign: \"center\"}}>\n                <YouTubeLogo/>\n                <LinkedInLogo/>\n                <FacebookLogo/>\n                <InstagramLogo/>\n                <TwitterLogo/>\n                <MediumLogo/>\n                <PinterestLogo/>\n                <GitHubLogo/>\n                <iframe src=\"http://localhost:8080/iframe\"></iframe>\n            </div>\n        ];\n    }\n}","import {UI, Route} from \"UI\";\nimport {IndexPage} from \"./IndexPage\";\nimport {BlogRoute} from \"BlogPanel\";\nimport {ForumRoute} from \"ForumPanel\";\n\nexport const MAIN_ROUTE = new Route(\"\", IndexPage, []);","import {UI} from \"ui/UI\";\nimport {MAIN_ROUTE} from \"./Routes\"\nimport {EstablishmentApp} from \"EstablishmentApp\";\nimport {Theme} from \"UI\";\n\nTheme.Global.setProperties({\n    NAV_MANAGER_NAVBAR_HEIGHT: 0,\n    COLOR_BACKGROUND: \"#fff\",\n    COLOR_BACKGROUND_BODY: \"#fff\",\n});\n\nexport class AppClass extends EstablishmentApp {\n    static registerWebsocketStreams() {}\n\n    getRoutes() {\n        return MAIN_ROUTE;\n    }\n}","import {Dispatchable} from \"../base/Dispatcher\";\n\nclass State extends Dispatchable {\n    constructor() {\n        super();\n        this.stores = new Map();\n        // A version of applyEvent that's binded to this\n        // TODO: applyEvent should use the @bind decorator\n        this.applyEventWrapper = (event) => {\n            this.applyEvent(event);\n        }\n    }\n\n    getStore(objectType) {\n        objectType = objectType && objectType.toLowerCase();\n        return this.stores.get(objectType);\n    }\n\n    getStoreForEvent(event) {\n        const objectType = event.objectType || event.store;\n        return this.getStore(objectType);\n    }\n\n    addStore(store) {\n        let objectType = store.objectType.toLowerCase();\n        if (!this.stores.has(objectType)) {\n            this.stores.set(objectType, store);\n        } else {\n            throw Error(\"GlobalState: Adding a store for an existing object type: \" + store.objectType);\n        }\n    }\n\n    applyEvent(event) {\n        if (event == null) {\n            return;\n        }\n        if (Array.isArray(event)) {\n            for (let individualEvent of event) {\n                this.applyEvent(individualEvent);\n            }\n            return;\n        }\n        if (event.state) {\n            this.importState(event.state);\n            // We can have events that only have a state\n            if (!this.getStoreForEvent(event)) {\n                return;\n            }\n        }\n        let store = this.getStoreForEvent(event);\n        if (store) {\n            return store.applyEvent(event);\n        } else {\n            console.log(\"GlobalState: Missing store for event: \", event);\n        }\n    }\n\n    get(objectType, objectId) {\n        let store = this.getStore(objectType);\n        if (store) {\n            let args = Array.prototype.slice.call(arguments, 1);\n            return store.get(...args);\n        } else {\n            console.error(\"GlobalState: Can't find store \", objectType);\n            return null;\n        }\n    }\n\n    // Import the store for objectType and remove it from stateMap\n    importStateFromTempMap(objectType, stateMap) {\n        let storeState = stateMap.get(objectType);\n        stateMap.delete(objectType);\n\n        let store = this.getStore(objectType);\n\n        if (!store) {\n            console.error(\"Failed to import state, can't find store \", objectType);\n            return;\n        }\n        for (let dependency of store.getDependencies()) {\n            this.importStateFromTempMap(dependency.toLowerCase(), stateMap);\n        }\n        store.importState(storeState);\n    }\n\n    // Imports the state information from a plain object\n    importState(state) {\n        if (Array.isArray(state)) {\n            for (let obj of state) {\n                this.importState(obj);\n            }\n            return;\n        }\n        // Import everything in a map and then do an implicit topological sort by dependencies\n        let stateMap = new Map();\n        for (let objectType in state) {\n            stateMap.set(objectType.toLowerCase(), state[objectType]);\n        }\n        while (stateMap.size > 0) {\n            let allKeys = stateMap.keys();\n            let objectType = allKeys.next().value;\n            this.importStateFromTempMap(objectType, stateMap);\n        }\n    }\n}\n\nlet GlobalState = new State();\n\n// When creating a store without an explicit state, this value should be assumes\n// Change it to null for instance of you don't want stores to be added to any state by default\nlet DefaultState = GlobalState;\n\nself.GlobalState = GlobalState;\n\nexport {State, GlobalState, DefaultState};\n"],"names":["PageTitleManager","prefix","updatePageTitle","defaultTitle","title","getPrefix","getTitle","document","getFullPageTitle","Error","setDefaultTitle","mapIterator","filterIterator","unwrapArray","elements","Array","isArray","Symbol","iterator","from","allProperElements","i","length","result","unwrappedElement","j","push","defaultComparator","a","b","isNumber","aStr","toString","bStr","suffixNumber","value","suffix","Number","setObjectPrototype","obj","Class","__proto__","prototype","isPlainObject","nodeType","constructor","Object","deepCopy","target","arguments","entries","key","clone","src","dashCase","str","rez","toLowerCase","uniqueId","objectWeakMap","WeakMap","constructorWeakMap","totalObjectCount","has","objConstructor","objIndex","get","set","objUniqueId","padNumber","num","minLength","strNum","String","getOrdinalSuffix","suffixes","lastDigit","isTeen","Math","floor","suffixWithOrdinal","instantiateNative","BaseClass","NewClass","args","extendsNative","targetClass","includes","allKeys","getOwnPropertySymbols","concat","getOwnPropertyNames","newClass","create","property","getOwnPropertyDescriptor","defineProperty","NOOP_FUNCTION","undefined","iter","func","CallModifier","wrap","UnorderedCallDropper","index","lastExecuted","callback","currentIndex","CallThrottler","options","lastCallTime","pendingCall","pendingCallArgs","pendingCallExpectedTime","numCalls","totalCallDuration","assign","throttle","ON_ANIMATION_FRAME","cancel","clearPendingCall","flush","timeNow","executionDelay","max","debounce","min","wrappedFunc","funcCall","funcCallArgs","isThrottleOnAnimationFrame","cancelHandler","requestAnimationFrame","cancelAnimationFrame","Date","now","computeExecutionDelay","dropThrottled","setTimeout","clearTimeout","replacePendingCall","originalFunc","updatePendingCall","AUTOMATIC","DispatcherHandle","dispatcher","console","warn","removeListener","remove","Dispatcher","listeners","error","callbackExists","handler","addListener","splice","payload","listener","DispatchersSymbol","Dispatchable","name","dispatchers","getDispatcher","dispatch","slice","call","CleanupJobs","map","x","addListenerOnce","runCleanupJobs","cleanupJob","hasOwnProperty","_cleanupJobs","add","cleanup","dispatcherHandle","Map","getAttachCleanupJobMethod","methodName","addCleanupJob","attachListener","attachEventListener","attachCreateListener","attachUpdateListener","attachDeleteListener","Global","RunOnce","timeout","jobs","job","indexOf","SingleActiveElementDispatcher","element","addChangeListener","forceDispatch","_active","newElement","defaultToPixelsAttributes","Set","CreateNodeAttributesMap","oldAttributesMap","allowedAttributesArray","allowedAttributesMap","attribute","reverseNameMap","domName","ClassNameSet","join","className","split","NodeAttributes","style","node","attributesMap","defaultAttributesMap","whitelistedAttributes","applyAttribute","keys","styleKey","setStyle","removeStyle","applyStyleToNode","classes","getClassArray","cls","getClassNameSet","classList","delete","attributeOptions","noValue","setAttribute","removeAttribute","addedAttributes","nodeAttributes","attributes","attr","attributeName","applyClassName","trim","applyDebugFlags","STEM_DEBUG","stemElement","UI","renderingStack","BaseUIElement","existingChild","getNodeType","ref","parent","onUnmount","removeRef","TextElement","nextSibling","createNode","applyRef","redraw","insertBefore","onMount","Node","TEXT_NODE","createTextNode","getValue","newValue","nodeValue","UIElement","children","setOptions","defaultOptions","getDefaultOptions","updateOptions","preservedOptions","getPreservedOptions","addListenersFromOptions","createElement","child","destroyNode","clearNode","newChild","copyState","childrenKeyMap","childKey","render","getChildrenToRender","pop","newChildren","getChildrenForRedraw","applyNodeAttributes","domNode","getElementKeyMap","prevChildNode","currentChildNode","firstChild","newChildKey","canOverwrite","overwriteChild","mount","newChildrenSet","returnCopy","getOptionsAsNodeAttributes","extraNodeAttributes","getNodeAttributes","apply","domAttributesMap","addClass","removeClass","hasClass","startsWith","eventType","substring","addListenerMethodName","handlerMethodName","event","arrayName","doRedraw","nextSiblingNode","Element","bindToNode","insertChildNodeBefore","position","nextChildNode","destroy","eraseChildAtIndex","erasedChild","removeChild","childElement","lastChild","body","contains","parameter","parseFloat","offsetWidth","offsetHeight","getWidthOrHeight","addEventListener","removeNodeListener","removeEventListener","addNodeListener","getStyleSheet","styleSheet","parentNode","uiElement","tag","primitiveMap","Primitive","baseClassPrimitiveMap","resultClass","Orientation","HORIZONTAL","VERTICAL","Direction","UP","LEFT","DOWN","RIGHT","Level","NONE","DEFAULT","INFO","PRIMARY","SECONDARY","SUCCESS","WARNING","DANGER","ERROR","Size","EXTRA_SMALL","SMALL","MEDIUM","LARGE","EXTRA_LARGE","ActionStatus","RUNNING","FAILED","getOffset","left","top","nodePosition","nodeStyle","offsetLeft","offsetTop","offsetParent","getComputedStyle","computedStyle","window","getPropertyValue","StyleInstance","selector","StyleElement","ALLOWED_SELECTOR_STARTS","DynamicStyleElement","getClassName","instanceCounter","selectorName","ownStyle","haveOwnStyle","isProperValue","firstChar","charAt","subStyle","getStyleInstances","unshift","getSelector","KeyframeElement","getKeyframeName","keyframeName","keyframe","getKeyframeInstance","isDescriptor","desc","decorate","handleDescriptor","entryArgs","createDefaultSetter","configurable","writable","enumerable","descriptor","initializer","ret","lazyInitialize","lazyInit","evaluateStyleRuleObject","getStyleRuleKey","getKeyframesRuleKey","styleRuleWithOptions","targetMethodName","styleRuleDecorator","objInitializer","inherit","parentDesc","getPrototypeOf","parentStyle","getKey","styleRule","styleRuleInherit","keyframesRule","keyframesRuleInherit","StyleSheet","head","getElementName","delayedMount","ensureMounted","getTheme","addStyleSheet","styleElement","styleElementOptions","theme","defaultValue","getProperty","_firstUpdate","ensureFirstUpdate","elementOptions","nameKey","styleInstances","styleInstance","appendChild","keyframes","styleElements","getProperties","singletonInstance","getInstance","log","elementNameCounter","ExclusiveClassSet","classInstance","Device","_isTouchDevice","navigator","MaxTouchPoints","msMaxTouchPoints","mobileDevices","_isMobileDevice","device","userAgent","touches","touch","identifier","getEventTouchIdentifier","find","axis","reference","coordName","getEventTouch","originalEvent","getEventCoord","opr","addons","opera","InstallTrigger","HTMLElement","documentMode","StyleMedia","chrome","webstore","eventName","cachedSupportedValues","onEventName","isSupported","Draggable","_clickCallbacks","_clickDragListeners","callbackWrapper","_okForClick","clickDragListener","onStart","dragForClickStarted","onDrag","dragForClick","addDragListener","removeDragListener","listenerWrapper","onWrapperDrag","eventX","getEventX","eventY","getEventY","deltaX","_lastX","deltaY","_lastY","onWrapperStart","onWrapperEnd","onEnd","touchEventIdentifier","preventDefault","createDragListenerWrapper","touchListenerWrapper","createTouchDragListenerWrapper","_dragListeners","COLORS_BY_NAME","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","Color","color","setColor","parseColor","rgba","getRgba","values","hex3","match","parseInt","hex6","substr","rgb","firstColor","secondColor","t","firstColorArray","secondColorArray","convertToRgba","opacity","colorArray","lighten","amount","interpolate","darken","root","pow","enhance","isLight","buildColors","dark","colors","darkenPercents","ColorGenerator","FIRST_COLORS","cache","getRandomColor","allowed","random","getInstanceForObject","Theme","styleSheetSymbol","classSet","styleSheetSet","properties","updateThrottler","updateThrottled","updateStyleSheets","update","getAllStyleSheets","register","setProperties","styleSheetGetter","registerStyle","styleClass","GlobalStyle","getTextColor","backgroundColor","COLOR_BACKGROUND","COLOR_BACKGROUND_ALTERNATIVE","COLOR_BACKGROUND_BODY","COLOR_FOREGROUND_BODY","COLOR_BACKGROUND_BADGE","COLOR_PRIMARY","COLOR_SECONDARY","COLOR_SUCCESS","COLOR_INFO","COLOR_WARNING","COLOR_DANGER","COLOR_LINK","FONT_SIZE_EXTRA_SMALL","FONT_SIZE_SMALL","FONT_SIZE_DEFAULT","FONT_SIZE_LARGE","FONT_SIZE_EXTRA_LARGE","BASE_BORDER_RADIUS","BASE_BOX_SHADOW","BASE_BORDER_WIDTH","BASE_BORDER_STYLE","BASE_BORDER_COLOR","BUTTON_BORDER_RADIUS","CARD_PANEL_HEADER_HEIGHT","CARD_PANEL_HEADER_HEIGHT_LARGE","CARD_PANEL_HEADING_PADDING","CARD_PANEL_HEADING_PADDING_LARGE","CARD_PANEL_TEXT_TRANSFORM","DARK_BOX_SHADOW","ROW_LIST_ROW_HEIGHT","ROW_LIST_ROW_HEIGHT_LARGE","ROW_LIST_ROW_PADDING","ROW_LIST_ROW_PADDING_LARGE","ROW_LIST_ROW_BORDER_WIDTH","FONT_FAMILY_SANS_SERIF","FONT_FAMILY_SERIF","FONT_FAMILY_MONOSPACE","FONT_FAMILY_DEFAULT","NAV_MANAGER_NAVBAR_HEIGHT","NAV_MANAGER_BOX_SHADOW_NAVBAR","NAV_MANAGER_BOX_SHADOW_SIDE_PANEL","MAIN_CONTAINER_EXTRA_PADDING_TOP_DESKTOP","MAIN_CONTAINER_EXTRA_PADDING_TOP_MOBILE","MAIN_CONTAINER_EXTRA_PADDING_BOTTOM_DESKTOP","MAIN_CONTAINER_EXTRA_PADDING_BOTTOM_MOBILE","FLAT_TAB_AREA_COLOR_BACKGROUND","FLAT_TAB_AREA_LINE_HEIGHT","FLAT_TAB_AREA_PADDING_SIDES","BasicLevelSizeStyleSheet","level","type","size","BasicLevelStyleSheet","colorToStyleFunction","textColor","colorStyleRule","themeProperties","FlexContainerStyle","orientation","display","marginLeft","flex","flexDirection","marginTop","ContainerStyle","mobilePixels","desktopPercent","margin","isMobileDevice","getSizeStyle","Utils","extraTop","height","width","FlexContainer","Container","SimpleStyledElement","getLevel","getSize","IconableInterface","beforeChildren","getLabel","label","faIcon","getFaIcon","iconOptions","marginRight","labelColorToStyle","darker","textDecoration","regular","borderColor","LabelStyle","fontWeight","border","padding","borderRadius","textAlign","whiteSpace","verticalAlign","lineHeight","touchAction","cursor","fontSize","borderWidth","Label","badgeColorToStyle","BadgeStyle","Badge","progressBarColorToStyle","ProgressBarStyle","marginBottom","overflow","boxShadow","float","transition","fontColor","backgroundImage","backgroundSize","animation","ProgressBar","container","valueInPercent","barStyle","barOptions","disableTransition","striped","active","Panel","SlideBar","barSize","getOrientation","getProgressBarStyle","getSliderStyle","progressBar","slider","getOrientationAttribute","getSliderValue","getDragConfig","HorizontalSlideBar","barWidth","setValue","VerticalSlideBar","barHeight","Link","newTab","Image","RawHTML","innerHTML","__innerHTML","getInnerHTML","ViewportMeta","scale","getDesiredScale","initialScale","maximumScale","MIN_WIDTH","minDeviceWidth","screen","availWidth","getContent","desiredScale","maybeUpdate","TemporaryMessageArea","textElement","message","displayDuration","clear","clearValueTimeout","ScrollableMixin","scrollHeight","clientHeight","scrollTop","getExcessTop","getDesiredExcessHeightTop","getExcessBottom","getDesiredExcessHeightBottom","haveExcessTop","popChildTop","haveExcessBottom","popChildBottom","removeExcessBottom","insertChild","removeExcessTop","maxScrollTop","scrollInfo","scrollAtTop","scrollAtBottom","scrollToHeight","InfiniteScrollable","entryComparator","id","firstRenderedEntry","lastRenderedEntry","staticTop","entry","renderEntry","entryRenderer","insertEntry","TimePassedSpan","getTimeDeltaDisplay","timeStamp","timeDelta","timeUnitsInSeconds","timeUnits","_updateListener","addIntervalListener","updateFunction","TIME_DISPATCHER","setInterval","InputStyle","outline","InputableElement","inputElement","Input","getInputType","SubmitInput","TextInput","NumberInput","val","EmailInput","PasswordInput","FileInput","files","getFiles","formData","FormData","file","append","CheckboxInput","checkboxInput","checked","RadioInput","TextArea","readOnly","Select","givenOptions","selectOptions","selected","select","selectedIndex","getIndex","setIndex","FormStyle","separatedLineInputStyle","maxWidth","paddingRight","Form","form","FormGroup","formGroup","errorMessage","errorField","textContent","hasError","getErrorField","FormField","inline","formField","sameLine","separatedLine","contentFirst","MozStyleElements","SVGNodeAttributes","transform","translate","fixMozAttributes","SVG","createElementNS","point","svgNode","ownerSVGElement","createSVGPoint","svgPoint","y","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","getScreenCoordinatedForPoint","state","scrollLeft","pos","bottom","right","getBBox","parentElement","newOpacity","getSvg","Text","text","dy","textAnchor","selectable","setX","setY","fillOnly","EPS","isZero","epsilon","abs","equal","val1","val2","crossProduct","p1","p2","p0","polarToCartesian","angle","radius","orig","cos","sin","SVGRoot","RawSVG","Group","Defs","ClipPath","Path","d","getPath","newPath","getTotalLength","len","getPointAtLength","totalLength","getLength","p3","alpha","atan2","PI","Circle","center","r","cx","cy","pathString","Stop","RadialGradient","LinearGradient","Ellipse","CircleArc","startAngle","endAngle","angleDiff","startPoint","math","endPoint","sweepFlag","largeArcFlag","Rect","Line","fill","stroke","x1","y1","x2","y2","Polygon","points","getPolygonPath","setPath","Transition","context","duration","startTime","dependsOn","speedFactor","isStopped","stopped","setStartTime","functionWrapper","pauseTime","nextStep","getEndTime","time","ratio","restart","stop","lastT","getFraction","Modifier","reverseFunc","TransitionList","transitions","forceFinish","pause","resume","onNewFrame","finished","stk","canAdvance","setSpeedFactor","sortByEndTime","endTime","transitionEndTime","sort","hasDependencyOn","sortByStartTime","forceStart","startPercent","animationFrameId","paused","AnimatedSVG","animationWrapper","repeat","blinkTransition","config","times","executeLastStep","interval","changeOpacityTransition","setOpacity","changeColorTransition","getColor","moveTransition","coords","setPosition","changeFillTransition","Switcher","childMap","numRedraws","fullHeight","preserveScroll","overwriteElements","activeChild","existingElements","newElements","keyMap","lazyRender","getChildProperties","isUpToDate","updateChild","updateActiveChild","isMounted","redrawIndex","doMount","setActive","childProperties","deactivateChild","activateChild","isInDocument","Router","getRoutes","clearCache","routes","pageTitle","urlParts","getPage","getPageNotFound","page","getPageToRender","activePage","getActive","setTitle","setGlobalRouter","path","location","pathname","filter","url","replaceHistory","joinURLParts","historyArgs","history","replaceState","pushState","updateURL","setURL","parseURL","router","onpopstate","Route","expr","pageGenerator","subroutes","cachedPages","subroute","isArg","ARG_KEY","argsArray","serializedArgs","generatorArgs","myPageTitle","getPageTitle","matchesOwnNode","generatePage","matches","TerminalRoute","translationMap","TranslationElements","TranslationTextElement","strings","evaluateSprintf","evaluate","T","HorizontalOverflowStyle","baseColor","arrowColor","arrowBackground","arrowHoverColor","arrowHoverBackground","transitionTime","arrow","zIndex","alignItems","borderRight","borderLeft","BaseTabAreaStyle","userSelect","listStyle","DefaultTabAreaStyle","paddingLeft","borderBottomColor","borderBottom","MinimalistTabAreaStyle","paddingTop","paddingBottom","FlatTabAreaStyle","letterSpacing","FlatTabAreaHorizontalOverflowStyle","BasicTabTitle","tab","activeTab","existingElement","babelHelpers.get","panel","activeTabDispatcher","getPanel","addClickListener","TabTitleArea","TabArea","autoActive","panelClass","titleAreaClass","tabArea","tabHref","createTabPanel","tabTitle","tabPanel","titleArea","switcherArea","tabTitles","nav","tabPanels","switcherClass","switcher","activePanel","getTitleArea","getSwitcher","onSetActive","FAIcon","icon","getIcon","FACollapseIcon","collapsed","setCollapsed","FASortIcon","direction","HorizontalOverflow","swipePercent","horizontalOverflow","leftArrow","hiddenArrow","childrenContainer","pusherContainer","rightArrow","eraseChild","shouldOverflowRight","shouldOverflowLeft","elementRect","childRect","leftArrowHidden","getWidth","rightArrowHidden","containerNode","scrollWidth","swipeHelperChild","setWidth","swipeAnimation","checkForOverflow","scrollContent","handleEventAndHandlePositionChange","scrollContentRight","scrollContentLeft","FlatTabTitle","activeTabTitleDispatcher","FlatTabTitleArea","barLeft","activeOnRender","activeBar","tabWidth","bar","setActiveBar","activeBarAnimated","FlatTabArea","MultiMap","nKey","normalizeKey","nValue","normalizeValue","items","Headers","test","TypeError","polyfill","polyfillHeaders","global","URLSearchParams","decode","query","encode","replace","encodeURIComponent","decodeURIComponent","polyfillURLSearchParams","fileReaderReady","reader","Promise","resolve","reject","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","Body","bodyUsed","bodyInit","_bodyInit","_bodyText","Blob","isPrototypeOf","_bodyBlob","_bodyFormData","DataView","_bodyArrayBuffer","cloneBuffer","buffer","ArrayBuffer","isView","headers","rejected","setBodyUsed","then","view","Uint8Array","chars","fromCharCode","readArrayBufferAsText","JSON","parse","bytes","shift","byteLength","Request","input","method","normalizeMethod","headerArgs","referrer","referrerPolicy","mode","credentials","initialize","upcased","toUpperCase","methods","polyfillRequest","Response","status","ok","statusText","response","redirectStatuses","RangeError","polyfillResponse","parseHeaders","xhr","rawHeader","getAllResponseHeaders","rawHeaderLines","line","parts","getURLSearchParams","data","urlSearchParams","instance","composeURL","params","XHRPromise","request","XMLHttpRequest","promiseResolve","promiseReject","getResponseHeaders","responseText","responseInit","responseURL","dataType","ontimeout","open","withCredentials","responseType","forEach","setRequestHeader","send","getXHR","postprocessors","fetch","defaultPostprocessors","errorPostprocessors","defaultErrorPostprocessors","getPostprocessors","postprocessor","exception","onSuccess","onComplete","getErrorPostprocessors","onError","_chained","errorHandler","onResolve","onReject","getPromise","catch","abort","addXHRListener","jQueryCompatibilityPreprocessor","contentType","urlParams","arrayValue","preprocessors","defaultPreprocessors","preprocessor","success","complete","AjaxHandler","ajaxHandler","Ajax","parentHandler","baseOptions","getPreprocessors","getErrorHandler","post","inherited","FixedURLAjaxHandler","buttonColorToStyle","darker1","darker2","darker3","hoverDisabled","ButtonStyle","base","ButtonGroupStyle","pointerEvents","RadioButtonGroupStyle","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","Button","disabled","enabled","StateButton","statusOptions","statusLabel","enable","disable","stateOptions","AjaxButton","resetToDefaultTimeout","stateResetTimeout","clearResetTimeout","setState","ajaxPromise","getAjaxHandler","scheduleStateReset","ajax","ButtonGroup","RadioButtonGroup","buttons","oldIndex","oldValue","cardPanelColorToStyle","CardPanelStyle","minHeight","textTransform","cardPanelHeaderColorToStyle","borderStyle","justifyContent","CardPanelHeaderStyle","CardPanel","headingCentered","bodyCentered","headingClasses","getHeaderStyleSheet","headingLevel","centered","bodyClasses","getHeadingClasses","getBodyClasses","bodyStyle","RowListStyle","borderTopWidth","borderTopStyle","borderTopColor","RowList","rowList","alternateColors","rowClasses","alternativeColorsOddRow","noAlternativeColors","rows","rowParser","row","getRowClasses","CollapsibleStyle","transitionDuration","transitionTimingFunction","transitionProperty","transitionDelay","CollapsiblePanelStyle","fontFamily","content","CollapsibleMixin","CollapsibleClass","CollapsibleElement","collapsibleStyleSheet","collapsibleStyle","getCollapsibleStyleSheet","collapsing","transitionEndFunction","CollapsiblePanel","expand","collapse","contentArea","toggleButton","collapsedButton","setChildren","collapsedPanelClass","collapsedHeadingClass","hiddenClass","contentStyle","noPadding","heading","button","toggle","DelayedCollapsiblePanel","_haveExpanded","getDelayedChildren","FloatingWindowStyle","visibility","ModalStyle","background","borderTop","FloatingWindow","visibleAnimated","hiddenAnimated","fadeIn","fadeOut","VolatileFloatingWindow","hideListener","hide","show","bindWindowListeners","notVisible","stopPropagation","Modal","closeButton","destroyOnHide","visible","getModalWindow","getModalWindowStyle","fillScreen","maxHeight","isVisible","modalWindow","behindPanel","modalContainer","detachListener","closeListenerHandler","modal","ActionModal","actionName","closeName","header","getHeader","getBody","getFooter","footer","getActionName","getActionLevel","action","getCloseName","getActionButton","ErrorModal","GlobalContainerStyle","updateOnResize","innerHeight","GlobalContainer","default","isTouchDevice","Divider","dragMousedown","divider","domEvent","dragMousemoveFunction","dragMousemove","dragMouseupFunction","dragMouseup","touchDeviceTriggered","dividerMousedownFunction","DividerStyle","AccordionStyle","flexGrow","flexShrink","flexBasis","SectionDividerStyle","barThickness","barPadding","dividerColor","backgroundClip","TitledDividerStyle","dividerStyle","DividerBar","noTextSelection","verticalDivider","horizontalDivider","SectionDivider","autoCollapse","uncollapsedSizes","verticalSection","horizontalSection","getHeight","setHeight","minWidth","getDimension","panels","dividers","parentSize","childSize","unCollapsedCount","fixed","getVisibleDivider","setDimension","recalculateDimensions","getHiddenDivider","isCollapsed","expandChild","collapseChild","fixedTotalSize","unfixedTotalSize","dividerEvent","previousEvent","previousPanel","getPreviousUnfixedChild","nextPanel","getNextUnfixedChild","panelsSize","deltaFunction","mouseMoveListener","delta","nextSize","previousSize","getMinDimension","mouseUpListener","clearListeners","dividerMouseDownFunction","leftChildVisible","DividerBarClass","getDividerBarClass","TitledSectionDividerBar","verticalDots","arrowButton","horizontalDots","leftButton","rightButton","BarCollapsePanel","panelChild","getGivenChildren","barCollapsePanel","panelSize","hiddenContent","collapsedSize","isFirst","isLast","firstCaret","lastCaret","collapsedBarTitle","TitledSectionDivider","paddingRemoved","animatedSectionDivider","wrappedChild","AccordionDivider","grabbing","grab","collapseIcon","toggleCollapsed","Accordion","accordion","dragTriggered","panelsHeight","totalFlex","getPreviousVisibleChild","getNextVisibleChild","sign","toggleChild","toggleClass","childrenStatus","CarouselStyle","navigatorHeight","hoverColor","navigatorTransitionTime","CarouselNavigator","navigatorIcon","Carousel","carousel","setActiveIndex","activeIndex","pusher","RangePanelStyle","rowHeight","overflowY","EntriesManager","rawEntries","cacheEntries","cachedEntries","sortEntries","filterEntries","getRawEntries","low","high","getComparator","getFilter","comparator","TableStyle","cellStyle","theadCellStyle","borderSpacing","borderCollapse","SortableTableStyle","sortIcon","TableRow","rowCells","columns","column","renderEntryCell","Table","setColumns","table","renderTableHead","renderTableBody","renderHeaderCell","getEntries","RowClass","getRowClass","getEntryKey","getRowOptions","headerStyle","renderColumnHeader","headerName","columnDefaults","TableRowInCollapsibleTable","CollapsibleTableStyle","collapsibleTableStyle","CollapsibleTableRow","renderCollapsible","getInitialCollapsedContent","DelayedCollapsibleTableRow","redrawCollapsible","CollapsibleTableInterface","BaseTableClass","toggleColumn","rowClass","CollapsibleTable","SortableTableInterface","SortIconClass","SortableTable","columnSortingOrder","sortByColumn","sortBy","sortDescending","colCmp","col","keyA","rawValue","keyB","cmp","cmpRes","sortedEntries","TimeUnit","baseUnit","multiplier","pluralName","milliseconds","getMilliseconds","variableMultiplier","variableDuration","isVariable","date","timeUnit","CANONICAL","ALL","FIXED_DURATION","VARIABLE_DURATION","MILLISECOND","SECOND","MINUTE","HOUR","DAY","WEEK","MONTH","QUARTER","TRIMESTER","SEMESTER","YEAR","dateMethodSuffix","Duration","self","relativeDuration","toDuration","increm","negate","toMilliseconds","toSeconds","toMinutes","toHours","locale","addCanonicalTimeUnit","timeUnitsName","addCanonicalTimeUnits","MAX_AUTO_UNIX_TIME","BaseDate","StemDate","toDate","setTime","getTime","toUnix","toTimeUnit","getDateValue","equals","diff","isBefore","isAfter","isSameOrAfter","isSameOrBefore","getDay","count","currentValue","roundDown","addUnit","roundUp","isAbsolute","loc","token","tokenFormattersMap","tokens","splitToTokens","evalToken","fromUnixMilliseconds","getTimezoneOffset","year","getFullYear","lastDayInMonth","getMonth","getDate","months","isLeapYear","month","totalDays","getDaysCountPerMonth","getDayInYear","getWeekDay","unixMilliseconds","unixSecons","highResTimestamp","performance","timing","navigationStart","unixTime","fromUnixSeconds","candidate","lastIsLetter","escapeByCurlyBracket","escapeBySquareBracket","charCode","charCodeAt","isLetter","format","pattern","utc","miniWeekDays","shortWeekDays","longWeekdays","shortMonths","longMonths","DateLocale","formats","longDate","toISOString","getHours","getMinutes","getSeconds","DAY_IN_MILLISECONDS","DatePickerTable","TimePickerWidget","hours","minutes","seconds","textSpanStyle","changeCallback","hourSlider","minuteSlider","secondSlider","DateTimeWindow","computeInitial","initialDateTime","formatISO","currentDate","toTimeString","output","datePicker","timePicker","DateTimePicker","setDate","integerTokens","number","isNaN","years","days","textInput","parseDateFromString","dateString","enqueueIfNotLoaded","isLoaded","enqueueMethodCall","EnqueueableMethodMixin","methodCallQueue","methodCall","CodeEditor","getAce","aceMode","aceTheme","aceKeyboardHandler","tabSize","showLineNumber","showPrintMargin","printMarginSize","applyAceOptions","aceResize","ace","requireAce","onDelayedMount","edit","$blockScrolling","Infinity","resolveQueuedMethods","renderer","$textLayer","setAceMode","setAceKeyboardHandler","setAceTheme","setAceFontSize","setAceTabSize","setAceLineNumberVisible","setAcePrintMarginVisible","setAcePrintMarginSize","setReadOnly","setUseWrapMode","lineWrapping","numLines","maxLines","minLines","setAceOptions","langTools","require","setBasicAutocompletion","enableBasicAutocompletion","setLiveAutocompletion","enableLiveAutocompletion","setSnippets","enableSnippets","resize","sourceCode","fakeUserChange","apiChange","getSession","setMode","$keybindingId","keyboardHandler","aceName","setKeyboardHandler","getMode","setTheme","getFontSize","getOption","setShowGutter","getShowGutter","setShowPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","annotations","setAnnotations","setOption","foldStyle","setFoldStyle","setHighlightActiveLine","setHighlightGutterLine","getScrollTop","setScrollTop","startLine","startCol","endLine","endCol","Range","AceRange","addMarker","marker","removeMarker","doc","getTextRange","getDocument","session","getLine","gotoLine","insert","addAceSessionEventListener","on","focus","editor","editorRow","editorColumn","undoManager","setUndoManager","lastRow","lastRowLength","scrolledToBottom","isRowFullyVisible","scrollToLine","selectAll","execCommand","StaticCodeHighlighterStyle","StaticCodeHighlighter","hideActive","getPathPrefix","hostname","getTransitionDelay","ImportedSVG","getSVGName","svgName","backdropFilter","LogoStyle","Logo","href","getHref","logo","MediumLogo","FacebookLogo","GitHubLogo","InstagramLogo","LinkedInLogo","PinterestLogo","TwitterLogo","YouTubeLogo","Shadow","DBribe","IndexPageStyle","IndexPage","MAIN_ROUTE","AppClass","EstablishmentApp","State","stores","applyEventWrapper","applyEvent","objectType","store","getStore","individualEvent","importState","getStoreForEvent","objectId","stateMap","storeState","getDependencies","dependency","importStateFromTempMap","next","GlobalState","DefaultState"],"mappings":"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"}